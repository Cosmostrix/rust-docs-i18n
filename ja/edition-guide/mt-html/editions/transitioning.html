<!DOCTYPE html><html lang=ja-x-mtfrom-en><head><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="https://translate.googleusercontent.com/translate/releases/twsfe_w_20180723_RC00/r/js/translate_c.js"></script><script>_intlStrings._originalText = "英語の原文テキスト:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|ja";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="%1$s に %2$s により翻訳されました";_intlStrings._unknown="不明";_intlStrings._suggestTranslation="翻訳を改善する"  ;_intlStrings._submit="送信";_intlStrings._suggestThanks="Google 翻訳の改善にご協力いただきありがとうございました。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href=transitioning.html hreflang=en rel="alternate machine-translated-from"><base href="" target=_top /></head><body><iframe src="https://translate.google.com/translate_un?hl=ja&prev=_t&sl=en&tl=ja&lang=en&usg=ALkJrhi1BDLmdbWiRXYMNxkaJ7TdmUrvmA" width=0 height=0 frameborder=0 style="width:0px;height:0px;border:0px;display:none;"></iframe><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Transitioning your code to a new edition</span>コードを新しいエディションに移行する</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">New editions might change the way you write Rust -- they add new syntax, language, and library features but also remove features.</span>新しい版では、構文、言語、ライブラリの新しい機能を追加するだけでなく、機能を削除するというRustの書き方も変わるかもしれません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example, <code>async</code> / <code>await</code> are keywords in Rust 2018, but not Rust 2015. Despite this it&#39;s our intention that the migration to new editions is as smooth an experience as possible.</span>たとえば、 <code>async</code> / <code>await</code>はRust 2018のキーワードですが、Rust 2015はありません。これにもかかわらず、新しいエディションへの移行は可能な限りスムーズな体験です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It&#39;s considered a bug if it&#39;s difficult to upgrade your crate to a new edition.</span>あなたのクレートを新しいエディションにアップグレードすることが難しい場合は、バグとみなされます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you have a difficult time then a bug should be filed with Rust itself.</span>あなたが困難な場合は、バグをRust自身に提出する必要があります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Transitioning between editions is built around compiler lints.</span>エディション間の移行は、コンパイラlintsの周りに構築されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Fundamentally, the process works like this:</span>基本的に、プロセスは次のように動作します。</span> </p><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Turn on lints to indicate where code is incompatible with a new edition</span> lintをオンにして、コードが新しいエディションと互換性がない場所を示します</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Get your code compiling with no warnings.</span>警告なしでコードをコンパイルしてください。</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Opt in to the new edition, the code should compile.</span>新しい版にオプトインすると、コードがコンパイルされるはずです。</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Optionally, enable lints about <i>idiomatic</i> code in the new edition.</span>オプションで、新版の<i>慣用</i>コードに関するlintsを有効にします。</span> </div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Luckily, we&#39;ve been working on Cargo to help assist with this process, culminating in a new built-in subcommand <code>cargo fix</code> .</span>幸いにも、私たちはこのプロセスを支援するために貨物に取り組んできました。新しいサブコマンド<code>cargo fix</code>完成しました。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It can take suggestions from the compiler and automatically re-write your code to comply with new features and idioms, drastically reducing the number of warnings you need to fix manually!</span>コンパイラからの提案を受け取り、新しい機能やイディオムに準拠するようにコードを自動的に書き直し、手動で修正する必要がある警告の数を大幅に減らすことができます。</span> </p><br><blockquote><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>cargo fix</code> is still quite young, and very much a work in development.</span> <code>cargo fix</code>はまだかなり若く、非常に多くの開発作業です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">But it works for the basics!</span>しかし、それは基本のために働く！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We&#39;re working hard on making it better and more robust, but please bear with us for now.</span>私たちはそれをより頑強にすることに熱心に取り組んでいますが、今は私たちと一緒にご負担ください。</span> </p></blockquote><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The preview period</span>プレビュー期間</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Before an edition is released, it will have a &quot;preview&quot; phase which lets you try out the new edition in nightly Rust before its release.</span>エディションがリリースされる前に、リリース前の夜間のRustで新しいエディションを試すことができる「プレビュー」フェーズがあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Currently Rust 2018 is in its preview phase and because of this, there&#39;s an extra step you need to take to opt in. Add this feature flag to your <code>lib.rs</code> or <code>main.rs</code> :</span>現在、Rust 2018はプレビュー段階にあります。このため、オプトインするために必要なステップがあります。この機能フラグを<code>lib.rs</code>または<code>main.rs</code>追加してください：</span> </p><br><div data-lang=rust><div data-l=#![feature(rust_2018_preview)]></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This will enable the unstable features listed in the <a href=#3status>feature status</a> page.</span>これにより、 <a href=#3status>機能ステータス</a>ページに記載されている不安定な機能が有効になります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that some features require a miniumum of Rust 2018 and these features will require a Cargo.toml change to enable (described in the sections below).</span>いくつかの機能はRust 2018の最小値を必要とすることに注意してください。これらの機能には、Cargo.tomlの変更が必要です（以下のセクションで説明します）。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Also note that during the time the preview is available, we may continue to add/enable new features with this flag!</span>また、プレビューが利用可能な間は、このフラグを使用して新しい機能を追加/有効にすることがあります。</span> </p><br> <a class=notranslate href=#12018/status.html>status</a> <br> <h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Fix edition compatibility warnings</span>修正プログラムの互換性の警告を修正</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Next up is to enable compiler warnings about code which is incompatible with the new 2018 edition.</span>次に、新しい2018版と互換性のないコードについてのコンパイラの警告を有効にします。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This is where the handy <code>cargo fix</code> tool comes into the picture.</span>これは、便利な<code>cargo fix</code>ツールが画像に入る場所です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To enable the compatibility lints for your project you run:</span>プロジェクトに互換性のあるlintを有効にするには：</span> </p><br><div data-lang=shell><div data-l="$ cargo +nightly fix --prepare-for 2018 --all-targets --all-features"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This will instruct Cargo to compile all targets in your project (libraries, binaries, tests, etc.) while enabling all Cargo features and prepare them for the 2018 edition.</span>これにより、Cargoにすべての貨物の機能を有効にしながら、プロジェクトのすべてのターゲット（ライブラリ、バイナリ、テストなど）をコンパイルし、2018年版用に準備するように指示します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Cargo will likely automatically fix a number of files, informing you as it goes along.</span> Cargoは複数のファイルを自動的に修正して、それが進むにつれてあなたに通知します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that this does not enable any new Rust 2018 features;</span>これにより、Rust 2018の新しい機能は有効になりません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">it only makes sure your code is compatible with Rust 2018.</span>あなたのコードはRust 2018と互換性があります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If Cargo can&#39;t automatically fix everything it&#39;ll print out the remaining warnings.</span> Cargoが自動的にすべてを修正できない場合は、残りの警告が表示されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Continue to run the above command until all warnings have been solved.</span>すべての警告が解決されるまで上記のコマンドを実行し続けます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can explore more about the <code>cargo fix</code> command with:</span> <code>cargo fix</code>コマンドの詳細については、次を参照してください。</span> </p><br><div data-lang=shell><div data-l="$ cargo +nightly fix --help"></div></div><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Switch to the next edition</span>次のエディションに切り替える</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Once you&#39;re happy with those changes, it&#39;s time to use the new edition.</span>これらの変更に満足したら、新しいエディションを使用するときです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Add this to your <code>Cargo.toml</code> :</span>これをあなたの<code>Cargo.toml</code>追加してください：</span> </p><br><div data-lang=toml><div data-l="cargo-features = [&quot;edition&quot;]"></div><div data-l=""></div><div data-l=[package]></div><div data-l="edition = '2018'"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">That <code>cargo-features</code> line should go at the very top;</span>その<code>cargo-features</code>ラインは一番上になければなりません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">and <code>edition</code> goes into the <code>[package]</code> section.</span> <code>edition</code>は<code>[package]</code>セクションに入ります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As mentioned above, right now this is a nightly-only feature of Cargo, so you need to enable it for things to work.</span>上記のように、今はこれが夜間のみの貨物の機能なので、機能させるためにはそれを有効にする必要があります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">At this point, your project should compile with a regular old <code>cargo +nightly build</code> .</span>この時点で、プロジェクトは通常の古い<code>cargo +nightly build</code>コンパイルする必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If it does not, this is a bug!</span>そうでなければ、これはバグです！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Please <a href=#3issue>file an issue</a> .</span> <a href=#3issue>問題を提出して</a>ください。</span> </p><br> <a class=notranslate href=#1https://github.com/rust-lang/rust/issues/new>issue</a> <br> <h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Writing idiomatic code in a new edition</span>新版に慣用コードを書く</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Your crate has now entered the 2018 edition of Rust, congrats!</span>あなたの箱は今2018年版のRustに入りました、おめでとうございます！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Recall though that Editions in Rust signify a shift in idioms over time.</span> RustのEditionsは時間の経過とともにイディオムの変化を示していることを思い出してください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">While much old code will continue to compile it might be written with different idioms today.</span>多くの古いコードはコンパイルを続けるが、今日は異なるイディオムで記述される可能性がある。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">An optional next step you can take is to update your code to be idiomatic within the new edition.</span>オプションの次のステップは、新しいエディションでコードを慣用的に更新することです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This is done with a different set of &quot;idiom lints&quot;.</span>これは &quot;イディオムリント&quot;の別のセットで行われます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To enable these lints add this to your <code>lib.rs</code> or <code>main.rs</code> :</span>これらのlintを有効にするには、これをあなたの<code>lib.rs</code>または<code>main.rs</code>追加してください：</span> </p><br><div data-lang=rust><div data-l=#![warn(rust_2018_idioms)]></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">and then execute:</span>実行します：</span> </p><br><div data-lang=shell><div data-l="$ cargo +nightly fix"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As before Cargo will automatically fix as much as it can, but you may also need to fix some warnings manually.</span>前と同じように、Cargoは可能な限り自動的に修正されますが、いくつかの警告を手動で修正する必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Once all warnings have been solved you&#39;re not only compiling with the 2018 edition but you&#39;re also already writing idiomatic 2018 code!</span>すべての警告が解決されたら、2018年版でコンパイルするだけでなく、すでに慣用的な2018年のコードを作成しています！</span> </p><script>_addload(function(){_setupIW('com');_csi('en','ja','transitioning.html');});</script>