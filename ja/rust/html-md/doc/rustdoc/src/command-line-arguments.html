<!DOCTYPE html>
<h1>Command-line arguments</h1>
<br>
<p>Here's the list of arguments you can pass to <code>rustdoc</code>:</p>
<br>
<h2><code>-h</code>/<code>--help</code>: help</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc -h"></div><div data-l="$ rustdoc --help"></div></div>
<br>
<p>This will show <code>rustdoc</code>'s built-in help, which largely consists of
a list of possible command-line flags.</p>
<br>
<p>Some of <code>rustdoc</code>'s flags are unstable; this page only shows stable
options, <code>--help</code> will show them all.</p>
<br>
<h2><code>-V</code>/<code>--version</code>: version information</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc -V"></div><div data-l="$ rustdoc --version"></div></div>
<br>
<p>This will show <code>rustdoc</code>'s version, which will look something
like this:</p>
<br>
<div data-lang="text"><div data-l="rustdoc 1.17.0 (56124baa9 2017-04-24)"></div></div>
<br>
<h2><code>-v</code>/<code>--verbose</code>: more verbose output</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc -v src/lib.rs"></div><div data-l="$ rustdoc --verbose src/lib.rs"></div></div>
<br>
<p>This enables &quot;verbose mode&quot;, which means that more information will be written
to standard out. What is written depends on the other flags you've passed in.
For example, with <code>--version</code>:</p>
<br>
<div data-lang="text"><div data-l="$ rustdoc --verbose --version"></div><div data-l="rustdoc 1.17.0 (56124baa9 2017-04-24)"></div><div data-l="binary: rustdoc"></div><div data-l="commit-hash: hash"></div><div data-l="commit-date: date"></div><div data-l="host: host-triple"></div><div data-l="release: 1.17.0"></div><div data-l="LLVM version: 3.9"></div></div>
<br>
<h2><code>-r</code>/<code>--input-format</code>: input format</h2>
<br>
<p>This flag is currently ignored; the idea is that <code>rustdoc</code> would support various
input formats, and you could specify them via this flag.</p>
<br>
<p>Rustdoc only supports Rust source code and Markdown input formats. If the
file ends in <code>.md</code> or <code>.markdown</code>, <code>rustdoc</code> treats it as a Markdown file.
Otherwise, it assumes that the input file is Rust.</p>
<br>
<br>
<h2><code>-w</code>/<code>--output-format</code>: output format</h2>
<br>
<p>This flag is currently ignored; the idea is that <code>rustdoc</code> would support
various output formats, and you could specify them via this flag.</p>
<br>
<p>Rustdoc only supports HTML output, and so this flag is redundant today.</p>
<br>
<h2><code>-o</code>/<code>--output</code>: output path</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs -o target\\doc"></div><div data-l="$ rustdoc src/lib.rs --output target\\doc"></div></div>
<br>
<p>By default, <code>rustdoc</code>'s output appears in a directory named <code>doc</code> in
the current working directory. With this flag, it will place all output
into the directory you specify.</p>
<br>
<br>
<h2><code>--crate-name</code>: controlling the name of the crate</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs --crate-name mycrate"></div></div>
<br>
<p>By default, <code>rustdoc</code> assumes that the name of your crate is the same name
as the <code>.rs</code> file. <code>--crate-name</code> lets you override this assumption with
whatever name you choose.</p>
<br>
<h2><code>-L</code>/<code>--library-path</code>: where to look for dependencies</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs -L target/debug/deps"></div><div data-l="$ rustdoc src/lib.rs --library-path target/debug/deps"></div></div>
<br>
<p>If your crate has dependencies, <code>rustdoc</code> needs to know where to find them.
Passing <code>--library-path</code> gives <code>rustdoc</code> a list of places to look for these
dependencies.</p>
<br>
<p>This flag takes any number of directories as its argument, and will use all of
them when searching.</p>
<br>
<br>
<h2><code>--cfg</code>: passing configuration flags</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs --cfg feature=&quot;foo&quot;"></div></div>
<br>
<p>This flag accepts the same values as <code>rustc --cfg</code>, and uses it to configure
compilation. The example above uses <code>feature</code>, but any of the <code>cfg</code> values
are acceptable.</p>
<br>
<h2><code>--extern</code>: specify a dependency's location</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs --extern lazy-static=/path/to/lazy-static"></div></div>
<br>
<p>Similar to <code>--library-path</code>, <code>--extern</code> is about specifying the location
of a dependency. <code>--library-path</code> provides directories to search in, <code>--extern</code>
instead lets you specify exactly which dependency is located where.</p>
<br>
<h2><code>-C</code>/<code>--codegen</code>: pass codegen options to rustc</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs -C target_feature=+avx"></div><div data-l="$ rustdoc src/lib.rs --codegen target_feature=+avx"></div><div data-l=""></div><div data-l="$ rustdoc --test src/lib.rs -C target_feature=+avx"></div><div data-l="$ rustdoc --test src/lib.rs --codegen target_feature=+avx"></div><div data-l=""></div><div data-l="$ rustdoc --test README.md -C target_feature=+avx"></div><div data-l="$ rustdoc --test README.md --codegen target_feature=+avx"></div></div>
<br>
<p>When rustdoc generates documentation, looks for documentation tests, or executes documentation
tests, it needs to compile some rust code, at least part-way. This flag allows you to tell rustdoc
to provide some extra codegen options to rustc when it runs these compilations. Most of the time,
these options won't affect a regular documentation run, but if something depends on target features
to be enabled, or documentation tests need to use some additional options, this flag allows you to
affect that.</p>
<br>
<p>The arguments to this flag are the same as those for the <code>-C</code> flag on rustc. Run <code>rustc -C help</code> to
get the full list.</p>
<br>
<h2><code>--passes</code>: add more rustdoc passes</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc --passes list"></div><div data-l="$ rustdoc src/lib.rs --passes strip-priv-imports"></div></div>
<br>
<p>An argument of &quot;list&quot; will print a list of possible &quot;rustdoc passes&quot;, and other
arguments will be the name of which passes to run in addition to the defaults.</p>
<br>
<p>For more details on passes, see <a href="#2passes.html">the chapter on them</a>.</p>
<br>
<p>See also <code>--no-defaults</code>.</p>
<br>
<h2><code>--no-defaults</code>: don't run default passes</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs --no-defaults"></div></div>
<br>
<p>By default, <code>rustdoc</code> will run several passes over your code. This
removes those defaults, allowing you to use <code>--passes</code> to specify
exactly which passes you want.</p>
<br>
<p>For more details on passes, see <a href="#2passes.html">the chapter on them</a>.</p>
<br>
<p>See also <code>--passes</code>.</p>
<br>
<h2><code>--test</code>: run code examples as tests</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs --test"></div></div>
<br>
<p>This flag will run your code examples as tests. For more, see <a href="#2documentation-tests.html">the chapter
on documentation tests</a>.</p>
<br>
<p>See also <code>--test-args</code>.</p>
<br>
<h2><code>--test-args</code>: pass options to test runner</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs --test --test-args ignored"></div></div>
<br>
<p>This flag will pass options to the test runner when running documentation tests.
For more, see <a href="#2documentation-tests.html">the chapter on documentation tests</a>.</p>
<br>
<p>See also <code>--test</code>.</p>
<br>
<h2><code>--target</code>: generate documentation for the specified target triple</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs --target x86_64-pc-windows-gnu"></div></div>
<br>
<p>Similar to the <code>--target</code> flag for <code>rustc</code>, this generates documentation
for a target triple that's different than your host triple.</p>
<br>
<p>All of the usual caveats of cross-compiling code apply.</p>
<br>
<h2><code>--markdown-css</code>: include more CSS files when rendering markdown</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc README.md --markdown-css foo.css"></div></div>
<br>
<p>When rendering Markdown files, this will create a <code>&lt;link&gt;</code> element in the
<code>&lt;head&gt;</code> section of the generated HTML. For example, with the invocation above,</p>
<br>
<div data-lang="html"><div data-l="&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;foo.css&quot;&gt;"></div></div>
<br>
<p>will be added.</p>
<br>
<p>When rendering Rust files, this flag is ignored.</p>
<br>
<h2><code>--html-in-header</code>: include more HTML in <head></h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs --html-in-header header.html"></div><div data-l="$ rustdoc README.md --html-in-header header.html"></div></div>
<br>
<p>This flag takes a list of files, and inserts them into the <code>&lt;head&gt;</code> section of
the rendered documentation.</p>
<br>
<h2><code>--html-before-content</code>: include more HTML before the content</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs --html-before-content extra.html"></div><div data-l="$ rustdoc README.md --html-before-content extra.html"></div></div>
<br>
<p>This flag takes a list of files, and inserts them inside the <code>&lt;body&gt;</code> tag but
before the other content <code>rustdoc</code> would normally produce in the rendered
documentation.</p>
<br>
<h2><code>--html-after-content</code>: include more HTML after the content</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs --html-after-content extra.html"></div><div data-l="$ rustdoc README.md --html-after-content extra.html"></div></div>
<br>
<p>This flag takes a list of files, and inserts them before the <code>&lt;/body&gt;</code> tag but
after the other content <code>rustdoc</code> would normally produce in the rendered
documentation.</p>
<br>
<br>
<h2><code>--markdown-playground-url</code>: control the location of the playground</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc README.md --markdown-playground-url https://play.rust-lang.org/"></div></div>
<br>
<p>When rendering a Markdown file, this flag gives the base URL of the Rust
Playground, to use for generating <code>Run</code> buttons.</p>
<br>
<br>
<h2><code>--markdown-no-toc</code>: don't generate a table of contents</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc README.md --markdown-no-toc"></div></div>
<br>
<p>When generating documentation from a Markdown file, by default, <code>rustdoc</code> will
generate a table of contents. This flag suppresses that, and no TOC will be
generated.</p>
<br>
<br>
<h2><code>-e</code>/<code>--extend-css</code>: extend rustdoc's CSS</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs -e extra.css"></div><div data-l="$ rustdoc src/lib.rs --extend-css extra.css"></div></div>
<br>
<p>With this flag, the contents of the files you pass are included at the bottom
of Rustdoc's <code>theme.css</code> file.</p>
<br>
<p>While this flag is stable, the contents of <code>theme.css</code> are not, so be careful!
Updates may break your theme extensions.</p>
<br>
<h2><code>--sysroot</code>: override the system root</h2>
<br>
<p>Using this flag looks like this:</p>
<br>
<div data-lang="bash"><div data-l="$ rustdoc src/lib.rs --sysroot /path/to/sysroot"></div></div>
<br>
<p>Similar to <code>rustc --sysroot</code>, this lets you change the sysroot <code>rustdoc</code> uses
when compiling your code.</p>