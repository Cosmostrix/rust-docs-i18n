<!DOCTYPE html><html lang=ja-x-mtfrom-en><head><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="https://translate.googleusercontent.com/translate/releases/twsfe_w_20180723_RC00/r/js/translate_c.js"></script><script>_intlStrings._originalText = "英語の原文テキスト:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|ja";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="%1$s に %2$s により翻訳されました";_intlStrings._unknown="不明";_intlStrings._suggestTranslation="翻訳を改善する"  ;_intlStrings._submit="送信";_intlStrings._suggestThanks="Google 翻訳の改善にご協力いただきありがとうございました。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href=specifying-dependencies.html hreflang=en rel="alternate machine-translated-from"><base href="" target=_top /></head><body><iframe src="https://translate.google.com/translate_un?hl=ja&prev=_t&sl=en&tl=ja&lang=en&usg=ALkJrhgQ4ezENlkxSVYGeAHMYQ9vf0ngJQ" width=0 height=0 frameborder=0 style="width:0px;height:0px;border:0px;display:none;"></iframe><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Specifying Dependencies</span>依存関係の指定</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Your crates can depend on other libraries from <a class=notranslate href=#4crates.io>crates.io</a> , <code>git</code> repositories, or subdirectories on your local file system.</span>あなたの箱は、あなたのローカルファイルシステム上の<a class=notranslate href=#4crates.io>crates.io</a> 、 <code>git</code>リポジトリ、またはサブディレクトリの他のライブラリに依存することができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can also temporarily override the location of a dependency— for example, to be able to test out a bug fix in the dependency that you are working on locally.</span>依存関係の場所を一時的に上書きすることもできます。たとえば、ローカルで作業している依存関係のバグ修正をテストすることができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can have different dependencies for different platforms, and dependencies that are only used during development.</span>プラットフォームごとに異なる依存関係、および開発中にのみ使用される依存関係を持つことができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s take a look at how to do each of these.</span>これらのそれぞれを行う方法を見てみましょう。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Specifying dependencies from crates.io</span> crates.ioからの依存関係の指定</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Cargo is configured to look for dependencies on <a class=notranslate href=#4crates.io>crates.io</a> by default.</span> Cargoはデフォルトで<a class=notranslate href=#4crates.io>crates.io</a>依存関係を探すように設定されています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Only the name and a version string are required in this case.</span>この場合、名前とバージョン文字列のみが必要です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In <a href=#2guide/index.html>the cargo guide</a> , we specified a dependency on the <code>time</code> crate:</span> <a href=#2guide/index.html>貨物ガイド</a>では、 <code>time</code>枠に依存することを指定しました。</span> </p><br><div data-lang=toml><div data-l=[dependencies]></div><div data-l="time = &quot;0.1.12&quot;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The string <code>&quot;0.1.12&quot;</code> is a <a class=notranslate href=#4semver>semver</a> version requirement.</span>文字列<code>&quot;0.1.12&quot;</code>は、 <a class=notranslate href=#4semver>semver</a>バージョンの要件です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Since this string does not have any operators in it, it is interpreted the same way as if we had specified <code>&quot;^0.1.12&quot;</code> , which is called a caret requirement.</span>この文字列には演算子が含まれていないので、 <code>&quot;^0.1.12&quot;</code>指定した場合と同じように解釈されます。これはキャレット要件と呼ばれます。</span> </p><br> <a class=notranslate href=#1https://github.com/steveklabnik/semver#requirements>semver</a> <br> <h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Caret requirements</span>キャレット要件</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Caret requirements</b> allow SemVer compatible updates to a specified version.</span> Caretの<b>要件</b>により、指定されたバージョンに対するSemVer互換の更新が可能になります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">An update is allowed if the new version number does not modify the left-most non-zero digit in the major, minor, patch grouping.</span>新しいバージョン番号がメジャー、マイナーパッチグループ内の一番左のゼロ以外の数字を変更しない場合は、更新が許可されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In this case, if we ran <code>cargo update -p time</code> , cargo should update us to version <code>0.1.13</code> if it is the latest <code>0.1.z</code> release, but would not update us to <code>0.2.0</code> .</span>私たちが実行された場合この場合、 <code>cargo update -p time</code> 、貨物は、バージョンに私たちを更新する必要があります<code>0.1.13</code>それが最新である場合<code>0.1.z</code>リリース、それに私たちを更新しないでしょう<code>0.2.0</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If instead we had specified the version string as <code>^1.0</code> , cargo should update to <code>1.1</code> if it is the latest <code>1.y</code> release, but not <code>2.0</code> .</span>代わりにバージョン文字列を<code>^1.0</code>と指定した場合、カーゴは最新の<code>1.y</code>リリースであれば<code>1.1</code>更新されますが、 <code>2.0</code>は更新されません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The version <code>0.0.x</code> is not considered compatible with any other version.</span>バージョン<code>0.0.x</code>は、他のバージョンと互換性があるとはみなされません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here are some more examples of caret requirements and the versions that would be allowed with them:</span>次に、キャレットの要件とそれに許可されるバージョンの例をいくつか示します。</span> </p><br><div data-lang=notrust><div data-l="^1.2.3 := &gt;=1.2.3 &lt;2.0.0"></div><div data-l="^1.2 := &gt;=1.2.0 &lt;2.0.0"></div><div data-l="^1 := &gt;=1.0.0 &lt;2.0.0"></div><div data-l="^0.2.3 := &gt;=0.2.3 &lt;0.3.0"></div><div data-l="^0.2 := &gt;= 0.2.0 &lt; 0.3.0"></div><div data-l="^0.0.3 := &gt;=0.0.3 &lt;0.0.4"></div><div data-l="^0.0 := &gt;=0.0.0 &lt;0.1.0"></div><div data-l="^0 := &gt;=0.0.0 &lt;1.0.0"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This compatibility convention is different from SemVer in the way it treats versions before 1.0.0.</span>この互換性の規約は、1.0.1より前のバージョンを扱う方法とは異なります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">While SemVer says there is no compatibility before 1.0.0, Cargo considers <code>0.xy</code> to be compatible with <code>0.xz</code> , where <code>y ≥ z</code> and <code>x &gt; 0</code> .</span> SemVerは1.0.0より前には互換性がないと言いますが、Cargoは<code>0.xy</code>が<code>0.xz</code> （ <code>y ≥ z</code>かつ<code>x &gt; 0</code>と互換性があると<code>0.xz</code> <code>x &gt; 0</code> 。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Tilde requirements</span>ティルダの要件</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Tilde requirements</b> specify a minimal version with some ability to update.</span> <b>ティルダの要件</b>は、更新する能力を備えた最小限のバージョンを指定します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you specify a major, minor, and patch version or only a major and minor version, only patch-level changes are allowed.</span>メジャーバージョン、マイナーバージョン、およびパッチバージョン、またはメジャーバージョンとマイナーバージョンのみを指定すると、パッチレベルの変更のみが許可されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you only specify a major version, then minor- and patch-level changes are allowed.</span>メジャー・バージョンのみを指定すると、マイナー・レベルおよびパッチ・レベルの変更が許可されます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>~1.2.3</code> is an example of a tilde requirement.</span> <code>~1.2.3</code>はティルダ要件の例です。</span> </p><br><div data-lang=notrust><div data-l="~1.2.3 := &gt;=1.2.3 &lt;1.3.0"></div><div data-l="~1.2 := &gt;=1.2.0 &lt;1.3.0"></div><div data-l="~1 := &gt;=1.0.0 &lt;2.0.0"></div></div><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Wildcard requirements</span>ワイルドカード要件</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Wildcard requirements</b> allow for any version where the wildcard is positioned.</span> <b>ワイルドカード要件</b>は、ワイルドカードが配置されているすべてのバージョンを許可します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>*</code> , <code>1.*</code> and <code>1.2.*</code> are examples of wildcard requirements.</span> <code>*</code> 、 <code>1.*</code> 、および<code>1.2.*</code>はワイルドカード要件の例です。</span> </p><br><div data-lang=notrust><div data-l="* := &gt;=0.0.0"></div><div data-l="1.* := &gt;=1.0.0 &lt;2.0.0"></div><div data-l="1.2.* := &gt;=1.2.0 &lt;1.3.0"></div></div><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Inequality requirements</span>不平等の要件</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Inequality requirements</b> allow manually specifying a version range or an exact version to depend on.</span> <b>不等式の要件</b>により、バージョン範囲または正確なバージョンを手動で指定することができ<b>ます</b> 。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here are some examples of inequality requirements:</span>不等式の要件の例をいくつか示します。</span> </p><br><div data-lang=notrust><div data-l="&gt;= 1.2.0"></div><div data-l="&gt; 1"></div><div data-l="&lt; 2"></div><div data-l="= 1.2.3"></div></div><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Multiple requirements</span>複数の要件</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Multiple version requirements can also be separated with a comma, eg <code>&gt;= 1.2, &lt; 1.5</code> .</span>複数のバージョン要件はカンマで区切ることもできます（例： <code>&gt;= 1.2, &lt; 1.5</code> 。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Specifying dependencies from <code>git</code> repositories</span> <code>git</code>リポジトリからの依存関係の指定</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To depend on a library located in a <code>git</code> repository, the minimum information you need to specify is the location of the repository with the <code>git</code> key:</span> <code>git</code>リポジトリにあるライブラリに依存するには、指定する必要がある最小限の情報は、 <code>git</code>キーを持つリポジトリの場所です。</span> </p><br><div data-lang=toml><div data-l=[dependencies]></div><div data-l="rand = { git = &quot;https://github.com/rust-lang-nursery/rand&quot; }"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Cargo will fetch the <code>git</code> repository at this location then look for a <code>Cargo.toml</code> for the requested crate anywhere inside the <code>git</code> repository (not necessarily at the root).</span>貨物はフェッチします<code>git</code>この場所でリポジトリを探し<code>Cargo.toml</code>内の任意の場所を要求されたクレートのため<code>git</code> （ルートに限らない）のリポジトリ。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Since we haven&#39;t specified any other information, Cargo assumes that we intend to use the latest commit on the <code>master</code> branch to build our project.</span>他の情報を指定していないので、Cargoはプロジェクトを構築するために<code>master</code>ブランチで最新のコミットを使用する予定であると想定しています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can combine the <code>git</code> key with the <code>rev</code> , <code>tag</code> , or <code>branch</code> keys to specify something else.</span> <code>git</code>キーと<code>rev</code> 、 <code>tag</code> 、または<code>branch</code>キーを組み合わせて他のものを指定することができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here&#39;s an example of specifying that you want to use the latest commit on a branch named <code>next</code> :</span> <code>next</code>名前のブランチで最新のコミットを使用するように指定する例を次に示します。</span> </p><br><div data-lang=toml><div data-l=[dependencies]></div><div data-l="rand = { git = &quot;https://github.com/rust-lang-nursery/rand&quot;, branch = &quot;next&quot; }"></div></div><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Specifying path dependencies</span>パスの依存関係の指定</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Over time, our <code>hello_world</code> project from <a href=#2guide/index.html>the guide</a> has grown significantly in size!</span>時間の経過とともに、 <a href=#2guide/index.html>ガイドの</a> <code>hello_world</code>プロジェクトのサイズが大幅に拡大しました！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It&#39;s gotten to the point that we probably want to split out a separate crate for others to use.</span>他の人が使用するために別のクレートを分割したいと思うようになってきました。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To do this Cargo supports <b>path dependencies</b> which are typically sub-crates that live within one repository.</span>これを行うために、Cargoは、通常は1つのリポジトリ内に存在するサブクレートである<b>パス依存関係</b>をサポートします。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s start off by making a new crate inside of our <code>hello_world</code> project:</span> <code>hello_world</code>プロジェクトの中に新しいクレートを作り始めましょう：</span> </p><br><div data-lang=console><div data-l="# inside of hello_world/"></div><div data-l="$ cargo new hello_utils"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This will create a new folder <code>hello_utils</code> inside of which a <code>Cargo.toml</code> and <code>src</code> folder are ready to be configured.</span>これで新しいフォルダ<code>hello_utils</code>が作成され、 <code>hello_utils</code>中に<code>Cargo.toml</code>と<code>src</code>フォルダが設定されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In order to tell Cargo about this, open up <code>hello_world/Cargo.toml</code> and add <code>hello_utils</code> to your dependencies:</span>これについてCargoに伝えるために、 <code>hello_world/Cargo.toml</code> 、 <code>hello_utils</code>をあなたの依存関係に追加してください：</span> </p><br><div data-lang=toml><div data-l=[dependencies]></div><div data-l="hello_utils = { path = &quot;hello_utils&quot; }"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This tells Cargo that we depend on a crate called <code>hello_utils</code> which is found in the <code>hello_utils</code> folder (relative to the <code>Cargo.toml</code> it&#39;s written in).</span>これは、 <code>hello_utils</code>フォルダにある<code>hello_utils</code>という<code>hello_utils</code>クレートに依存していることをCargoに伝えます（書かれている<code>Cargo.toml</code>に相対的です）。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">And that&#39;s it!</span>以上です！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The next <code>cargo build</code> will automatically build <code>hello_utils</code> and all of its own dependencies, and others can also start using the crate as well.</span>次の<code>cargo build</code>は自動的に<code>hello_utils</code>とそれ自身のすべての依存関係を構築し、他のものはクレートの使用を開始することもできます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However, crates that use dependencies specified with only a path are not permitted on <a class=notranslate href=#4crates.io>crates.io</a> .</span>ただし、 <a class=notranslate href=#4crates.io>crates.io</a>では、パスのみで指定された依存関係を使用するクレートは許可されません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If we wanted to publish our <code>hello_world</code> crate, we would need to publish a version of <code>hello_utils</code> to <a class=notranslate href=#2https://crates.io>crates.io</a> and specify its version in the dependencies line as well:</span>我々は公開したい場合は<code>hello_world</code>クレートを、我々はのバージョン公開する必要があります<code>hello_utils</code>する<a class=notranslate href=#2https://crates.io>crates.io</a>と同様の依存関係行でそのバージョンを指定します：</span> </p><br><div data-lang=toml><div data-l=[dependencies]></div><div data-l="hello_utils = { path = &quot;hello_utils&quot;, version = &quot;0.1.0&quot; }"></div></div><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Overriding dependencies</span>依存関係のオーバーライド</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">There are a number of methods in Cargo to support overriding dependencies and otherwise controlling the dependency graph.</span>依存関係のオーバーライドをサポートしたり、依存関係グラフを制御したりするために、Cargoにはいくつかのメソッドがあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">These options are typically, though, only available at the workspace level and aren&#39;t propagated through dependencies.</span>これらのオプションは通常、ワークスペース・レベルでのみ使用可能であり、依存関係を介して伝播されません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In other words, &quot;applications&quot; have the ability to override dependencies but &quot;libraries&quot; do not.</span>言い換えると、 &quot;アプリケーション&quot;は依存関係を無効にすることができますが、 &quot;ライブラリ&quot;は依存関係を無効にすることはできません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The desire to override a dependency or otherwise alter some dependencies can arise through a number of scenarios.</span>依存関係を無効にするか、依存関係を変更する必要があるかどうかは、いくつかのシナリオを介して発生します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Most of them, however, boil down to the ability to work with a crate before it&#39;s been published to crates.io.</span>しかし、それらのほとんどは、それがcrates.ioに公開される前に、箱で作業する能力に沸き立っています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example:</span>例えば：</span> </p><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">A crate you&#39;re working on is also used in a much larger application you&#39;re working on, and you&#39;d like to test a bug fix to the library inside of the larger application.</span>あなたが作業している箱は、あなたが作業しているはるかに大きなアプリケーションでも使用されており、大きなアプリケーションの中のライブラリにバグ修正をテストしたいと考えています。</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">An upstream crate you don&#39;t work on has a new feature or a bug fix on the master branch of its git repository which you&#39;d like to test out.</span>あなたが作業していない上流の箱には、テストするgitリポジトリのマスターブランチに新しい機能やバグフィックスがあります。</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You&#39;re about to publish a new major version of your crate, but you&#39;d like to do integration testing across an entire project to ensure the new major version works.</span>新しいメジャーバージョンのクレートを公開しようとしていますが、プロジェクト全体で統合テストを行い、新しいメジャーバージョンが確実に動作するようにしたいと考えています。</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You&#39;ve submitted a fix to an upstream crate for a bug you found, but you&#39;d like to immediately have your application start depending on the fixed version of the crate to avoid blocking on the bug fix getting merged.</span>アップストリームクレートに見つかったバグの修正を提出しましたが、クレートの固定バージョンに応じてアプリケーションをすぐに開始して、バグ修正がブロックされないようにしてください。</span> </div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">These scenarios are currently all solved with the <a href=#3patch-section><code>[patch]</code> manifest section</a> .</span>これらのシナリオは、現在すべて<a href=#3patch-section><code>[patch]</code>マニフェストセクションで</a>解決されています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Historically some of these scenarios have been solved with <a href=#3replace-section>the <code>[replace]</code> section</a> , but we&#39;ll document the <code>[patch]</code> section here.</span>歴史的に、これらのシナリオのいくつかは<a href=#3replace-section><code>[replace]</code>セクション</a>で解決されていますが、ここでは<code>[patch]</code>セクションを説明します。</span> </p><br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a class=notranslate href=#1reference/manifest.html#the-patch-section>patch-section</a> <a class=notranslate href=#1reference/manifest.html#the-replace-section>replace-section</a></span> <a class=notranslate href=#1reference/manifest.html#the-patch-section>patch-section</a> <a class=notranslate href=#1reference/manifest.html#the-replace-section>replace-section</a></span> <br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Testing a bugfix</span>バグ修正のテスト</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s say you&#39;re working with the <a class=notranslate href="#4`uuid`">`uuid`</a> crate but while you&#39;re working on it you discover a bug.</span>あなたが<a class=notranslate href="#4`uuid`">`uuid`</a>クレートで作業しているとしましょうが、作業中にバグを発見したとしましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You are, however, quite enterprising so you decide to also try out to fix the bug!</span>あなたは、しかし、かなり進取しているので、バグを修正するために試してみることにします！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Originally your manifest will look like:</span>もともとマニフェストは次のようになります：</span> </p><br><p> <a class=notranslate href=#2https://crates.io/crates/uuid><code>uuid</code></a> </p> <br><div data-lang=toml><div data-l=[package]></div><div data-l="name = &quot;my-library&quot;"></div><div data-l="version = &quot;0.1.0&quot;"></div><div data-l="authors = [&quot;...&quot;]"></div><div data-l=""></div><div data-l=[dependencies]></div><div data-l="uuid = &quot;1.0&quot;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">First thing we&#39;ll do is to clone the <a href=#3uuid-repository><code>uuid</code> repository</a> locally via:</span>まず、 <a href=#3uuid-repository><code>uuid</code>リポジトリを</a>ローカルで複製すること<a href=#3uuid-repository>です</a> 。</span> </p><br><div data-lang=console><div data-l="$ git clone https://github.com/rust-lang-nursery/uuid"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Next we&#39;ll edit the manifest of <code>my-library</code> to contain:</span>次に、 <code>my-library</code>マニフェストを編集します。</span> </p><br><div data-lang=toml><div data-l=[patch.crates-io]></div><div data-l="uuid = { path = &quot;../path/to/uuid&quot; }"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here we declare that we&#39;re <i>patching</i> the source <code>crates-io</code> with a new dependency.</span>ここでは、新しい依存関係を持つソース<code>crates-io</code> <i>パッチを当て</i>ていることを宣言します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This will effectively add the local checked out version of <code>uuid</code> to the crates.io registry for our local project.</span>これにより、ローカルのチェックアウト済みバージョンの<code>uuid</code>がローカルプロジェクトのcrates.ioレジストリに効果的に追加されます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Next up we need to ensure that our lock file is updated to use this new version of <code>uuid</code> so our project uses the locally checked out copy instead of one from crates.io.</span>次に、 <code>uuid</code>新しいバージョンを使用するようにロックファイルが更新されるようにして、プロジェクトがcrates.ioのものではなくローカルでチェックアウトされたコピーを使用するようにする必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The way <code>[patch]</code> works is that it&#39;ll load the dependency at <code>../path/to/uuid</code> and then whenever crates.io is queried for versions of <code>uuid</code> it&#39;ll <i>also</i> return the local version.</span> <code>[patch]</code>仕組みは<code>../path/to/uuid</code>で依存関係を<code>../path/to/uuid</code> 、crates.ioに<code>uuid</code>バージョンがあるかどうか問い合わせがあったときに<i>も</i>ローカル版を返すということです。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This means that the version number of the local checkout is significant and will affect whether the patch is used.</span>つまり、ローカルチェックアウトのバージョン番号が重要であり、パッチが使用されているかどうかに影響します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Our manifest declared <code>uuid = &quot;1.0&quot;</code> which means we&#39;ll only resolve to <code>&gt;= 1.0.0, &lt; 2.0.0</code> , and Cargo&#39;s greedy resolution algorithm also means that we&#39;ll resolve to the maximum version within that range.</span>私たちのマニフェストは、 <code>uuid = &quot;1.0&quot;</code>と宣言しました<code>uuid = &quot;1.0&quot;</code>これは<code>&gt;= 1.0.0, &lt; 2.0.0</code>に解決されることを意味し、Cargoの貪欲分解アルゴリズムは、その範囲内の最大バージョンに解決することを意味します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Typically this doesn&#39;t matter as the version of the git repository will already be greater or match the maximum version published on crates.io, but it&#39;s important to keep this in mind!</span>一般的に、gitリポジトリのバージョンは既にcrates.ioに公開されている最大バージョンと同じかそれ以上になるので問題はありませんが、これを覚えておくことが重要です！</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In any case, typically all you need to do now is:</span>いずれにしても、通常は次の作業が必要です。</span> </p><br><div data-lang=console><div data-l="$ cargo build"></div><div data-l="   Compiling uuid v1.0.0 (file://.../uuid)"></div><div data-l="   Compiling my-library v0.1.0 (file://.../my-library)"></div><div data-l="    Finished dev [unoptimized + debuginfo] target(s) in 0.32 secs"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">And that&#39;s it!</span>以上です！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You&#39;re now building with the local version of <code>uuid</code> (note the <code>file://</code> in the build output).</span>あなたは今<code>uuid</code>のローカルバージョンでビルドしてい<code>file://</code> （ビルド出力に<code>file://</code>書き留めて<code>uuid</code>ください）。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you don&#39;t see the <code>file://</code> version getting built then you may need to run <code>cargo update -p uuid --precise $version</code> where <code>$version</code> is the version of the locally checked out copy of <code>uuid</code> .</span> <code>file://</code> versionが作成されていない場合は、 <code>cargo update -p uuid --precise $version</code>を実行する必要があります。 <code>$version</code>は、ローカルでチェックアウトされた<code>uuid</code>コピーのバージョンです。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Once you&#39;ve fixed the bug you originally found the next thing you&#39;ll want to do is to likely submit that as a pull request to the <code>uuid</code> crate itself.</span>最初に見つけたバグを修正したら、次のことは<code>uuid</code> crate自体にプルリクエストとして提出することです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Once you&#39;ve done this then you can also update the <code>[patch]</code> section.</span>これを済ませたら<code>[patch]</code>セクションを更新することもできます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The listing inside of <code>[patch]</code> is just like the <code>[dependencies]</code> section, so once your pull request is merged you could change your <code>path</code> dependency to:</span> <code>[patch]</code>内のリストは<code>[dependencies]</code>セクションと似ているので、プルリクエストがマージされると、 <code>path</code>依存関係を次のように変更できます。</span> </p><br><div data-lang=toml><div data-l=[patch.crates-io]></div><div data-l="uuid = { git = 'https://github.com/rust-lang-nursery/uuid' }"></div></div><br> <a class=notranslate href=#1https://github.com/rust-lang-nursery/uuid>uuid-repository</a> <br> <h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Working with an unpublished minor version</span>未発表のマイナーバージョンの作業</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s now shift gears a bit from bug fixes to adding features.</span>ギアをバグフィックスからフィーチャー追加に少しシフトさせてみましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">While working on <code>my-library</code> you discover that a whole new feature is needed in the <code>uuid</code> crate.</span> <code>my-library</code>取り組んで<code>my-library</code>に、 <code>uuid</code>は全く新しい機能が必要であることが<code>uuid</code>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You&#39;ve implemented this feature, tested it locally above with <code>[patch]</code> , and submitted a pull request.</span>あなたはこの機能を実装し、上に<code>[patch]</code>でローカルでテストし、プルリクエストを提出しました。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s go over how you continue to use and test it before it&#39;s actually published.</span>それが実際に公開される前に、あなたがどのように使い続けてテストするかを見てみましょう。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s also say that the current version of <code>uuid</code> on crates.io is <code>1.0.0</code> , but since then the master branch of the git repository has updated to <code>1.0.1</code> .</span> crates.ioの<code>uuid</code>の現在のバージョンが<code>1.0.0</code>であるとしましょうが、gitリポジトリのマスターブランチは<code>1.0.1</code>更新されています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This branch includes your new feature you submitted previously.</span>このブランチには、以前に提出した新しい機能が含まれています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To use this repository we&#39;ll edit our <code>Cargo.toml</code> to look like</span>このリポジトリを使用するには、 <code>Cargo.toml</code>を次のように編集します。</span> </p><br><div data-lang=toml><div data-l=[package]></div><div data-l="name = &quot;my-library&quot;"></div><div data-l="version = &quot;0.1.0&quot;"></div><div data-l="authors = [&quot;...&quot;]"></div><div data-l=""></div><div data-l=[dependencies]></div><div data-l="uuid = &quot;1.0.1&quot;"></div><div data-l=""></div><div data-l=[patch.crates-io]></div><div data-l="uuid = { git = 'https://github.com/rust-lang-nursery/uuid' }"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that our local dependency on <code>uuid</code> has been updated to <code>1.0.1</code> as it&#39;s what we&#39;ll actually require once the crate is published.</span> <code>uuid</code>へのローカル依存関係は<code>1.0.1</code>更新されました。これは、いったんクレートが公開されると実際に必要となるためです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This version doesn&#39;t exist on crates.io, though, so we provide it with the <code>[patch]</code> section of the manifest.</span>ただし、このバージョンはcrates.ioには存在しませんので、マニフェストの<code>[patch]</code>セクションを提供しています。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now when our library is built it&#39;ll fetch <code>uuid</code> from the git repository and resolve to 1.0.1 inside the repository instead of trying to download a version from crates.io.</span>今、私たちのライブラリがビルドされると、gitリポジトリから<code>uuid</code>を取得し、crates.ioからバージョンをダウンロードするのではなく、リポジトリ内の1.0.1に解決します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Once 1.0.1 is published on crates.io the <code>[patch]</code> section can be deleted.</span> 1.0.1がcrates.ioに公開されると、 <code>[patch]</code>セクションは削除できます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It&#39;s also worth noting that <code>[patch]</code> applies <i>transitively</i> .</span>また、 <code>[patch]</code>一時<i>的に</i>適用されることにも注意してください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s say you use <code>my-library</code> in a larger project, such as:</span>たとえば、次のような大きなプロジェクトで<code>my-library</code>を使用し<code>my-library</code>とします。</span> </p><br><div data-lang=toml><div data-l=[package]></div><div data-l="name = &quot;my-binary&quot;"></div><div data-l="version = &quot;0.1.0&quot;"></div><div data-l="authors = [&quot;...&quot;]"></div><div data-l=""></div><div data-l=[dependencies]></div><div data-l="my-library = { git = 'https://example.com/git/my-library' }"></div><div data-l="uuid = &quot;1.0&quot;"></div><div data-l=""></div><div data-l=[patch.crates-io]></div><div data-l="uuid = { git = 'https://github.com/rust-lang-nursery/uuid' }"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Remember that <code>[patch]</code> is applicable <i>transitively</i> but can only be defined at the <i>top level</i> so we consumers of <code>my-library</code> have to repeat the <code>[patch]</code> section if necessary.</span> <code>[patch]</code>は<i>推移的に</i>適用可能ですが、 <i>最上位レベル</i>でしか定義できないため、必要に応じて<code>my-library</code>コンシューマーが<code>[patch]</code>セクションを繰り返す必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here, though, the new <code>uuid</code> crate applies to <i>both</i> our dependency on <code>uuid</code> and the <code>my-library -&gt; uuid</code> dependency.</span>しかし、新しい<code>uuid</code> crateは、 <code>uuid</code>への依存性と<code>my-library -&gt; uuid</code>依存性の<i>両方に</i>適用されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>uuid</code> crate will be resolved to one version for this entire crate graph, 1.0.1, and it&#39;ll be pulled from the git repository.</span> <code>uuid</code> crateは、このクレートグラフ1.0.1の1つのバージョンに解決され、gitリポジトリから取得されます。</span> </p><br><h4> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Overriding repository URL</span>リポジトリのURLを上書きする</span> </h4><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In case the dependency you want to override isn&#39;t loaded from <code>crates.io</code> , you&#39;ll have to change a bit how you use <code>[patch]</code> :</span>上書きしたい依存関係が<code>crates.io</code>から読み込まれない場合は、 <code>[patch]</code>使い方を少し変更する必要があります：</span> </p><br><div data-lang=toml><div data-l=[patch.&quot;https://github.com/your/repository&quot;]></div><div data-l="my-library = { path = &quot;../my-library/path&quot; }"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">And that&#39;s it!</span>以上です！</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Prepublishing a breaking change</span>急変を完了させる</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As a final scenario, let&#39;s take a look at working with a new major version of a crate, typically accompanied with breaking changes.</span>最終的なシナリオとして、新しい主要バージョンのクレートを使用して作業することを見てみましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Sticking with our previous crates, this means that we&#39;re going to be creating version 2.0.0 of the <code>uuid</code> crate.</span>私たちの以前の木枠でつづいていることは、 <code>uuid</code>バージョン2.0.0を作成しようとしていることを意味します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">After we&#39;ve submitted all changes upstream we can update our manifest for <code>my-library</code> to look like:</span>アップストリームにすべての変更を提出し<code>my-library</code>マニフェストを次のように更新することができます：</span> </p><br><div data-lang=toml><div data-l=[dependencies]></div><div data-l="uuid = &quot;2.0&quot;"></div><div data-l=""></div><div data-l=[patch.crates-io]></div><div data-l="uuid = { git = &quot;https://github.com/rust-lang-nursery/uuid&quot;, branch = &quot;2.0.0&quot; }"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">And that&#39;s it!</span>以上です！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Like with the previous example the 2.0.0 version doesn&#39;t actually exist on crates.io but we can still put it in through a git dependency through the usage of the <code>[patch]</code> section.</span>前の例と同様に、2.0.0のバージョンはcrates.ioには実際には存在しませんが、 <code>[patch]</code>セクションの使い方によってgitの依存関係に入れられます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As a thought exercise let&#39;s take another look at the <code>my-binary</code> manifest from above again as well:</span>思考の練習として、もう一度上記の<code>my-binary</code>マニフェストをもう一度見てみましょう：</span> </p><br><div data-lang=toml><div data-l=[package]></div><div data-l="name = &quot;my-binary&quot;"></div><div data-l="version = &quot;0.1.0&quot;"></div><div data-l="authors = [&quot;...&quot;]"></div><div data-l=""></div><div data-l=[dependencies]></div><div data-l="my-library = { git = 'https://example.com/git/my-library' }"></div><div data-l="uuid = &quot;1.0&quot;"></div><div data-l=""></div><div data-l=[patch.crates-io]></div><div data-l="uuid = { git = 'https://github.com/rust-lang-nursery/uuid', version = '2.0.0' }"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that this will actually resolve to two versions of the <code>uuid</code> crate.</span>これは実際には<code>uuid</code> 2つのバージョンに解決されることに注意してください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>my-binary</code> crate will continue to use the 1.xy series of the <code>uuid</code> crate but the <code>my-library</code> crate will use the 2.0.0 version of <code>uuid</code> .</span> <code>my-binary</code>クレートは、 <code>uuid</code>クレートの1.xyシリーズを引き続き使用しますが、 <code>my-library</code>クレートは2.0.0バージョンの<code>uuid</code>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This will allow you to gradually roll out breaking changes to a crate through a dependency graph without being force to update everything all at once.</span>これにより、すべてを一度にすべて更新する必要はなく、依存グラフを使って木枠への壊れた変更を徐々に展開することができます。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Overriding with local dependencies</span>ローカル依存関係によるオーバーライド</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Sometimes you&#39;re only temporarily working on a crate and you don&#39;t want to have to modify <code>Cargo.toml</code> like with the <code>[patch]</code> section above.</span>時々あなたは一時的に木箱で作業しているだけで、 <code>Cargo.toml</code>を上の<code>[patch]</code>セクションのように修正する必要はありません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For this use case Cargo offers a much more limited version of overrides called <b>path overrides</b> .</span>この使用例では、Cargoは<b>パスオーバーライド</b>と呼ばれるオーバーライドのより限定されたバージョンを提供してい<b>ます</b> 。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Path overrides are specified through <code>.cargo/config</code> instead of <code>Cargo.toml</code> , and you can find <a href=#3config-docs>more documentation about this configuration</a> .</span>パスの上書きは、 <code>Cargo.toml</code>代わりに<code>.cargo/config</code>によって指定されてい<a href=#3config-docs>ます</a> 。 <a href=#3config-docs>この設定に関する詳細なドキュメントがあります</a> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Inside of <code>.cargo/config</code> you&#39;ll specify a key called <code>paths</code> :</span> <code>.cargo/config</code>中には、 <code>.cargo/config</code>というキーを指定し<code>paths</code> ：</span> </p><br> <a class=notranslate href=#1reference/config.html>config-docs</a> <br> <div data-lang=toml><div data-l="paths = [&quot;/path/to/uuid&quot;]"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This array should be filled with directories that contain a <code>Cargo.toml</code> .</span>この配列は、 <code>Cargo.toml</code>を含むディレクトリで埋められる必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In this instance, we&#39;re just adding <code>uuid</code> , so it will be the only one that&#39;s overridden.</span>この例では、 <code>uuid</code>追加しているだけなので、オーバーライドされるのは唯一のものだけになります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This path can be either absolute or relative to the directory that contains the <code>.cargo</code> folder.</span>このパスは絶対パスか、 <code>.cargo</code>フォルダーを含むディレクトリーとの相対パスのどちらでも<code>.cargo</code> 。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Path overrides are more restricted than the <code>[patch]</code> section, however, in that they cannot change the structure of the dependency graph.</span>ただし、依存関係グラフの構造を変更できないという点で、パスの上書きは<code>[patch]</code>セクションよりも制限されています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When a path replacement is used then the previous set of dependencies must all match exactly to the new <code>Cargo.toml</code> specification.</span>パスの置換を使用する場合、前の依存関係のセットはすべて新しい<code>Cargo.toml</code>仕様に正確に一致する必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example this means that path overrides cannot be used to test out adding a dependency to a crate, instead <code>[patch]</code> must be used in that situation.</span>たとえば、パスオーバーライドを使用してクレートへの依存性をテストすることはできませんが、代わりに<code>[patch]</code>をその状況で使用する必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As a result usage of a path override is typically isolated to quick bug fixes rather than larger changes.</span>その結果、パスオーバーライドの使用は通常、大きな変更ではなく、迅速なバグ修正に隔離されます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note: using a local configuration to override paths will only work for crates that have been published to <a class=notranslate href=#4crates.io>crates.io</a> .</span>注：ローカル設定を使用してパスを上書きすることは、 <a class=notranslate href=#4crates.io>crates.io</a>公開されているクレートでのみ機能します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You cannot use this feature to tell Cargo how to find local unpublished crates.</span>この機能を使用して、未発表の未加工の木箱を見つける方法をCargoに伝えることはできません。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Platform specific dependencies</span>プラットフォーム固有の依存関係</span> </h3><br><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Platform-specific dependencies take the same format, but are listed under a <code>target</code> section.</span>プラットフォーム固有の依存関係は、同じ形式をとりますが、 <code>target</code>セクションの下にリストされています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Normally Rust-like <code>#[cfg]</code> syntax will be used to define these sections:</span>通常、Rustのような<code>#[cfg]</code>構文がこれらのセクションを定義するために使用されます：</span> </p><br><div data-lang=toml><div data-l="[target.'cfg(windows)'.dependencies]"></div><div data-l="winhttp = &quot;0.4.0&quot;"></div><div data-l=""></div><div data-l="[target.'cfg(unix)'.dependencies]"></div><div data-l="openssl = &quot;1.0.1&quot;"></div><div data-l=""></div><div data-l="[target.'cfg(target_arch = &quot;x86&quot;)'.dependencies]"></div><div data-l="native = { path = &quot;native/i686&quot; }"></div><div data-l=""></div><div data-l="[target.'cfg(target_arch = &quot;x86_64&quot;)'.dependencies]"></div><div data-l="native = { path = &quot;native/x86_64&quot; }"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Like with Rust, the syntax here supports the <code>not</code> , <code>any</code> , and <code>all</code> operators to combine various cfg name/value pairs.</span> Rustと同様に、ここでの構文は、さまざまなcfgの名前と値のペアを組み合わせるための<code>not</code> 、 <code>any</code> 、および<code>all</code>演算子をサポートして<code>not</code>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that the <code>cfg</code> syntax has only been available since Cargo 0.9.0 (Rust 1.8.0).</span> <code>cfg</code>構文は、Cargo 0.9.0（Rust 1.8.0）以降でのみ使用可能であることに注意してください。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In addition to <code>#[cfg]</code> syntax, Cargo also supports listing out the full target the dependencies would apply to:</span> <code>#[cfg]</code>構文に加えて、Cargoは依存関係が適用される完全なターゲットをリストすることもサポートしています。</span> </p><br><div data-lang=toml><div data-l=[target.x86_64-pc-windows-gnu.dependencies]></div><div data-l="winhttp = &quot;0.4.0&quot;"></div><div data-l=""></div><div data-l=[target.i686-unknown-linux-gnu.dependencies]></div><div data-l="openssl = &quot;1.0.1&quot;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you&#39;re using a custom target specification, quote the full path and file name:</span>カスタムターゲット仕様を使用している場合は、完全なパスとファイル名を引用します。</span> </p><br><div data-lang=toml><div data-l=[target.&quot;x86_64/windows.json&quot;.dependencies]></div><div data-l="winhttp = &quot;0.4.0&quot;"></div><div data-l=""></div><div data-l=[target.&quot;i686/linux.json&quot;.dependencies]></div><div data-l="openssl = &quot;1.0.1&quot;"></div><div data-l="native = { path = &quot;native/i686&quot; }"></div><div data-l=""></div><div data-l=[target.&quot;x86_64/linux.json&quot;.dependencies]></div><div data-l="openssl = &quot;1.0.1&quot;"></div><div data-l="native = { path = &quot;native/x86_64&quot; }"></div></div><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Development dependencies</span>開発の依存関係</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can add a <code>[dev-dependencies]</code> section to your <code>Cargo.toml</code> whose format is equivalent to <code>[dependencies]</code> :</span> <code>[dependencies]</code>相当する形式の<code>Cargo.toml</code> <code>[dev-dependencies]</code>セクションを追加することができます：</span> </p><br><div data-lang=toml><div data-l=[dev-dependencies]></div><div data-l="tempdir = &quot;0.3&quot;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Dev-dependencies are not used when compiling a package for building, but are used for compiling tests, examples, and benchmarks.</span> Dev依存関係はビルド用のパッケージをコンパイルするときには使用されませんが、テスト、サンプル、およびベンチマークのコンパイルに使用されます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">These dependencies are <i>not</i> propagated to other packages which depend on this package.</span>これらの依存関係は、このパッケージに依存する他のパッケージに<i>は</i>伝播し<i>ません</i> 。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can also have target-specific development dependencies by using <code>dev-dependencies</code> in the target section header instead of <code>dependencies</code> .</span>また、 <code>dependencies</code>代わりにターゲットセクションのヘッダーに<code>dev-dependencies</code>依存関係を使用<code>dev-dependencies</code>で、ターゲット固有の開発依存関係を持たせることもできます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example:</span>例えば：</span> </p><br><div data-lang=toml><div data-l="[target.'cfg(unix)'.dev-dependencies]"></div><div data-l="mio = &quot;0.0.1&quot;"></div></div><br> <a class=notranslate href=#1https://crates.io/>crates.io</a> <br> <h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Build dependencies</span>ビルドの依存関係</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can depend on other Cargo-based crates for use in your build scripts.</span>ビルドスクリプトで使用するために、他のCargoベースの箱に依存することができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Dependencies are declared through the <code>build-dependencies</code> section of the manifest:</span>依存関係は、マニフェストの<code>build-dependencies</code>セクションで宣言されます。</span> </p><br><div data-lang=toml><div data-l=[build-dependencies]></div><div data-l="cc = &quot;1.0.3&quot;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The build script <b>does not</b> have access to the dependencies listed in the <code>dependencies</code> or <code>dev-dependencies</code> section.</span>ビルドスクリプト<b>は</b> 、 <code>dependencies</code>や<code>dev-dependencies</code>セクションにリストされている<code>dependencies</code>関係にアクセスする<b>こと</b>はでき<b>ません</b> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Build dependencies will likewise not be available to the package itself unless listed under the <code>dependencies</code> section as well.</span> <code>dependencies</code>セクションにもリストされていない限り、ビルド依存関係はパッケージ自体には利用できません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">A package itself and its build script are built separately, so their dependencies need not coincide.</span>パッケージ自体とビルドスクリプトは別々にビルドされているため、依存関係が一致する必要はありません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Cargo is kept simpler and cleaner by using independent dependencies for independent purposes.</span>貨物は、独立した目的のために独立した依存関係を使用することによって、より簡単で清潔に保たれます。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Choosing features</span>機能の選択</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If a package you depend on offers conditional features, you can specify which to use:</span>依存するパッケージが条件付き機能を提供する場合、使用するパッケージを指定することができます：</span> </p><br><div data-lang=toml><div data-l=[dependencies.awesome]></div><div data-l="version = &quot;1.3.5&quot;"></div><div data-l="default-features = false # do not include the default features, and optionally"></div><div data-l="                         # cherry-pick individual features"></div><div data-l="features = [&quot;secure-password&quot;, &quot;civet&quot;]"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">More information about features can be found in the <a href=#2reference/manifest.html#the-features-section>manifest documentation</a> .</span>機能の詳細については、 <a href=#2reference/manifest.html#the-features-section>マニフェストのドキュメントを参照してください</a> 。</span> </p><script>_addload(function(){_setupIW('com');_csi('en','ja','specifying-dependencies.html');});</script>