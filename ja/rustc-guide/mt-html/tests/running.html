<!DOCTYPE html><html lang=ja-x-mtfrom-en><head><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="https://translate.googleusercontent.com/translate/releases/twsfe_w_20180723_RC00/r/js/translate_c.js"></script><script>_intlStrings._originalText = "英語の原文テキスト:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|ja";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="%1$s に %2$s により翻訳されました";_intlStrings._unknown="不明";_intlStrings._suggestTranslation="翻訳を改善する"  ;_intlStrings._submit="送信";_intlStrings._suggestThanks="Google 翻訳の改善にご協力いただきありがとうございました。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href=running.html hreflang=en rel="alternate machine-translated-from"><base href="" target=_top /></head><body><iframe src="https://translate.google.com/translate_un?hl=ja&prev=_t&sl=en&tl=ja&lang=en&usg=ALkJrhi1BDLmdbWiRXYMNxkaJ7TdmUrvmA" width=0 height=0 frameborder=0 style="width:0px;height:0px;border:0px;display:none;"></iframe><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Running tests</span>テストの実行</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can run the tests using <code>x.py</code> .</span> <code>x.py</code>を使用してテストを実行できます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The most basic command – which you will almost never want to use!</span>最も基本的なコマンド - あなたはほとんど使用したくないでしょう！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">– is as follows:</span> - 以下のとおりであります：</span> </p><br><div data-lang=bash><div data-l="&gt; ./x.py test"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This will build the full stage 2 compiler and then run the whole test suite.</span>これにより、完全なステージ2コンパイラが構築され、テストスイート全体が実行されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You probably don&#39;t want to do this very often, because it takes a very long time, and anyway bors / travis will do it for you.</span>非常に長い時間がかかり、とにかく犬やトラヴィスがあなたのためにやってくれるので、これを頻繁にやりたいとは思わないでしょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(Often, I will run this command in the background after opening a PR that I think is done, but rarely otherwise. -nmatsakis)</span> （しばしば、私は完了したと思われるPRを開いた後、バックグラウンドでこのコマンドを実行しますが、めったにそうではありません。-nmatsakis）</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The test results are cached and previously successful tests are <code>ignored</code> during testing.</span>テスト結果はキャッシュされ、以前に成功したテストはテスト中に<code>ignored</code>れます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The stdout/stderr contents as well as a timestamp file for every test can be found under <code>build/ARCH/test/</code> .</span> stdout / stderrの内容と各テストのタイムスタンプファイルは、 <code>build/ARCH/test/</code>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To force-rerun a test (eg in case the test runner fails to notice a change) you can simply remove the timestamp file.</span>テストを強制的に再実行するには（たとえば、テストランナーが変更に気付かなかった場合など）、タイムスタンプファイルを削除するだけです。</span> </p><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Running a subset of the test suites</span>テストスイートのサブセットの実行</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When working on a specific PR, you will usually want to run a smaller set of tests, and with a stage 1 build.</span>特定のPRで作業する場合は、通常、より小さなテストセットを実行し、ステージ1のビルドを実行したいと考えています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example, a good &quot;smoke test&quot; that can be used after modifying rustc to see if things are generally working correctly would be the following:</span>たとえば、正常に動作しているかどうかを確認するためにrustcを変更した後に使用できる良い「スモークテスト」は、次のようになります。</span> </p><br><div data-lang=bash><div data-l="&gt; ./x.py test --stage 1 src/test/{ui,compile-fail,run-pass}"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This will run the <code>ui</code> , <code>compile-fail</code> , and <code>run-pass</code> test suites, and only with the stage 1 build.</span>これは、 <code>ui</code> 、 <code>compile-fail</code> 、および<code>run-pass</code>テストスイートを<code>run-pass</code>し、ステージ1のビルドのみを<code>run-pass</code>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Of course, the choice of test suites is somewhat arbitrary, and may not suit the task you are doing.</span>もちろん、テストスイートの選択はやや恣意的であり、あなたがやっている仕事に合わないかもしれません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example, if you are hacking on debuginfo, you may be better off with the debuginfo test suite:</span>たとえば、debuginfoをハッキングしている場合は、debuginfoテストスイートを使用する方がよい場合があります。</span> </p><br><div data-lang=bash><div data-l="&gt; ./x.py test --stage 1 src/test/debuginfo"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Warning:</b> Note that bors only runs the tests with the full stage 2 build;</span> <b>警告：</b> borsは、完全なステージ2ビルドのテストのみを実行します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">therefore, while the tests <b>usually</b> work fine with stage 1, there are some limitations.</span>したがって、テスト<b>は通常</b>ステージ1で正常に動作しますが、いくつかの制限があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In particular, the stage1 compiler doesn&#39;t work well with procedural macros or custom derive tests.</span>特に、stage1コンパイラは手続き型マクロやカスタム導出テストではうまく機能しません。</span> </p><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Running an individual test</span>個別のテストの実行</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Another common thing that people want to do is to run an <b>individual test</b> , often the test they are trying to fix.</span>人々がやりたいことのもう一つの共通点は、 <b>個々のテスト</b>を実行することです。これは、しばしば修正しようとしているテストです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">One way to do this is to invoke <code>x.py</code> with the <code>--test-args</code> option:</span>これを行う1つの方法は、-- <code>--test-args</code>オプションを<code>x.py</code>して<code>--test-args</code>を起動すること<code>x.py</code> 。</span> </p><br><div data-lang=bash><div data-l="&gt; ./x.py test --stage 1 src/test/ui --test-args issue-1234"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Under the hood, the test runner invokes the standard rust test runner (the same one you get with <code>#[test]</code> ), so this command would wind up filtering for tests that include &quot;issue-1234&quot; in the name.</span>フードの下では、テストランナーが標準の錆試験ランナー（ <code>#[test]</code>と同じもの）を呼び出します。このコマンドは、名前に「issue-1234」を含むテストのフィルタリングを行います。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Often, though, it&#39;s easier to just run the test by hand.</span>しかし、しばしば手作業でテストを実行するほうが簡単です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Most tests are just <code>rs</code> files, so you can do something like</span>ほとんどのテストは<code>rs</code>ファイルなので、次のようなことができます</span> </p><br><div data-lang=bash><div data-l="&gt; rustc +stage1 src/test/ui/issue-1234.rs"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This is much faster, but doesn&#39;t always work.</span>これははるかに高速ですが、常に機能するとは限りません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example, some tests include directives that specify specific compiler flags, or which rely on other crates, and they may not run the same without those options.</span>たとえば、特定のコンパイラフラグを指定するディレクティブや、他のクレートに依存するディレクティブが含まれます。</span> </p><br><script>_addload(function(){_setupIW('com');_csi('en','ja','running.html');});</script>