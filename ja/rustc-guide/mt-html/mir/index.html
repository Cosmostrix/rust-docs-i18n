<!DOCTYPE html><html lang=ja-x-mtfrom-en><head><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="https://translate.googleusercontent.com/translate/releases/twsfe_w_20180723_RC00/r/js/translate_c.js"></script><script>_intlStrings._originalText = "英語の原文テキスト:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|ja";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="%1$s に %2$s により翻訳されました";_intlStrings._unknown="不明";_intlStrings._suggestTranslation="翻訳を改善する"  ;_intlStrings._submit="送信";_intlStrings._suggestThanks="Google 翻訳の改善にご協力いただきありがとうございました。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href=index.html hreflang=en rel="alternate machine-translated-from"><base href="" target=_top /></head><body><iframe src="https://translate.google.com/translate_un?hl=ja&prev=_t&sl=en&tl=ja&lang=en&usg=ALkJrhi1BDLmdbWiRXYMNxkaJ7TdmUrvmA" width=0 height=0 frameborder=0 style="width:0px;height:0px;border:0px;display:none;"></iframe><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The MIR (Mid-level IR)</span> MIR（ミッドレベルIR）は、</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">MIR is Rust&#39;s <s>Mid-level Intermediate Representation</s> .</span> MIRはRustの<s>中級中間表現</s>です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It is constructed from <a class=notranslate href=#2./hir.html>HIR</a> .</span>それは<a class=notranslate href=#2./hir.html>HIR</a>から構築されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">MIR was introduced in <a class=notranslate href="#4RFC 1211">RFC 1211</a> .</span> MIRは<a class=notranslate href="#4RFC 1211">RFC 1211</a>導入され<a class=notranslate href="#4RFC 1211">RFC 1211</a> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It is a radically simplified form of Rust that is used for certain flow-sensitive safety checks – notably the borrow checker!</span>これは、特定の流量に敏感な安全点検に使用される根本的に単純化された形のRustです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">– and also for optimization and code generation.</span> - 最適化とコード生成のために。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you&#39;d like a very high-level introduction to MIR, as well as some of the compiler concepts that it relies on (such as control-flow graphs and desugaring), you may enjoy the <a href=#3blog>rust-lang blog post that introduced MIR</a> .</span> MIRを非常に高レベルで紹介したいと思っているならば、それが依存しているコンパイラの概念（コントロールフローグラフやデッサージなど）のいくつかと同様に、MIRを紹介した<a href=#3blog>rust-langのブログ記事を</a>楽しむことができます。</span> </p><br> <a class=notranslate href=#1https://blog.rust-lang.org/2016/04/19/MIR.html>blog</a> <br> <h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Introduction to MIR</span> MIR入門</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">MIR is defined in the <a class=notranslate href=#3mir><code>src/librustc/mir/</code></a> module, but much of the code that manipulates it is found in <a class=notranslate href=#3mirmanip><code>src/librustc_mir</code></a> .</span> MIRは、で定義されている<a class=notranslate href=#3mir><code>src/librustc/mir/</code></a>モジュールが、それを操作するコードの多くは中に発見された<a class=notranslate href=#3mirmanip><code>src/librustc_mir</code></a> 。</span> </p><br> <a class=notranslate href=#1http://rust-lang.github.io/rfcs/1211-mir.html>RFC 1211</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Some of the key characteristics of MIR are:</span> MIRの主な特徴のいくつかは次のとおりです。</span> </p><br><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It is based on a <a href=#3cfg>control-flow graph</a> .</span>これは、 <a href=#3cfg>制御フローグラフに</a>基づいてい<a href=#3cfg>ます</a> 。</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It does not have nested expressions.</span>ネストされた式はありません。</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">All types in MIR are fully explicit.</span> MIRのすべてのタイプは完全に明示的です。</span> </div><br> <a class=notranslate href=#1./appendix/background.html#cfg>cfg</a> <br> <h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Key MIR vocabulary</span>キーミル語彙</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This section introduces the key concepts of MIR, summarized here:</span>このセクションでは、MIRの主要概念を紹介します。</span> </p><br><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Basic blocks</b> : units of the control-flow graph, consisting of:</span> <b>基本ブロック</b> ：コントロールフローグラフの単位。</span> </div><div data-b="  -"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>statements:</b> actions with one successor</span> <b>ステートメント：</b> 1つの後継アクション</span> </div><div data-b="  -"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>terminators:</b> actions with potentially multiple successors;</span> <b>ターミネータ：</b>潜在的に複数の後継者を伴うアクション。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">always at the end of a block</span>いつもブロックの終わりに</span> </div><div data-b="  -"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(if you&#39;re not familiar with the term <i>basic block</i> , see the <a href=#3cfg>background chapter</a> )</span> （ <i>基本ブロック</i>という用語に慣れていない場合は、 <a href=#3cfg>背景の章を</a>参照してください）</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Locals:</b> Memory locations alloated on the stack (conceptually, at least), such as function arguments, local variables, and temporaries.</span> <b>ローカル：</b>関数の引数、ローカル変数、一時変数など、スタック上にアロケーションされたメモリの場所（概念的には、少なくとも）。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">These are identified by an index, written with a leading underscore, like <code>_1</code> .</span>これらは<code>_1</code>ような先頭のアンダースコアで書かれたインデックスによって識別されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">There is also a special &quot;local&quot; ( <code>_0</code> ) allocated to store the return value.</span>戻り値を格納するために割り当てられた特別な &quot;ローカル&quot;（ <code>_0</code> ）もあります。</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Places:</b> expressions that identify a location in memory, like <code>_1</code> or <code>_1.f</code> .</span> <b>Places：</b> <code>_1</code>や<code>_1.f</code>ようなメモリ上の場所を識別する式。</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Rvalues:</b> expressions that produce a value.</span> <b>Rvalues：</b>値を生成する式。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The &quot;R&quot; stands for the fact that these are the &quot;right-hand side&quot; of an assignment.</span> 「R」は、これらが課題の「右側」であるという事実を表しています。</span> </div><div data-b="  -"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Operands:</b> the arguments to an rvalue, which can either be a constant (like <code>22</code> ) or a place (like <code>_1</code> ).</span> <b>オペランド：</b> rvalueへの引数。定数（ <code>22</code> ）または場所（ <code>_1</code> ）のいずれかになります。</span> </div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can get a feeling for how MIR is structed by translating simple programs into MIR and reading the pretty printed output.</span>簡単なプログラムをMIRに翻訳し、きれいに印刷された出力を読むことで、MIRがどのように構成されているかを知ることができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In fact, the playground makes this easy, since it supplies a MIR button that will show you the MIR for your program.</span>実際には、あなたのプログラムのMIRを表示するMIRボタンを提供しているため、プレイグラウンドでこれを簡単に行うことができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Try putting this program into play (or <a href=#3sample-play>clicking on this link</a> ), and then clicking the &quot;MIR&quot; button on the top:</span>このプログラムをプレイしてみてください（または<a href=#3sample-play>このリンクをクリックしてください</a> ）。そして上の &quot;MIR&quot;ボタンをクリックしてください：</span> </p><br> <a class=notranslate href=#1https://play.rust-lang.org/?gist=30074856e62e74e91f06abd19bd72ece&amp;version=stable>sample-play</a> <br> <div data-lang=rust><div data-l="fn main() {"></div><div data-l="    let mut vec = Vec::new();"></div><div data-l="    vec.push(1);"></div><div data-l="    vec.push(2);"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You should see something like:</span>次のようなものが表示されます。</span> </p><br><div data-lang=mir><div data-l="#// WARNING: This output format is intended for human consumers only"></div><div data-l="#// and is subject to change without notice. Knock yourself out."></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">WARNING: This output format is intended for human consumers only and is subject to change without notice.</span>警告：この出力形式は、人間の消費者のみを対象としており、予告なしに変更されることがあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Knock yourself out.</span>自分をノックアウトしてください。</span> </div><div data-l="fn main() -&gt; () {"></div><div data-l="    ..."></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This is the MIR format for the <code>main</code> function.</span>これは<code>main</code>関数のMIR形式です。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Variable declarations.</b></span> <b>変数の宣言。</b></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If we drill in a bit, we&#39;ll see it begins with a bunch of variable declarations.</span>少し掘り下げれば、変数の宣言が始まっていることがわかります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">They look like this:</span>彼らはこのように見えます：</span> </p><br><div data-lang=mir><div data-l="#//let mut _0: ();                      // return place"></div><div data-l="let mut _0: ();                      // "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">return place</span>戻り場所</span> </div><div data-l="scope 1 {"></div><div data-l="#//    let mut _1: std::vec::Vec&lt;i32&gt;;  // &quot;vec&quot; in scope 1 at src/main.rs:2:9: 2:16"></div><div data-l="    let mut _1: std::vec::Vec&lt;i32&gt;;  // "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">&quot;vec&quot; in scope 1 at src/main.rs:2:9: 2:16</span>範囲1のsrc / main.rs：2：9：2:16の &quot;vec&quot;</span> </div><div data-l=}></div><div data-l="scope 2 {"></div><div data-l=}></div><div data-l="let mut _2: ();"></div><div data-l="let mut _3: &amp;mut std::vec::Vec&lt;i32&gt;;"></div><div data-l="let mut _4: ();"></div><div data-l="let mut _5: &amp;mut std::vec::Vec&lt;i32&gt;;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can see that variables in MIR don&#39;t have names, they have indices, like <code>_0</code> or <code>_1</code> .</span> MIRの変数には名前がなく、 <code>_0</code>や<code>_1</code>ようなインデックスがあることがわかります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We also intermingle the user&#39;s variables (eg, <code>_1</code> ) with temporary values (eg, <code>_2</code> or <code>_3</code> ).</span>また、ユーザの変数（ <code>_1</code> ）と一時的な値（ <code>_2</code>や<code>_3</code> ）が混在しています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can tell the difference between user-defined variables have a comment that gives you their original name ( <code>// &quot;vec&quot; in scope 1...</code> ).</span>ユーザー定義の変数の違いに、元の名前（ <code>// &quot;vec&quot; in scope 1...</code> ）を与えるコメントがあることが<code>// &quot;vec&quot; in scope 1...</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The &quot;scope&quot; blocks (eg, <code>scope 1 { .. }</code> ) describe the lexical structure of the source program (which names were in scope when).</span> &quot;scope&quot;ブロック（例えば<code>scope 1 { .. }</code> ）は、ソースプログラムの語彙構造を記述し<code>scope 1 { .. }</code> （名前はいつスコープに入ったのか）。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Basic blocks.</b></span> <b>基本ブロック。</b></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Reading further, we see our first <b>basic block</b> (naturally it may look slightly different when you view it, and I am ignoring some of the comments):</span>さらに読むと、最初の<b>基本ブロック</b>が表示されます（実際に見ると少し違って見えるかもしれませんが、私はいくつかのコメントを無視しています）。</span> </p><br><div data-lang=mir><div data-l="bb0: {"></div><div data-l="    StorageLive(_1);"></div><div data-l="    _1 = const &lt;std::vec::Vec&lt;T&gt;&gt;::new() -&gt; bb2;"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">A basic block is defined by a series of <b>statements</b> and a final <b>terminator</b> .</span>基本ブロックは、一連の<b>ステートメント</b>と最終的な<b>ターミネータ</b>で定義され<b>ます</b> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In this case, there is one statement:</span>この場合、1つのステートメントがあります。</span> </p><br><div data-lang=mir><div data-l=StorageLive(_1);></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This statement indicates that the variable <code>_1</code> is &quot;live&quot;, meaning that it may be used later – this will persist until we encounter a <code>StorageDead(_1)</code> statement, which indicates that the variable <code>_1</code> is done being used.</span>このステートメントは、変数<code>_1</code>が &quot;live&quot;であることを示します。これは、後で使用されることを意味します<code>StorageDead(_1)</code>ステートメントが出現するまで持続し、 <code>_1</code>変数の使用が完了したことを示します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">These &quot;storage statements&quot; are used by LLVM to allocate stack space.</span>これらの「ストレージステートメント」は、スタックスペースを割り当てるためにLLVMによって使用されます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <b>terminator</b> of the block <code>bb0</code> is the call to <code>Vec::new</code> :</span>ブロックの<b>終端</b> <code>bb0</code>呼び出しです<code>Vec::new</code> ：</span> </p><br><div data-lang=mir><div data-l="_1 = const &lt;std::vec::Vec&lt;T&gt;&gt;::new() -&gt; bb2;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Terminators are different from statements because they can have more than one successor – that is, control may flow to different places.</span>ターミネータはステートメントとは異なります。ステートメントは複数の後継を持つことができます。つまり、制御が異なる場所に流れることがあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Function calls like the call to <code>Vec::new</code> are always terminators because of the possibility of unwinding, although in the case of <code>Vec::new</code> we are able to see that indeed unwinding is not possible, and hence we list only one succssor block, <code>bb2</code> .</span> <code>Vec::new</code>呼び出しのような関数呼び出しは、巻き戻しの可能性があるため、常にターミネータです<code>Vec::new</code>場合、実際に巻き戻しが不可能であることがわかります。したがって、succssorブロックを1つだけリストします。 <code>bb2</code> 。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If we look ahead to <code>bb2</code> , we will see it looks like this:</span> <code>bb2</code>を先読みすると、次のようになります。</span> </p><br><div data-lang=mir><div data-l="bb2: {"></div><div data-l="    StorageLive(_3);"></div><div data-l="    _3 = &amp;mut _1;"></div><div data-l="    _2 = const &lt;std::vec::Vec&lt;T&gt;&gt;::push(move _3, const 1i32) -&gt; [return: bb3, unwind: bb4];"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here there are two statements: another <code>StorageLive</code> , introducing the <code>_3</code> temporary, and then an assignment:</span>ここには2つのステートメントがあります：別の<code>StorageLive</code> 、 <code>_3</code>一時的な導入、そして割り当て：</span> </p><br><div data-lang=mir><div data-l="_3 = &amp;mut _1;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Assignments in general have the form:</span>割り当ては一般的に次の形式です。</span> </p><br><div data-lang=text><div data-l="&lt;Place&gt; = &lt;Rvalue&gt;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">A place is an expression like <code>_3</code> , <code>_3.f</code> or <code>*_3</code> – it denotes a location in memory.</span>場所は<code>_3</code> 、 <code>_3.f</code>または<code>*_3</code>ような式です。これはメモリ内の場所を表します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">An <b>Rvalue</b> is an expression that creates a value: in this case, the rvalue is a mutable borrow expression, which looks like <code>&amp;mut &lt;Place&gt;</code> .</span> <b>Rvalue</b>は値を作成する式です。この場合、 <b>rvalue</b>は可変の借用式で、 <code>&amp;mut &lt;Place&gt;</code>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">So we can kind of define a grammar for rvalues like so:</span>ですから、右辺の文法を次のように定義することができます：</span> </p><br><div data-lang=text><div data-l="&lt;Rvalue&gt;  = &amp; (mut)? &lt;Place&gt;"></div><div data-l="          | &lt;Operand&gt; + &lt;Operand&gt;"></div><div data-l="          | &lt;Operand&gt; - &lt;Operand&gt;"></div><div data-l="          | ..."></div><div data-l=""></div><div data-l="&lt;Operand&gt; = Constant"></div><div data-l="          | copy Place"></div><div data-l="          | move Place"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As you can see from this grammar, rvalues cannot be nested – they can only reference places and constants.</span>この文法からわかるように、右辺値は入れ子にできません。右辺値と定数のみを参照できます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Moreover, when you use a place, we indicate whether we are <b>copying it</b> (which requires that the place have a type <code>T</code> where <code>T: Copy</code> ) or <b>moving it</b> (which works for a place of any type).</span>あなたの場所を使用するときにまた、我々は（場所はタイプ持っていることを必要とし、我々は<b>それをコピーし</b>ているかどうかを示す<code>T</code> <code>T: Copy</code> （任意の型の場所のために動作します）か、 <b>それを移動します</b> ）。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">So, for example, if we had the expression <code>x = a + b + c</code> in Rust, that would get compile to two statements and a temporary:</span>たとえば、Rustに<code>x = a + b + c</code>の式があれば、それは2つの文と1つの一時的な文にコンパイルされます。</span> </p><br><div data-lang=mir><div data-l="TMP1 = a + b"></div><div data-l="x = TMP1 + c"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">( <a href=#3play-abc>Try it and see</a> , though you may want to do release mode to skip over the overflow checks.)</span> （オーバーフローチェックをスキップするためにリリースモードを実行したいかもしれませんが、 <a href=#3play-abc>試してみてください</a> ）。</span> </p><br> <a class=notranslate href=#1https://play.rust-lang.org/?gist=1751196d63b2a71f8208119e59d8a5b6&amp;version=stable>play-abc</a> <br> <h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">MIR data types</span> MIRデータ型</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The MIR data types are defined in the <a class=notranslate href=#3mir><code>src/librustc/mir/</code></a> module.</span> MIRデータ型は、 <a class=notranslate href=#3mir><code>src/librustc/mir/</code></a>モジュールで定義されています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Each of the key concepts mentioned in the previous section maps in a fairly straightforward way to a Rust type.</span>前のセクションで述べた主要な概念のそれぞれは、Rust型へのかなり単純な方法でマップします。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The main MIR data type is <code>Mir</code> .</span>主なMIRデータ型は<code>Mir</code>です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It contains the data for a single function (along with sub-instances of Mir for &quot;promoted constants&quot;, but <a href=#2#promoted>you can read about those below</a> ).</span>これには、単一の関数のデータが含まれています（昇格された定数の場合は、Mirのサブインスタンスとともに表示され<a href=#2#promoted>ますが</a> 、 <a href=#2#promoted>以下でそれらについて読むことができます</a> ）。</span> </p><br><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Basic blocks</b> : The basic blocks are stored in the field <code>basic_blocks</code> ;</span> <b>基本ブロック</b> ：基本ブロックはフィールド<code>basic_blocks</code>格納されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">this is a vector of <code>BasicBlockData</code> structures.</span>これは<code>BasicBlockData</code>構造体のベクトルです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Nobody ever references a basic block directly: instead, we pass around <code>BasicBlock</code> values, which are <a class=notranslate href=#4newtype&#39;d>newtype&#39;d</a> indices into this vector.</span>誰も基本ブロックを直接参照することはありません。代わりに、このベクトルに<a class=notranslate href=#4newtype&#39;d>newtype&#39;d</a>インデックスである<code>BasicBlock</code>値を渡します。</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Statements</b> are represented by the type <code>Statement</code> .</span> <b>ステートメント</b>は、 <code>Statement</code>によって表されます。</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Terminators</b> are represented by the <code>Terminator</code> .</span> <b>ターミネータ</b>は、 <code>Terminator</code>によって表されます。</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Locals</b> are represented by a <a class=notranslate href=#4newtype&#39;d>newtype&#39;d</a> index type <code>Local</code> .</span> <b>ローカル</b>は、 <a class=notranslate href=#4newtype&#39;d>newtype&#39;d</a>タイプのインデックスタイプ<code>Local</code>によって表されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The data for a local variable is found in the <code>Mir</code> (the <code>local_decls</code> vector).</span>ローカル変数のデータは、 <code>Mir</code> （ <code>local_decls</code>ベクトル）にあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">There is also a special constant <code>RETURN_PLACE</code> identifying the special &quot;local&quot; representing the return value.</span>戻り値を表す特殊な &quot;ローカル&quot;を特定する特別な定数<code>RETURN_PLACE</code>もあります。</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Places</b> are identified by the enum <code>Place</code> .</span> <b>場所</b>はenum <code>Place</code>によって識別されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">There are a few variants:</span>いくつかの亜種があります：</span> </div><div data-b="  -"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Local variables like <code>_1</code></span> <code>_1</code>などのローカル変数</span> </div><div data-b="  -"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Static variables <code>FOO</code></span>静的変数<code>FOO</code></span> </div><div data-b="  -"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Projections</b> , which are fields or other things that &quot;project out&quot; from a base place.</span> <b>プロジェクション</b>は、ベースの場所から「突出した」フィールドまたは他のものです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">So eg the place <code>_1.f</code> is a projection, with <code>f</code> being the &quot;projection element and <code>_1</code> being the base path. <code>*_1</code> is also a projection, with the <code>*</code> being represented by the <code>ProjectionElem::Deref</code> element.</span>したがって、例えば<code>_1.f</code>の場所は投影であり、 <code>f</code>は &quot;投影要素&quot;であり、 <code>_1</code>は基本パスである。 <code>*_1</code>は投影でもあり、 <code>*</code>は<code>ProjectionElem::Deref</code>要素で表される。</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Rvalues</b> are represented by the enum <code>Rvalue</code> .</span> <b>Rvalue</b>は列挙<code>Rvalue</code>表されます。</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Operands</b> are represented by the enum <code>Operand</code> .</span> <b>オペランド</b>は列挙型<code>Operand</code>表されます。</span> </div><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Representing constants</span>定数を表す</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><i>to be written</i></span> <i>書かれる</i></span> </p><br><p><a name=promoted></a></p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Promoted constants</span>プロモート定数</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><i>to be written</i></span> <i>書かれる</i></span> </p><br><br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a class=notranslate href=#1https://github.com/rust-lang/rust/tree/master/src/librustc/mir>mir</a> <a class=notranslate href=#1https://github.com/rust-lang/rust/tree/master/src/librustc_mir>mirmanip</a> <a class=notranslate href=#1https://github.com/rust-lang/rust/tree/master/src/librustc/mir>mir</a> <a class=notranslate href=#1appendix/glossary.html>newtype&#39;d</a></span> <a class=notranslate href=#1https://github.com/rust-lang/rust/tree/master/src/librustc/mir>mir</a> <a class=notranslate href=#1https://github.com/rust-lang/rust/tree/master/src/librustc_mir>mirmanip</a> <a class=notranslate href=#1https://github.com/rust-lang/rust/tree/master/src/librustc/mir>mir</a> <a class=notranslate href=#1appendix/glossary.html>newtype&#39;d</a></span><script>_addload(function(){_setupIW('com');_csi('en','ja','index.html');});</script>