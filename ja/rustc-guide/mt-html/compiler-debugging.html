<!DOCTYPE html><html lang=ja-x-mtfrom-en><head><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="https://translate.googleusercontent.com/translate/releases/twsfe_w_20180723_RC00/r/js/translate_c.js"></script><script>_intlStrings._originalText = "英語の原文テキスト:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|ja";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="%1$s に %2$s により翻訳されました";_intlStrings._unknown="不明";_intlStrings._suggestTranslation="翻訳を改善する"  ;_intlStrings._submit="送信";_intlStrings._suggestThanks="Google 翻訳の改善にご協力いただきありがとうございました。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href=compiler-debugging.html hreflang=en rel="alternate machine-translated-from"><base href="" target=_top /></head><body><iframe src="https://translate.google.com/translate_un?hl=ja&prev=_t&sl=en&tl=ja&lang=en&usg=ALkJrhi1BDLmdbWiRXYMNxkaJ7TdmUrvmA" width=0 height=0 frameborder=0 style="width:0px;height:0px;border:0px;display:none;"></iframe><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Note: This is copied from the [rust-forge](https://github.com/rust-lang-nursery/rust-forge).</b></span> <b>注：これは[rust-forge]（https://github.com/rust-lang-nursery/rust-forge）からコピーされています。</b></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>If anything needs updating, please open an issue or make a PR on the github repo.</b></span> <b>何か更新が必要な場合は、問題を開いたりgithubリポジトリにPRをしてください。</b></span> </p><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Debugging the compiler</span>コンパイラのデバッグ</span> </h1> <a class=notranslate href=#1#debugging>debugging</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here are a few tips to debug the compiler:</span>コンパイラをデバッグするためのヒントを次に示します。</span> </p><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Getting a backtrace</span>バックトレースの取得</span> </h2> <a class=notranslate href=#1#getting-a-backtrace>getting-a-backtrace</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When you have an ICE (panic in the compiler), you can set <code>RUST_BACKTRACE=1</code> to get the stack trace of the <code>panic€</code> like in normal Rust programs.</span> ICE（コンパイラでパニック）が発生した場合、通常のRustプログラムのように<code>panic€</code>スタックトレースを取得するために<code>RUST_BACKTRACE=1</code>を設定できます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">IIRC backtraces <b>don&#39;t work</b> on Mac and on MinGW, sorry.</span> IIRCのバックトレース<b>は</b> MacとMinGWで動作しません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you have trouble or the backtraces are full of <code>unknown</code> , you might want to find some way to use Linux or MSVC on Windows.</span>問題がある場合やバックトレースが<code>unknown</code>場合は、Windows上でLinuxまたはMSVCを使用する方法を見つけることができます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In the default configuration, you don&#39;t have line numbers enabled, so the backtrace looks like this:</span>デフォルトの設定では、行番号が有効になっていないので、バックトレースは次のようになります。</span> </p><br><div data-lang=text><div data-l="stack backtrace:"></div><div data-l="   0: std::sys::imp::backtrace::tracing::imp::unwind_backtrace"></div><div data-l="   1: std::sys_common::backtrace::_print"></div><div data-l="   2: std::panicking::default_hook::{{closure}}"></div><div data-l="   3: std::panicking::default_hook"></div><div data-l="   4: std::panicking::rust_panic_with_hook"></div><div data-l="   5: std::panicking::begin_panic"></div><div data-l="   (~~~~ LINES REMOVED BY ME FOR BREVITY ~~~~)"></div><div data-l="  32: rustc_typeck::check_crate"></div><div data-l="  33: &lt;std::thread::local::LocalKey&lt;T&gt;&gt;::with"></div><div data-l="  34: &lt;std::thread::local::LocalKey&lt;T&gt;&gt;::with"></div><div data-l="  35: rustc::ty::context::TyCtxt::create_and_enter"></div><div data-l="  36: rustc_driver::driver::compile_input"></div><div data-l="  37: rustc_driver::run_compiler"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you want line numbers for the stack trace, you can enable <code>debuginfo-lines=true</code> or <code>debuginfo=true</code> in your config.toml and rebuild the compiler.</span>スタックトレースの行番号が必要な<code>debuginfo=true</code>は、config.tomlで<code>debuginfo-lines=true</code>または<code>debuginfo=true</code>を有効にしてコンパイラを再構築することができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Then the backtrace will look like this:</span>そうすればバックトレースは次のようになります：</span> </p><br><div data-lang=text><div data-l="stack backtrace:"></div><div data-l="   (~~~~ LINES REMOVED BY ME FOR BREVITY ~~~~)"></div><div data-l="             at /home/user/rust/src/librustc_typeck/check/cast.rs:110"></div><div data-l="   7: rustc_typeck::check::cast::CastCheck::check"></div><div data-l="             at /home/user/rust/src/librustc_typeck/check/cast.rs:572"></div><div data-l="             at /home/user/rust/src/librustc_typeck/check/cast.rs:460"></div><div data-l="             at /home/user/rust/src/librustc_typeck/check/cast.rs:370"></div><div data-l="   (~~~~ LINES REMOVED BY ME FOR BREVITY ~~~~)"></div><div data-l="  33: rustc_driver::driver::compile_input"></div><div data-l="             at /home/user/rust/src/librustc_driver/driver.rs:1010"></div><div data-l="             at /home/user/rust/src/librustc_driver/driver.rs:212"></div><div data-l="  34: rustc_driver::run_compiler"></div><div data-l="             at /home/user/rust/src/librustc_driver/lib.rs:253"></div></div><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Getting a backtrace for errors</span>エラーのバックトレースを取得する</span> </h2> <a class=notranslate href=#1#getting-a-backtrace-for-errors>getting-a-backtrace-for-errors</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you want to get a backtrace to the point where the compiler emits an error message, you can pass the <code>-Z treat-err-as-bug</code> , which will make the compiler panic on the first error it sees.</span>コンパイラがエラーメッセージを出すまでのバックトレースを取得したい場合は、 <code>-Z treat-err-as-bug</code>を渡すことができます。これにより、最初のエラーでコンパイラのパニックが発生します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This can also help when debugging <code>delay_span_bug</code> calls - it will make the first <code>delay_span_bug</code> call panic, which will give you a useful backtrace.</span>これは、 <code>delay_span_bug</code>呼び出しをデバッグする際にも役立ちます。最初の<code>delay_span_bug</code>呼び出しパニックが発生し、有用なバックトレースが得られます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example:</span>例えば：</span> </p><br><div data-lang=bash><div data-l="$ cat error.rs"></div><div data-l="fn main() {"></div><div data-l="    1 + ();"></div><div data-l=}></div></div><br><div data-lang=bash><div data-l="$ ./build/x86_64-unknown-linux-gnu/stage1/bin/rustc error.rs"></div><div data-l="error[E0277]: the trait bound `{integer}: std::ops::Add&lt;()&gt;` is not satisfied"></div><div data-l=" --&gt; error.rs:2:7"></div><div data-l="  |"></div><div data-l="2 |     1 + ();"></div><div data-l="  |       ^ no implementation for `{integer} + ()`"></div><div data-l="  |"></div><div data-l="  = help: the trait `std::ops::Add&lt;()&gt;` is not implemented for `{integer}`"></div><div data-l=""></div><div data-l="error: aborting due to previous error"></div><div data-l=""></div><div data-l="$ # Now, where does the error above come from?"></div><div data-l="$ RUST_BACKTRACE=1 \"></div><div data-l="    ./build/x86_64-unknown-linux-gnu/stage1/bin/rustc \"></div><div data-l="    error.rs \"></div><div data-l="    -Z treat-err-as-bug"></div><div data-l="error[E0277]: the trait bound `{integer}: std::ops::Add&lt;()&gt;` is not satisfied"></div><div data-l=" --&gt; error.rs:2:7"></div><div data-l="  |"></div><div data-l="2 |     1 + ();"></div><div data-l="  |       ^ no implementation for `{integer} + ()`"></div><div data-l="  |"></div><div data-l="  = help: the trait `std::ops::Add&lt;()&gt;` is not implemented for `{integer}`"></div><div data-l=""></div><div data-l="error: internal compiler error: unexpected panic"></div><div data-l=""></div><div data-l="note: the compiler unexpectedly panicked. this is a bug."></div><div data-l=""></div><div data-l="note: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports"></div><div data-l=""></div><div data-l="note: rustc 1.24.0-dev running on x86_64-unknown-linux-gnu"></div><div data-l=""></div><div data-l="note: run with `RUST_BACKTRACE=1` for a backtrace"></div><div data-l=""></div><div data-l="thread 'rustc' panicked at 'encountered error with `-Z treat_err_as_bug',"></div><div data-l=/home/user/rust/src/librustc_errors/lib.rs:411:12></div><div data-l="note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose"></div><div data-l=backtrace.></div><div data-l="stack backtrace:"></div><div data-l="  (~~~ IRRELEVANT PART OF BACKTRACE REMOVED BY ME ~~~)"></div><div data-l="   7: rustc::traits::error_reporting::&lt;impl rustc::infer::InferCtxt&lt;'a, 'gcx,"></div><div data-l="             'tcx&gt;&gt;::report_selection_error"></div><div data-l="             at /home/user/rust/src/librustc/traits/error_reporting.rs:823"></div><div data-l="   8: rustc::traits::error_reporting::&lt;impl rustc::infer::InferCtxt&lt;'a, 'gcx,"></div><div data-l="             'tcx&gt;&gt;::report_fulfillment_errors"></div><div data-l="             at /home/user/rust/src/librustc/traits/error_reporting.rs:160"></div><div data-l="             at /home/user/rust/src/librustc/traits/error_reporting.rs:112"></div><div data-l="   9: rustc_typeck::check::FnCtxt::select_obligations_where_possible"></div><div data-l="             at /home/user/rust/src/librustc_typeck/check/mod.rs:2192"></div><div data-l="  (~~~ IRRELEVANT PART OF BACKTRACE REMOVED BY ME ~~~)"></div><div data-l="  36: rustc_driver::run_compiler"></div><div data-l="             at /home/user/rust/src/librustc_driver/lib.rs:253"></div><div data-l="$ # Cool, now I have a backtrace for the error"></div></div><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Getting logging output</span>ログ出力の取得</span> </h2> <a class=notranslate href=#1#getting-logging-output>getting-logging-output</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The compiler has a lot of <code>debug€</code> calls, which print out logging information at many points.</span>コンパイラには多くの<code>debug€</code>機能があり、多くの点でログ情報を出力します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">These are very useful to at least narrow down the location of a bug if not to find it entirely, or just to orient yourself as to why the compiler is doing a particular thing.</span>これらは、少なくともバグの場所を絞り込むことができない場合には、少なくともコンパイラが特定のことをしている理由について自分自身を知るためには非常に便利です。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To see the logs, you need to set the <code>RUST_LOG</code> environment variable to your log filter, eg to get the logs for a specific module, you can run the compiler as <code>RUST_LOG=module::path rustc my-file.rs</code> .</span>ログを見るには、 <code>RUST_LOG</code>環境変数をログフィルタに設定する必要があります。たとえば、特定のモジュールのログを取得するには、 <code>RUST_LOG=module::path rustc my-file.rs</code>としてコンパイラを実行します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The Rust logs are powered by <a class=notranslate href=#4env-logger>env-logger</a> , and you can look at the docs linked there to see the full <code>RUST_LOG</code> syntax.</span> Rustログは<a class=notranslate href=#4env-logger>env-logger</a>によって動かされ、そこにリンクされているドキュメントを見れば完全な<code>RUST_LOG</code>構文を見ることが<code>RUST_LOG</code>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">All <code>debug€</code> output will then appear in standard error.</span>すべての<code>debug€</code>出力が標準エラーで表示されます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that unless you use a very strict filter, the logger will emit a <i>lot</i> of output - so it&#39;s typically a good idea to pipe standard error to a file and look at the log output with a text editor.</span>非常に厳密なフィルタを使用しない限り、ロガーは<i>多く</i>の出力を出すので、通常は標準エラーをファイルに渡し、テキスト出力でログ出力を調べることをお勧めします。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">So to put it together.</span>だからそれをまとめる。</span> </p><br><div data-lang=bash><div data-l="# This puts the output of all debug calls in `librustc/traits` into"></div><div data-l="# standard error, which might fill your console backscroll."></div><div data-l="$ RUST_LOG=rustc::traits rustc +local my-file.rs"></div><div data-l=""></div><div data-l="# This puts the output of all debug calls in `librustc/traits` in"></div><div data-l="# `traits-log`, so you can then see it with a text editor."></div><div data-l="$ RUST_LOG=rustc::traits rustc +local my-file.rs 2&gt;traits-log"></div><div data-l=""></div><div data-l="# Not recommended. This will show the output of all `debug!` calls"></div><div data-l="# in the Rust compiler, and there are a *lot* of them, so it will be"></div><div data-l="# hard to find anything."></div><div data-l="$ RUST_LOG=debug rustc +local my-file.rs 2&gt;all-log"></div><div data-l=""></div><div data-l="# This will show the output of all `info!` calls in `rustc_trans`."></div><div data-l=#></div><div data-l="# There's an `info!` statement in `trans_instance` that outputs"></div><div data-l="# every function that is translated. This is useful to find out"></div><div data-l="# which function triggers an LLVM assertion, and this is an `info!`"></div><div data-l="# log rather than a `debug!` log so it will work on the official"></div><div data-l="# compilers."></div><div data-l="$ RUST_LOG=rustc_trans=info rustc +local my-file.rs"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">While calls to <code>info€</code> are included in every build of the compiler, calls to <code>debug€</code> are only included in the program if the <code>debug-assertions=yes</code> is turned on in config.toml (it is turned off by default), so if you don&#39;t see <code>DEBUG</code> logs, especially if you run the compiler with <code>RUST_LOG=rustc rustc some.rs</code> and only see <code>INFO</code> logs, make sure that <code>debug-assertions=yes</code> is turned on in your config.toml.</span> <code>info€</code>呼び出しはコンパイラのすべてのビルドに含まれていますが、 <code>debug€</code>呼び出しはconfig.tomlで<code>debug-assertions=yes</code>がオンになっている場合にのみプログラムに含まれます（デフォルトではオフになっています）。 <code>DEBUG</code>ログが表示されない、特に<code>RUST_LOG=rustc rustc some.rs</code>コンパイラを実行し、 <code>INFO</code>ログしか表示しない場合は、config.tomlで<code>debug-assertions=yes</code>がオンになっていることを確認してください。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">I also think that in some cases just setting it will not trigger a rebuild, so if you changed it and you already have a compiler built, you might want to call <code>x.py clean</code> to force one.</span>場合によっては再構築をトリガしない設定もあるので、変更してすでにコンパイラをビルドしている場合は、 <code>x.py clean</code>を呼び出して強制的に呼び出すことをお勧めします。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Logging etiquette</span>ロギングエチケット</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because calls to <code>debug€</code> are removed by default, in most cases, don&#39;t worry about adding &quot;unnecessary&quot; calls to <code>debug€</code> and leaving them in code you commit - they won&#39;t slow down the performance of what we ship, and if they helped you pinning down a bug, they will probably help someone else with a different one.</span> <code>debug€</code>呼び出しはデフォルトでは削除されているため、ほとんどの場合、 <code>debug€</code> 「不要な」呼び出しを追加したり、コミットしたコードに残したりする心配はありません。彼らはあなたがバグを固定するのを助けました、彼らはおそらく別のものを持つ他の誰かを助けるでしょう。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However, there are still a few concerns that you might care about:</span>しかし、あなたが心配するかもしれないいくつかの心配がまだあります：</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Expensive operations in logs</span>ログの高価な操作</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">A note of caution: the expressions <i>within</i> the <code>debug€</code> call are run whenever RUST_LOG is set, even if the filter would exclude the log.</span>注意事項：RUST_LOGが設定されている場合は常に、フィルタがログを除外していても、 <code>debug€</code>コール<i>内</i>の式が実行されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This means that if in the module <code>rustc::foo</code> you have a statement</span>これは、モジュール<code>rustc::foo</code>文がある場合</span> </p><br><div data-lang=Rust><div data-l="debug!(&quot;{:?}&quot;, random_operation(tcx));"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Then if someone runs a debug <code>rustc</code> with <code>RUST_LOG=rustc::bar</code> , then <code>random_operation()</code> will still run - even while it&#39;s output will never be needed!</span>その後、誰かが<code>RUST_LOG=rustc::bar</code>を<code>RUST_LOG=rustc::bar</code>てデバッグ<code>rustc</code>を実行すると、 <code>random_operation()</code>はまだ実行されます。出力は必要ないでしょう！</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This means that you should not put anything too expensive or likely to crash there - that would annoy anyone who wants to use logging for their own module.</span>つまり、あまりにも高価なものやクラッシュする可能性のあるものを置くべきではありません。それは、自分のモジュール用のロギングを使用したいと思う人には迷惑をかけることになります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that if <code>RUST_LOG</code> is unset (the default), then the code will not run - this means that if your logging code panics, then no-one will know it until someone tries to use logging to find <i>another</i> bug.</span> <code>RUST_LOG</code>が設定されていない場合（デフォルト）、コードは実行されません。つまり、ロギングコードがパニックの場合、誰かがロギングを使用して<i>別の</i>バグを見つけようとするまで、誰も知りません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you <i>need</i> to do an expensive operation in a log, be aware that while log expressions are <i>evaluated</i> even if logging is not enabled in your module, they are not <i>formatted</i> unless it <i>is</i> .</span>ログで高価な操作を行う<i>必要</i>がある場合は、モジュールでログが有効になっていなくてもログ式が<i>評価さ</i>れますが、そうでない場合<i>は</i> <i>フォーマットさ</i>れません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This means you can put your expensive/crashy operations inside an <code>fmt::Debug</code> impl, and they will not be run unless your log is enabled:</span>つまり、高価な/クラッシュした操作を<code>fmt::Debug</code> implの中に置くことができ、ログが有効になっていなければ実行されません。</span> </p><br><div data-lang=Rust><div data-l="use std::fmt;"></div><div data-l=""></div><div data-l="struct ExpensiveOperationContainer&lt;'a, 'gcx, 'tcx&gt;"></div><div data-l="    where 'tcx: 'gcx, 'a: 'tcx"></div><div data-l={></div><div data-l="    tcx: TyCtxt&lt;'a, 'gcx, 'tcx&gt;"></div><div data-l=}></div><div data-l=""></div><div data-l="impl&lt;'a, 'gcx, 'tcx&gt; fmt::Debug for ExpensiveOperationContainer&lt;'a, 'gcx, 'tcx&gt; {"></div><div data-l="    fn fmt(&amp;self, fmt: &amp;mut fmt::Formatter) -&gt; fmt::Result {"></div><div data-l="        let value = random_operation(tcx);"></div><div data-l="        fmt::Debug::fmt(&amp;value, fmt)"></div><div data-l="    }"></div><div data-l=}></div><div data-l=""></div><div data-l="debug!(&quot;{:?}&quot;, ExpensiveOperationContainer { tcx });"></div></div><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Formatting Graphviz output (.dot files)</span> Graphviz出力のフォーマット（.dotファイル）</span> </h2> <a class=notranslate href=#1#formatting-graphviz-output>formatting-graphviz-output</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Some compiler options for debugging specific features yield graphviz graphs - eg the <code>#[rustc_mir(borrowck_graphviz_postflow=&quot;suffix.dot&quot;)]</code> attribute dumps various borrow-checker dataflow graphs.</span>特定の機能をデバッグするためのコンパイラオプションの中には、graphvizグラフを生成するものがあります。 <code>#[rustc_mir(borrowck_graphviz_postflow=&quot;suffix.dot&quot;)]</code>属性は、さまざまな<code>#[rustc_mir(borrowck_graphviz_postflow=&quot;suffix.dot&quot;)]</code> -Checkerデータフローグラフをダンプします。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">These all produce <code>.dot</code> files.</span>これらはすべて<code>.dot</code>ファイルを生成します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To view these files, install graphviz (eg <code>apt-get install graphviz</code> ) and then run the following commands:</span>これらのファイルを表示するには、graphviz（たとえば、 <code>apt-get install graphviz</code> ）を<code>apt-get install graphviz</code> 、次のコマンドを実行します。</span> </p><br><div data-lang=bash><div data-l="$ dot -T pdf maybe_init_suffix.dot &gt; maybe_init_suffix.pdf"></div><div data-l="$ firefox maybe_init_suffix.pdf # Or your favorite pdf viewer"></div></div><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Debugging LLVM</span> LLVMのデバッグ</span> </h2> <a class=notranslate href=#1#debugging-llvm>debugging-llvm</a> <br> <blockquote><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">NOTE: If you are looking for info about code generation, please see <a class=notranslate href=#3codegen>this chapter</a> instead.</span>注：コード生成に関する情報をお探しの場合は、 <a class=notranslate href=#3codegen>this chapter</a>を参照し<a class=notranslate href=#3codegen>this chapter</a>ください。</span> </p></blockquote><br> <a class=notranslate href=#1codegen.html>codegen</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This section is about debugging compiler bugs in code generation (eg why the compiler generated some piece of code or crashed in LLVM).</span>このセクションでは、コード生成におけるコンパイラのバグのデバッグについて説明します（コンパイラがコードを生成したり、LLVMでクラッシュした理由など）。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">LLVM is a big project on its own that probably needs to have its own debugging document (not that I could find one).</span> LLVMは独自の大きなプロジェクトで、おそらく独自のデバッグドキュメントを必要とするでしょう（私が見つけ出すことはできません）。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">But here are some tips that are important in a rustc context:</span>しかし、ここではさとうな状況で重要ないくつかのヒントがあります：</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As a general rule, compilers generate lots of information from analyzing code.</span>原則として、コンパイラは解析コードから多くの情報を生成します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Thus, a useful first step is usually to find a minimal example.</span>したがって、有用な第1のステップは、通常、最小限の例を見つけることである。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">One way to do this is to</span>これを行う1つの方法は、</span> </p><br><div data-b=1.> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">create a new crate that reproduces the issue (eg adding whatever crate is</span>問題を再現する新しいクレートを作成します（たとえば、クレートを追加するなど）。</span> </div><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">at fault as a dependency, and using it from there)</span>依存としての不具合で、そこからそれを使用する）</span> </p><br><div data-b=2.> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">minimize the crate by removing external dependencies;</span>外部の依存関係を削除してクレートを最小化する。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">that is, moving</span>つまり、動いている</span> </div><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">everything relevant to the new crate</span>新しいクレートに関連するすべて</span> </p><br><div data-b=3.> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">further minimize the issue by making the code shorter (there are tools that</span>コードを短くすることで問題をさらに最小限に抑えます（</span> </div><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">help with this like <code>creduce</code> )</span>このような<code>creduce</code>助けて<code>creduce</code> ）</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The official compilers (including nightlies) have LLVM assertions disabled, which means that LLVM assertion failures can show up as compiler crashes (not ICEs but &quot;real&quot; crashes) and other sorts of weird behavior.</span>公式コンパイラ（ナイトリーを含む）は、LLVMアサーションを無効にしています。つまり、LLVMアサーションの失敗は、ICEではなく実際のクラッシュやその他の奇妙な動作であるコンパイラクラッシュとして表示されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you are encountering these, it is a good idea to try using a compiler with LLVM assertions enabled - either an &quot;alt&quot; nightly or a compiler you build yourself by setting <code>[llvm] assertions=true</code> in your config.toml - and see whether anything turns up.</span>これらの問題が発生した場合は、LLVMアサーションを有効にしたコンパイラを使用することをお勧めします。「alt」夜間、またはconfig.tomlに<code>[llvm] assertions=true</code>を設定して自分自身を構築するコンパイラ何かが現れます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The rustc build process builds the LLVM tools into <code>./build/&lt;host-triple&gt;/llvm/bin</code> .</span> rustcのビルドプロセスはLLVMツールを<code>./build/&lt;host-triple&gt;/llvm/bin</code>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">They can be called directly.</span>彼らは直接呼び出すことができます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The default rustc compilation pipeline has multiple codegen units, which is hard to replicate manually and means that LLVM is called multiple times in parallel.</span>デフォルトのrustcコンパイルパイプラインには複数のcodegenユニットがあります。これは手動で複製するのが難しく、LLVMが複数回並列に呼び出されることを意味します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you can get away with it (ie if it doesn&#39;t make your bug disappear), passing <code>-C codegen-units=1</code> to rustc will make debugging easier.</span>バグが消えない場合は、 <code>-C codegen-units=1</code>をrustcに渡すと、デバッグが簡単になります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To rustc to generate LLVM IR, you need to pass the <code>--emit=llvm-ir</code> flag.</span> LLVM IRを生成するには、 - <code>--emit=llvm-ir</code>フラグを渡す必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you are building via cargo, use the <code>RUSTFLAGS</code> environment variable (eg <code>RUSTFLAGS=&#39;--emit=llvm-ir&#39;</code> ).</span>貨物を使って<code>RUSTFLAGS</code>する場合は、環境変数<code>RUSTFLAGS</code>使用して<code>RUSTFLAGS</code> （例： <code>RUSTFLAGS=&#39;--emit=llvm-ir&#39;</code> ）。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This causes rustc to spit out LLVM IR into the target directory.</span>これにより、rustcはLLVM IRをターゲットディレクトリに吐き出します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>cargo llvm-ir [options] path</code> spits out the LLVM IR for a particular function at <code>path</code> .</span> <code>cargo llvm-ir [options] path</code>にある特定の関数のLLVM IRを吐き出し<code>path</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">( <code>cargo install cargo-asm</code> installs <code>cargo asm</code> and <code>cargo llvm-ir</code> ).</span> （ <code>cargo install cargo-asm</code> <code>cargo asm</code> 、 <code>cargo llvm-ir</code>と<code>cargo llvm-ir</code>設置する）。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>--build-type=debug</code> emits code for debug builds.</span> <code>--build-type=debug</code>は、デバッグビルド用のコードを出力します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">There are also other useful options.</span>その他の便利なオプションもあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Also, debug info in LLVM IR can clutter the output a lot: <code>RUSTFLAGS=&quot;-C debuginfo=0&quot;</code> is really useful.</span>また、LLVM IRのデバッグ情報は出力をたくさん乱雑にする可能性があります： <code>RUSTFLAGS=&quot;-C debuginfo=0&quot;</code>は本当に便利です。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>RUSTFLAGS=&quot;-C save-temps&quot;</code> outputs LLVM bitcode (not the same as IR) at different stages during compilation, which is sometimes useful.</span> <code>RUSTFLAGS=&quot;-C save-temps&quot;</code>は、コンパイル中のさまざまな段階でLLVMビットコード（IRと同じではない）を出力します。これは便利なこともあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">One just needs to convert the bitcode files to <code>.ll</code> files using <code>llvm-dis</code> which should be in the target local compilation of rustc.</span> 1つは、 <code>llvm-dis</code>を使用して<code>.ll</code>コードファイルを<code>.ll</code>ファイルに変換する必要があります。これは、rustcのターゲットローカルコンパイルに含める必要があります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you want to play with the optimization pipeline, you can use the <code>opt</code> tool from <code>./build/&lt;host-triple&gt;/llvm/bin/</code> with the LLVM IR emitted by rustc.</span>最適化パイプラインを使いたい場合は、./ <code>opt</code> <code>./build/&lt;host-triple&gt;/llvm/bin/</code>の<code>opt</code>ツールを<code>./build/&lt;host-triple&gt;/llvm/bin/</code>したLLVM IRとともに使用できます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that rustc emits different IR depending on whether <code>-O</code> is enabled, even without LLVM&#39;s optimizations, so if you want to play with the IR rustc emits, you should:</span> rustcは、LLVMの最適化がなくても、 <code>-O</code>が有効かどうかによって異なるIRを発するので、IR rustcで再生したい場合は、次のようにする必要があります。</span> </p><br><div data-lang=bash><div data-l="$ rustc +local my-file.rs --emit=llvm-ir -O -C no-prepopulate-passes \"></div><div data-l="    -C codegen-units=1"></div><div data-l="$ OPT=./build/$TRIPLE/llvm/bin/opt"></div><div data-l="$ $OPT -S -O2 &lt; my-file.ll &gt; my"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you just want to get the LLVM IR during the LLVM pipeline, to eg see which IR causes an optimization-time assertion to fail, or to see when LLVM performs a particular optimization, you can pass the rustc flag <code>-C llvm-args=-print-after-all</code> , and possibly add <code>-C llvm-args=&#39;-filter-print-funcs=EXACT_FUNCTION_NAME</code> (eg <code>-C llvm-args=&#39;-filter-print-funcs=_ZN11collections3str21_$LT$impl$u20$str$GT$\ 7replace17hbe10ea2e7c809b0bE&#39;</code> ).</span> LLVMパイプライン中にLLVM IRを取得する場合、どのIRが最適化時間アサーションを失敗させるか、LLVMが特定の最適化を実行するかどうかを確認する場合は、rustcフラグ<code>-C llvm-args=-print-after-all</code> （例： <code>-C llvm-args=&#39;-filter-print-funcs=_ZN11collections3str21_$LT$impl$u20$str$GT$\ 7replace17hbe10ea2e7c809b0bE&#39;</code> <code>-C llvm-args=-print-after-all</code>追加し、場合によっては<code>-C llvm-args=&#39;-filter-print-funcs=EXACT_FUNCTION_NAME</code> <code>-C llvm-args=&#39;-filter-print-funcs=_ZN11collections3str21_$LT$impl$u20$str$GT$\ 7replace17hbe10ea2e7c809b0bE&#39;</code> ）。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">That produces a lot of output into standard error, so you&#39;ll want to pipe that to some file.</span>これは標準エラーに多くの出力を生成するので、そのファイルをいくつかのファイルにパイプしたいと思うでしょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Also, if you are using neither <code>-filter-print-funcs</code> nor <code>-C codegen-units=1</code> , then, because the multiple codegen units run in parallel, the printouts will mix together and you won&#39;t be able to read anything.</span>また、 <code>-C codegen-units=1</code> <code>-filter-print-funcs</code>も<code>-C codegen-units=1</code>も使用しない場合は、複数のコードジェネルユニットが並列に実行されるため、印刷物が混ざり合って何も読み取れません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you want just the IR for a specific function (say, you want to see why it causes an assertion or doesn&#39;t optimize correctly), you can use <code>llvm-extract</code> , eg</span> IRを特定の関数（例えば、なぜアサーションを引き起こすか、正しく最適化しないかを見たいと思っている）にしたいのであれば、 <code>llvm-extract</code>使うことができます。</span> </p><br><div data-lang=bash><div data-l="$ ./build/$TRIPLE/llvm/bin/llvm-extract \"></div><div data-l="    -func='_ZN11collections3str21_$LT$impl$u20$str$GT$7replace17hbe10ea2e7c809b0bE' \"></div><div data-l="    -S \"></div><div data-l="    &lt; unextracted.ll \"></div><div data-l="    &gt; extracted.ll"></div></div><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Filing LLVM bug reports</span> LLVMバグレポートの提出</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When filing an LLVM bug report, you will probably want some sort of minimal working example that demonstrates the problem.</span> LLVMのバグレポートを提出する際には、問題を示す最小限の作業例が必要になるでしょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The Godbolt compiler explorer is really helpful for this.</span> Godboltコンパイラエクスプローラはこれに本当に役立ちます。</span> </p><br><div data-b=1.> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Once you have some LLVM IR for the problematic code (see above), you can</span>問題のあるコードのLLVM IRを取得したら（上記を参照）、次のことができます。</span> </div><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">create a minimal working example with Godbolt.</span> Godboltとの最小限の作業例を作成します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Go to <a class=notranslate href=#2https://gcc.godbolt.org>gcc.godbolt.org</a> .</span> <a class=notranslate href=#2https://gcc.godbolt.org>gcc.godbolt.org</a>して<a class=notranslate href=#2https://gcc.godbolt.org>gcc.godbolt.org</a> 。</span> </p><br><div data-b=2.> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Choose <code>LLVM-IR</code> as programming language.</span>プログラミング言語として<code>LLVM-IR</code>を選択します。</span> </div><br><div data-b=3.> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Use <code>llc</code> to compile the IR to a particular target as is:</span> IRを特定のターゲットにコンパイルするには、次のように<code>llc</code>を使用します。</span> </div><div data-b="    -"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">There are some useful flags: <code>-mattr</code> enables target features, <code>-march=</code> selects the target, <code>-mcpu=</code> selects the CPU, etc.</span>いくつかの有用なフラグがあります。 <code>-mattr</code>はターゲット機能を有効にし、 <code>-march=</code>はターゲットを選択し、 <code>-mcpu=</code>はCPUを選択します。</span> </div><div data-b="    -"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Commands like <code>llc -march=help</code> output all architectures available, which is useful because sometimes the Rust arch names and the LLVM names do not match.</span> <code>llc -march=help</code>ようなコマンドは、使用可能なすべてのアーキテクチャー<code>llc -march=help</code>出力します。これは、Rustのアーチ名とLLVM名が一致しないことがあるため便利です。</span> </div><div data-b="    -"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you have compiled rustc yourself somewhere, in the target directory you have binaries for <code>llc</code> , <code>opt</code> , etc.</span>あなたがどこかでrustcをコンパイルしていれば、ターゲットディレクトリに<code>llc</code> 、 <code>opt</code>などのバイナリがあり<code>opt</code> 。</span> </div><br><div data-b=4.> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you want to optimize the LLVM-IR, you can use <code>opt</code> to see how the LLVM optimizations transform it.</span> LLVM-IRを最適化する場合は、 <code>opt</code>を使用して、LLVM最適化がどのように変換するかを確認できます。</span> </div><br><div data-b=5.> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Once you have a godbolt link demonstrating the issue, it is pretty easy to fill in an LLVM bug.</span>問題を示すゴッドボルトのリンクがあれば、LLVMのバグを埋めるのは簡単です。</span> </div><br><br> <a class=notranslate href=#1https://docs.rs/env_logger/0.4.3/env_logger/>env-logger</a><script>_addload(function(){_setupIW('com');_csi('en','ja','compiler-debugging.html');});</script>