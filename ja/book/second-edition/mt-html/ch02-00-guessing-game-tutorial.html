<!DOCTYPE html><html lang=ja-x-mtfrom-en><head><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="https://translate.googleusercontent.com/translate/releases/twsfe_w_20180709_RC00/r/js/translate_c.js"></script><script>_intlStrings._originalText = "英語の原文テキスト:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|ja";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="%1$s に %2$s により翻訳されました";_intlStrings._unknown="不明";_intlStrings._suggestTranslation="翻訳を改善する"  ;_intlStrings._submit="送信";_intlStrings._suggestThanks="Google 翻訳の改善にご協力いただきありがとうございました。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href=ch02-00-guessing-game-tutorial.html hreflang=en rel="alternate machine-translated-from"><base href="" target=_top /></head><body><iframe src="https://translate.google.com/translate_un?hl=ja&prev=_t&sl=en&tl=ja&lang=en&usg=ALkJrhi1BDLmdbWiRXYMNxkaJ7TdmUrvmA" width=0 height=0 frameborder=0 style="width:0px;height:0px;border:0px;display:none;"></iframe><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Programming a Guessing Game</span>推測ゲームをプログラミングする</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s jump into Rust by working through a hands-on project together!</span>実践的なプロジェクトを一緒に進めて、Rustに飛び込みましょう！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This chapter introduces you to a few common Rust concepts by showing you how to use them in a real program.</span>この章では、実際のプログラムでそれらを使用する方法を示すことによって、いくつかの一般的なRustの概念を紹介します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You&#39;ll learn about <code>let</code> , <code>match</code> , methods, associated functions, external crates, and more!</span> <code>let</code> 、 <code>match</code> 、メソッド、関連する関数、外部クレートなどについて学習します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The following chapters will explore these ideas in more detail.</span>以下の章では、これらのアイデアについて詳しく説明します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In this chapter, you&#39;ll practice the fundamentals.</span>この章では、基本を練習します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We&#39;ll implement a classic beginner programming problem: a guessing game.</span>古典的な初心者プログラミングの問題を実装します：推測ゲームです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here&#39;s how it works: the program will generate a random integer between 1 and 100. It will then prompt the player to enter a guess.</span>これはどのように動作するのですか？プログラムは1から100の間のランダムな整数を生成します。次に、推測を入力するようプレーヤーに促します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">After a guess is entered, the program will indicate whether the guess is too low or too high.</span>推測が入力されると、推測値が低すぎるか高すぎるかを示すプログラムが表示されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If the guess is correct, the game will print a congratulatory message and exit.</span>推測が正しい場合、ゲームは祝福メッセージを印刷して終了します。</span> </p><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Setting Up a New Project</span>新しいプロジェクトを設定する</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To set up a new project, go to the <i>projects</i> directory that you created in Chapter 1 and make a new project using Cargo, like so:</span>新しいプロジェクトを設定するには、第1章で作成した<i>projects</i>ディレクトリに移動し、Cargoを使用して新しいプロジェクトを作成します。次のようにします。</span> </p><br><div data-lang=text><div data-l="$ cargo new guessing_game --bin"></div><div data-l="$ cd guessing_game"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The first command, <code>cargo new</code> , takes the name of the project ( <code>guessing_game</code> ) as the first argument.</span>最初のコマンド<code>cargo new</code>は、プロジェクトの名前（ <code>guessing_game</code> ）を最初の引数として取ります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>--bin</code> flag tells Cargo to make a binary project, like the one in Chapter 1. The second command changes to the new project&#39;s directory.</span> <code>--bin</code>フラグはCargoに第1章のようなバイナリプロジェクトを作るよう指示します。第2のコマンドは新しいプロジェクトのディレクトリに変わります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Look at the generated <i>Cargo.toml</i> file:</span>生成された<i>Cargo.toml</i>ファイルを見てください：</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: Cargo.toml</span></span> <span class=filename>ファイル名：Cargo.toml</span></span> </p><br><div data-lang=toml><div data-l=[package]></div><div data-l="name = &quot;guessing_game&quot;"></div><div data-l="version = &quot;0.1.0&quot;"></div><div data-l="authors = [&quot;Your Name &lt;you@example.com&gt;&quot;]"></div><div data-l=""></div><div data-l=[dependencies]></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If the author information that Cargo obtained from your environment is not correct, fix that in the file and save it again.</span> Cargoが環境から取得した著者情報が正しくない場合は、ファイルに修正してもう一度保存してください。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As you saw in Chapter 1, <code>cargo new</code> generates a “Hello, world!” program for you.</span>第1章で見たように、 <code>cargo new</code>は &quot;Hello、world！&quot;プログラムを生成します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Check out the <i>src/main.rs</i> file:</span> <i>src / main.rs</i>ファイルをチェックしてください：</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust><div data-l="fn main() {"></div><div data-l="    println!(&quot;Hello, world!&quot;);"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now let&#39;s compile this “Hello, world!” program and run it in the same step using the <code>cargo run</code> command:</span>次に、この &quot;Hello、world！&quot;プログラムをコンパイルして、 <code>cargo run</code>コマンドを使用して同じ手順で実行してみましょう。</span> </p><br><div data-lang=text><div data-l="$ cargo run"></div><div data-l="   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)"></div><div data-l="    Finished dev [unoptimized + debuginfo] target(s) in 1.50 secs"></div><div data-l="     Running `target/debug/guessing_game`"></div><div data-l="Hello, world!"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>run</code> command comes in handy when you need to rapidly iterate on a project, as we&#39;ll do in this game, quickly testing each iteration before moving on to the next one.</span> <code>run</code>コマンドは、このゲームでやっているように、プロジェクトを迅速に反復する必要がある場合に便利です。各繰り返しをすばやくテストしてから次のプロジェクトに移行します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Reopen the <i>src/main.rs</i> file.</span> <i>src / main.rs</i>ファイルを再度<i>開き</i>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You&#39;ll be writing all the code in this file.</span>このファイルにすべてのコードを記述します。</span> </p><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Processing a Guess</span>推測を処理する</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The first part of the guessing game program will ask for user input, process that input, and check that the input is in the expected form.</span>推測ゲームプログラムの最初の部分は、ユーザーの入力を求め、その入力を処理し、入力が予想される形式であることを確認します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To start, we&#39;ll allow the player to input a guess.</span>まず、プレイヤーに推測を入力させます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Enter the code in Listing 2-1 into <i>src/main.rs</i> .</span>リスト2-1のコードを<i>src / main.rsに</i>入力します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="use std::io;"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    println!(&quot;Guess the number!&quot;);"></div><div data-l=""></div><div data-l="    println!(&quot;Please input your guess.&quot;);"></div><div data-l=""></div><div data-l="    let mut guess = String::new();"></div><div data-l=""></div><div data-l="    io::stdin().read_line(&amp;mut guess)"></div><div data-l="        .expect(&quot;Failed to read line&quot;);"></div><div data-l=""></div><div data-l="    println!(&quot;You guessed: {}&quot;, guess);"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Listing 2-1: Code that gets a guess from the user and prints it</span></span> <span class=caption>コードリスト2-1：ユーザーからの推測を​​取得して印刷するコード</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This code contains a lot of information, so let&#39;s go over it line by line.</span>このコードには多くの情報が含まれていますので、行ごとに説明しましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To obtain user input and then print the result as output, we need to bring the <code>io</code> (input/output) library into scope.</span>ユーザの入力を取得し、その結果を出力として出力するには、 <code>io</code> （入出力）ライブラリをスコープに入れる必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>io</code> library comes from the standard library (which is known as <code>std</code> ):</span> <code>io</code>ライブラリは標準ライブラリ（ <code>std</code>として知られてい<code>std</code> ）から来ます：</span> </p><br><div data-lang=rust,ignore><div data-l="use std::io;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">By default, Rust brings only a few types into the scope of every program in <a href=#3prelude>the <i>prelude</i></a></span>デフォルトでは、Rustは<a href=#3prelude>、 <i>プレリュードの</i></a>すべてのプログラムの範囲にわずかなタイプしか持ちません</span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">.</span> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If a type you want to use isn&#39;t in the prelude, you have to bring that type into scope explicitly with a <code>use</code> statement.</span>使用する型がプレリュードにない場合は、 <code>use</code>文を<code>use</code>してその型をスコープに明示的に持ち込む必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Using the <code>std::io</code> library provides you with a number of useful features, including the ability to accept user input.</span> <code>std::io</code>ライブラリを使用すると、ユーザーの入力を受け入れる機能を含む多くの便利な機能が提供されます。</span> </p><br> <a class=notranslate href=#1../../std/prelude/index.html>prelude</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As you saw in Chapter 1, the <code>main</code> function is the entry point into the program:</span>第1章で見たように、 <code>main</code>関数はプログラムへの入り口です：</span> </p><br><div data-lang=rust,ignore><div data-l="fn main() {"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>fn</code> syntax declares a new function, the parentheses, <code>()</code> , indicate there are no parameters, and the curly bracket, <code>{</code> , starts the body of the function.</span> <code>fn</code>構文は新しい関数を宣言し、カッコ<code>()</code>はパラメータがないことを示し、中括弧（ <code>{</code> ）は関数の本体を開始します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As you also learned in Chapter 1, <code>println€</code> is a macro that prints a string to the screen:</span>第1章で学んだように、 <code>println€</code>は文字列を画面に表示するマクロです：</span> </p><br><div data-lang=rust,ignore><div data-l="println!(&quot;Guess the number!&quot;);"></div><div data-l=""></div><div data-l="println!(&quot;Please input your guess.&quot;);"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This code is printing a prompt stating what the game is and requesting input from the user.</span>このコードは、ゲームが何であるかを示すプロンプトを表示し、ユーザーからの入力を要求しています。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Storing Values with Variables</span>値を変数に格納する</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Next, we&#39;ll create a place to store the user input, like this:</span>次に、次のようにユーザー入力を格納する場所を作成します。</span> </p><br><div data-lang=rust,ignore><div data-l="let mut guess = String::new();"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now the program is getting interesting!</span>今、プログラムは面白いです！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">There&#39;s a lot going on in this little line.</span>この小さな線には多くのことが起こっています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Notice that this is a <code>let</code> statement, which is used to create a <i>variable</i> .</span>これは<i>変数</i>を作成するために使用される<code>let</code>ステートメントであることに注意してください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here&#39;s another example:</span>別の例があります：</span> </p><br><div data-lang=rust,ignore><div data-l="let foo = bar;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This line creates a new variable named <code>foo</code> and binds it to the value <code>bar</code> .</span>この行は<code>foo</code>という名前の新しい変数を作成し、それをバリュー<code>bar</code>バインドし<code>bar</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In Rust, variables are immutable by default.</span> Rustでは、変数はデフォルトでは不変です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We&#39;ll discuss this concept in detail in the “Variables and Mutability” section in Chapter 3. The following example shows how to use <code>mut</code> before the variable name to make a variable mutable:</span>この概念については、第3章の「変数と可変性」のセクションで詳しく説明します。次の例は、変数名の前に<code>mut</code>を使用して変数を可変にする方法を示しています。</span> </p><br><div data-lang=rust,ignore><div data-l="#//let foo = 5; // immutable"></div><div data-l="let foo = 5; // "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">immutable</span>不変</span> </div><div data-l="#//let mut bar = 5; // mutable"></div><div data-l="let mut bar = 5; // "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">mutable</span>変更可能な</span> </div></div><br><blockquote><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note: The <code>//</code> syntax starts a comment that continues until the end of the line.</span>注： <code>//</code>構文は、行末まで続くコメントを開始します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust ignores everything in comments, which are discussed in more detail in Chapter 3.</span> Rustはコメントのすべてを無視します。これについては第3章で詳しく説明します。</span> </p></blockquote><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s return to the guessing game program.</span>推測ゲームプログラムに戻りましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You now know that <code>let mut guess</code> will introduce a mutable variable named <code>guess</code> .</span>あなたは今では知って<code>let mut guess</code>名前の変更可能な変数紹介します<code>guess</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">On the other side of the equal sign ( <code>=</code> ) is the value that <code>guess</code> is bound to, which is the result of calling <code>String::new</code> , a function that returns a new instance of a <code>String</code> .</span>等号（ <code>=</code> ）の反対側には、 <code>String</code>新しいインスタンスを返す関数である<code>String::new</code>を呼び出した結果の<code>guess</code>値がバインドされています。</span> <a class=notranslate href=#3string><code>String</code></a> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">is a string type provided by the standard library that is a growable, UTF-8 encoded bit of text.</span>拡張可能なUTF-8エンコードされたテキスト・ビットである標準ライブラリーによって提供されるストリング・タイプです。</span> </p><br> <a class=notranslate href=#1../../std/string/struct.String.html>string</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>::</code> syntax in the <code>::new</code> line indicates that <code>new</code> is an <i>associated function</i> of the <code>String</code> type.</span> <code>::new</code>行の<code>::</code>構文は、 <code>new</code>が<code>String</code>型の<i>関連する関数</i>であることを示します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">An associated function is implemented on a type, in this case <code>String</code> , rather than on a particular instance of a <code>String</code> .</span>関連する機能は、タイプに、この場合に実現される<code>String</code>ではなく、特定のインスタンス上で<code>String</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Some languages call this a <i>static method</i> .</span>いくつかの言語はこれを<i>静的メソッド</i>と呼びます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This <code>new</code> function creates a new, empty string.</span>この<code>new</code>関数は、空の新しい文字列を作成します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You&#39;ll find a <code>new</code> function on many types, because it&#39;s a common name for a function that makes a new value of some kind.</span>新しい値を作る関数の一般的な名前なので、多くの型で<code>new</code>関数を見つけることができます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To summarize, the <code>let mut guess = String::new();</code></span>要約すると、 <code>let mut guess = String::new();</code></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">line has created a mutable variable that is currently bound to a new, empty instance of a <code>String</code> .</span>現在、 <code>String</code>新しい空のインスタンスにバインドされている可変変数が作成されています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Whew!</span>すごい！</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Recall that we included the input/output functionality from the standard library with <code>use std::io;</code></span> <code>use std::io;</code>を<code>use std::io;</code>て標準ライブラリの入出力機能を組み込んだことを思い出してください<code>use std::io;</code></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">on the first line of the program.</span>プログラムの最初の行に表示されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now we&#39;ll call an associated function, <code>stdin</code> , on <code>io</code> :</span>これで、 <code>io</code>関数<code>stdin</code>呼び出します。</span> </p><br><div data-lang=rust,ignore><div data-l="io::stdin().read_line(&amp;mut guess)"></div><div data-l="    .expect(&quot;Failed to read line&quot;);"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If we hadn&#39;t listed the <code>use std::io</code> line at the beginning of the program, we could have written this function call as <code>std::io::stdin</code> .</span>プログラムの先頭に<code>use std::io</code>行を<code>use std::io</code>ていない場合は、この関数呼び出しを<code>std::io::stdin</code>と書くことができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>stdin</code> function returns an instance of <a class=notranslate href=#3iostdin><code>std::io::Stdin</code></a></span> <code>stdin</code>関数は、 <a class=notranslate href=#3iostdin><code>std::io::Stdin</code></a>インスタンスを返します</span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">, which is a type that represents a handle to the standard input for your terminal.</span>これは、端末の標準入力へのハンドルを表す型です。</span> </p><br> <a class=notranslate href=#1../../std/io/struct.Stdin.html>iostdin</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The next part of the code, <code>.read_line(&amp;mut guess)</code> , calls the <a class=notranslate href=#3read_line><code>read_line</code></a></span>コードの次の部分、 <code>.read_line(&amp;mut guess)</code>は、 <a class=notranslate href=#3read_line><code>read_line</code></a></span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">method on the standard input handle to get input from the user.</span>メソッドを標準入力ハンドルに追加して、ユーザーからの入力を取得します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We&#39;re also passing one argument to <code>read_line</code> : <code>&amp;mut guess</code> .</span> <code>read_line</code> 1つの引数を<code>read_line</code>ます： <code>&amp;mut guess</code> 。</span> </p><br> <a class=notranslate href=#1../../std/io/struct.Stdin.html#method.read_line>read_line</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The job of <code>read_line</code> is to take whatever the user types into standard input and place that into a string, so it takes that string as an argument.</span> <code>read_line</code>の仕事は、ユーザーが標準入力に入力したものをそのまま文字列に入れて、その文字列を引数として取り出すことです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The string argument needs to be mutable so the method can change the string&#39;s content by adding the user input.</span>文字列引数は変更可能である必要があり、メソッドはユーザー入力を追加して文字列の内容を変更できます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>&amp;</code> indicates that this argument is a <i>reference</i> , which gives you a way to let multiple parts of your code access one piece of data without needing to copy that data into memory multiple times.</span> <code>&amp;</code>は、この引数が<i>参照</i>であることを示しています。これにより、コードの複数の部分に、そのデータを複数回メモリにコピーする必要なしに、1つのデータにアクセスできるようになります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">References are a complex feature, and one of Rust&#39;s major advantages is how safe and easy it is to use references.</span>参照は複雑な機能であり、Rustの主な利点の1つは、参照を使用することがどれほど安全で簡単なのかです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You don&#39;t need to know a lot of those details to finish this program.</span>あなたは、このプログラムを終了するために多くの詳細を知る必要はありません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For now, all you need to know is that like variables, references are immutable by default.</span>今のところ、あなたが知る必要があるのは、同じ変数の場合、参照はデフォルトでは不変であるということです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Hence, you need to write <code>&amp;mut guess</code> rather than <code>&amp;guess</code> to make it mutable.</span>したがって、 <code>&amp;mut guess</code>ではなく、 <code>&amp;guess</code> <code>&amp;mut guess</code>てmutableとする必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(Chapter 4 will explain references more thoroughly.)</span> （第4章では、リファレンスをより完全に説明します）。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Handling Potential Failure with the <code>Result</code> Type</span> <code>Result</code>タイプによる潜在的な障害の処理</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We&#39;re not quite done with this line of code.</span>私たちは、このコード行ではあまり成し遂げられていません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Although what we&#39;ve discussed so far is a single line of text, it&#39;s only the first part of the single logical line of code.</span>これまで説明してきたのは1行のテキストですが、これは単一の論理的なコード行の最初の部分にすぎません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The second part is this method:</span> 2番目の部分はこのメソッドです。</span> </p><br><div data-lang=rust,ignore><div data-l=".expect(&quot;Failed to read line&quot;);"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When you call a method with the <code>.foo()</code> syntax, it&#39;s often wise to introduce a newline and other whitespace to help break up long lines.</span> <code>.foo()</code>構文を使ってメソッドを呼び出すときには、長い行を<code>.foo()</code>するのに役立つ改行やその他の空白を導入することが賢明です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We could have written this code as:</span>このコードを次のように書くことができました：</span> </p><br><div data-lang=rust,ignore><div data-l="io::stdin().read_line(&amp;mut guess).expect(&quot;Failed to read line&quot;);"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However, one long line is difficult to read, so it&#39;s best to divide it: two lines for two method calls.</span>しかし、1つの長い行は読みにくいので、分割することをお勧めします.2つのメソッド呼び出しの2行です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now let&#39;s discuss what this line does.</span>さて、この行が何をしているかについて話しましょう。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As mentioned earlier, <code>read_line</code> puts what the user types into the string we&#39;re passing it, but it also returns a value—in this case, an <a class=notranslate href=#3ioresult><code>io::Result</code></a></span>先に述べたように、 <code>read_line</code>は、 <code>read_line</code>文字列にユーザーが入力したものを入れますが、値も返します。この場合、 <a class=notranslate href=#3ioresult><code>io::Result</code></a></span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">.</span> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust has a number of types named <code>Result</code> in its standard library: a generic <a class=notranslate href=#3result><code>Result</code></a></span> Rustには、標準ライブラリに<code>Result</code>という名前のいくつかの型があります。一般的な<a class=notranslate href=#3result><code>Result</code></a></span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">as well as specific versions for submodules, such as <code>io::Result</code> .</span> <code>io::Result</code>ようなサブモジュール用の特定のバージョンも含まれます。</span> </p><br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a class=notranslate href=#1../../std/io/type.Result.html>ioresult</a> <a class=notranslate href=#1../../std/result/enum.Result.html>result</a></span> <a class=notranslate href=#1../../std/io/type.Result.html>ioresult</a> <a class=notranslate href=#1../../std/result/enum.Result.html>result</a></span> <br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>Result</code> types are <a class=notranslate href=#3enums><i>enumerations</i></a></span> <code>Result</code>型は<a class=notranslate href=#3enums><i>enumerations</i></a></span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">, often referred to as <i>enums</i> .</span>しばしば<i>列挙型</i>と呼ばれる。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">An enumeration is a type that can have a fixed set of values, and those values are called the enum&#39;s <i>variants</i> .</span>列挙型は、固定値のセットを持つことができる型であり、その値は列挙型の<i>変種</i>と呼ばれ<i>ます</i> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Chapter 6 will cover enums in more detail.</span>第6章では列挙型について詳しく説明します。</span> </p><br> <a class=notranslate href=#1ch06-00-enums.html>enums</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For <code>Result</code> , the variants are <code>Ok</code> or <code>Err</code> .</span> <code>Result</code>場合、バリアントは<code>Ok</code>または<code>Err</code>です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>Ok</code> variant indicates the operation was successful, and inside <code>Ok</code> is the successfully generated value.</span> <code>Ok</code>変異体は、操作が成功したことを示し、そして内部<code>Ok</code>正常に生成された値です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>Err</code> variant means the operation failed, and <code>Err</code> contains information about how or why the operation failed.</span> <code>Err</code>バリアントは、操作が失敗したことを意味し、 <code>Err</code>は、操作の失敗の理由または理由に関する情報が含まれています。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The purpose of these <code>Result</code> types is to encode error-handling information.</span>これらの<code>Result</code>型の目的は、エラー処理情報をエンコードすることです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Values of the <code>Result</code> type, like values of any type, have methods defined on them.</span> <code>Result</code>型の値は、任意の型の値と同様に、メソッドが定義されています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">An instance of <code>io::Result</code> has an <a href=#3expect><code>expect</code> method</a></span> <code>io::Result</code>のインスタンスには<a href=#3expect><code>expect</code>メソッドがあります</a></span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">that you can call.</span>あなたが呼ぶことができるもの。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If this instance of <code>io::Result</code> is an <code>Err</code> value, <code>expect</code> will cause the program to crash and display the message that you passed as an argument to <code>expect</code> .</span> <code>io::Result</code>このインスタンスが<code>Err</code>値の場合、 <code>expect</code>はプログラムがクラッシュし、渡すメッセージを<code>expect</code>引数として表示します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If the <code>read_line</code> method returns an <code>Err</code> , it would likely be the result of an error coming from the underlying operating system.</span> <code>read_line</code>メソッドが<code>Err</code>返す場合は、基になるオペレーティングシステムからのエラーの結果である可能性があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If this instance of <code>io::Result</code> is an <code>Ok</code> value, <code>expect</code> will take the return value that <code>Ok</code> is holding and return just that value to you so you can use it.</span>この<code>io::Result</code>インスタンスが<code>Ok</code>値である場合、 <code>expect</code>は、 <code>Ok</code>が保持している戻り値を受け取り、その値だけを返して使用できます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In this case, that value is the number of bytes in what the user entered into standard input.</span>この場合、その値はユーザーが標準入力に入力したバイト数です。</span> </p><br> <a class=notranslate href=#1../../std/result/enum.Result.html#method.expect>expect</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you don&#39;t call <code>expect</code> , the program will compile, but you&#39;ll get a warning:</span> <code>expect</code>呼び出さなければ、プログラムはコンパイルされますが、警告が表示されます：</span> </p><br><div data-lang=text><div data-l="$ cargo build"></div><div data-l="   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)"></div><div data-l="warning: unused `std::result::Result` which must be used"></div><div data-l="  --&gt; src/main.rs:10:5"></div><div data-l="   |"></div><div data-l="10 |     io::stdin().read_line(&amp;mut guess);"></div><div data-l="   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"></div><div data-l="   |"></div><div data-l="   = note: #[warn(unused_must_use)] on by default"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust warns that you haven&#39;t used the <code>Result</code> value returned from <code>read_line</code> , indicating that the program hasn&#39;t handled a possible error.</span> Rustは、 <code>read_line</code>から返された<code>Result</code>値を使用していないことを警告します。これは、プログラムがエラーを処理しなかったことを示しています。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The right way to suppress the warning is to actually write error handling, but because you just want to crash this program when a problem occurs, you can use <code>expect</code> .</span>警告を抑制する正しい方法は、実際にエラー処理を書くことですが、問題が発生したときにこのプログラムをクラッシュさせたいだけなので、 <code>expect</code>を使用<code>expect</code>ことができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You&#39;ll learn about recovering from errors in Chapter 9.</span>エラーからの回復については、第9章で学習します。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Printing Values with <code>println€</code> Placeholders</span> <code>println€</code>プレースホルダによる値の印刷</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Aside from the closing curly brackets, there&#39;s only one more line to discuss in the code added so far, which is the following:</span>中括弧で囲まれた中括弧を除いて、これまでに追加されたコードではさらに議論すべき行が1つしかありません。</span> </p><br><div data-lang=rust,ignore><div data-l="println!(&quot;You guessed: {}&quot;, guess);"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This line prints the string we saved the user&#39;s input in. The set of curly brackets, <code>{}</code> , is a placeholder: think of <code>{}</code> as little crab pincers that hold a value in place.</span>この行は、ユーザーの入力を保存した文字列を出力します。中括弧<code>{}</code>は、プレースホルダです。 <code>{}</code>は、値を保持する小さなカニのピンチャーであると考えてください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can print more than one value using curly brackets: the first set of curly brackets holds the first value listed after the format string, the second set holds the second value, and so on.</span>中括弧を使用して複数の値を出力することができます。中括弧の最初のセットは、書式文字列の後にリストされた最初の値を保持し、2番目のセットは2番目の値を保持します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Printing multiple values in one call to <code>println€</code> would look like this:</span> <code>println€</code>への1回の呼び出しで複数の値を出力すると、次のようになります。</span> </p><br><div data-lang=rust><div data-l="let x = 5;"></div><div data-l="let y = 10;"></div><div data-l=""></div><div data-l="println!(&quot;x = {} and y = {}&quot;, x, y);"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This code would print <code>x = 5 and y = 10</code> .</span>このコードは<code>x = 5 and y = 10</code>ます。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Testing the First Part</span>最初の部分をテストする</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s test the first part of the guessing game.</span>推測ゲームの最初の部分をテストしましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Run it using <code>cargo run</code> :</span>カーゴランを使用して<code>cargo run</code> 。</span> </p><br><div data-lang=text><div data-l="$ cargo run"></div><div data-l="   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)"></div><div data-l="    Finished dev [unoptimized + debuginfo] target(s) in 2.53 secs"></div><div data-l="     Running `target/debug/guessing_game`"></div><div data-l="Guess the number!"></div><div data-l="Please input your guess."></div><div data-l=6></div><div data-l="You guessed: 6"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">At this point, the first part of the game is done: we&#39;re getting input from the keyboard and then printing it.</span>この時点で、ゲームの最初の部分が完了します。キーボードから入力を受け取り、それを印刷しています。</span> </p><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Generating a Secret Number</span>秘密番号の生成</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Next, we need to generate a secret number that the user will try to guess.</span>次に、ユーザーが推測しようとする秘密の番号を生成する必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The secret number should be different every time so the game is fun to play more than once.</span>秘密の番号は毎回異なるはずですので、ゲームは複数回遊ぶのが楽しいです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s use a random number between 1 and 100 so the game isn&#39;t too difficult.</span> 1と100の間の乱数を使用して、ゲームがそれほど難しくないようにしましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust doesn&#39;t yet include random number functionality in its standard library.</span> Rustには標準ライブラリに乱数機能はまだ含まれていません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However, the Rust team does provide a <a href=#3randcrate><code>rand</code> crate</a> .</span>しかし、Rustチームは<a href=#3randcrate><code>rand</code> crateを</a>提供しています。</span> </p><br> <a class=notranslate href=#1https://crates.io/crates/rand>randcrate</a> <br> <h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Using a Crate to Get More Functionality</span>クレートを使用してより多くの機能を利用する</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Remember that a crate is a package of Rust code.</span>クレートは錆のコードのパッケージであることに注意してください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The project we&#39;ve been building is a <i>binary crate</i> , which is an executable.</span>私たちが構築してきたプロジェクトは、実行可能ファイルである<i>バイナリ・クレート</i>です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>rand</code> crate is a <i>library crate</i> , which contains code intended to be used in other programs.</span> <code>rand</code> crateは<i>ライブラリクレートで</i> 、他のプログラムで使用するためのコードが含まれています。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Cargo&#39;s use of external crates is where it really shines.</span>貨物の外部箱の使用は、それが本当に輝く場所です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Before we can write code that uses <code>rand</code> , we need to modify the <i>Cargo.toml</i> file to include the <code>rand</code> crate as a dependency.</span> <code>rand</code>を使用するコードを書く前に、 <code>rand</code> <i>crateを</i>依存関係として含めるように<i>Cargo.toml</i>ファイルを変更する必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Open that file now and add the following line to the bottom beneath the <code>[dependencies]</code> section header that Cargo created for you:</span>そのファイルを開き、Cargoがあなたのために作成した<code>[dependencies]</code>セクションヘッダーの下に次の行を追加します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: Cargo.toml</span></span> <span class=filename>ファイル名：Cargo.toml</span></span> </p><br><div data-lang=toml><div data-l=[dependencies]></div><div data-l=""></div><div data-l="rand = &quot;0.3.14&quot;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In the <i>Cargo.toml</i> file, everything that follows a header is part of a section that continues until another section starts.</span> <i>Cargo.toml</i>ファイルでは、ヘッダーの後に続くすべてが、別のセクションが開始するまで続くセクションの一部です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>[dependencies]</code> section is where you tell Cargo which external crates your project depends on and which versions of those crates you require.</span> <code>[dependencies]</code>セクションでは、Cargoに、プロジェクトが依存する外部のテンプレートと、必要とするこれらのテンプレートのバージョンを指定します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In this case, we&#39;ll specify the <code>rand</code> crate with the semantic version specifier <code>0.3.14</code> .</span>この場合、セマンティックバージョン指定子<code>0.3.14</code> <code>rand</code> <code>0.3.14</code>指定し<code>0.3.14</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Cargo understands <a class=notranslate href=#3semver>Semantic Versioning</a></span>貨物は<a class=notranslate href=#3semver>Semantic Versioning</a>理解する</span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(sometimes called <i>SemVer</i> ), which is a standard for writing version numbers.</span> （ <i>SemVer</i>とも呼ばれ<i>ます</i> ）は、バージョン番号を記述するための標準です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The number <code>0.3.14</code> is actually shorthand for <code>^0.3.14</code> , which means “any version that has a public API compatible with version 0.3.14.”</span>数値<code>0.3.14</code>は、実際には<code>^0.3.14</code> 、「バージョン0.3.14と互換性のある公開APIを持つすべてのバージョン」を意味します。</span> </p><br> <a class=notranslate href=#1http://semver.org>semver</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now, without changing any of the code, let&#39;s build the project, as shown in Listing 2-2.</span>さて、コードを変更せずに、リスト2-2に示すように、プロジェクトをビルドしましょう。</span> </p><br><div data-lang=text><div data-l="$ cargo build"></div><div data-l="    Updating registry `https://github.com/rust-lang/crates.io-index`"></div><div data-l=" Downloading rand v0.3.14"></div><div data-l=" Downloading libc v0.2.14"></div><div data-l="   Compiling libc v0.2.14"></div><div data-l="   Compiling rand v0.3.14"></div><div data-l="   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)"></div><div data-l="    Finished dev [unoptimized + debuginfo] target(s) in 2.53 secs"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Listing 2-2: The output from running <code>cargo build</code> after adding the rand crate as a dependency</span></span> <span class=caption>リスト2-2：rand crateを依存関係として追加した後の実行中の<code>cargo build</code>からの出力</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You may see different version numbers (but they will all be compatible with the code, thanks to SemVer!), and the lines may be in a different order.</span>異なるバージョン番号が表示されることがあります（しかし、それらはすべてSemVerのおかげでコードと互換性があります）。また、行の順序が異なる場合があります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now that we have an external dependency, Cargo fetches the latest versions of everything from the <i>registry</i> , which is a copy of data from <a class=notranslate href=#3cratesio>Crates.io</a> .</span> Cargoは外部からの依存性があるので、 <i>レジストリ</i>から<a class=notranslate href=#3cratesio>Crates.io</a>のデータのコピーであるすべての最新バージョンを取得し<i>ます</i> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Crates.io is where people in the Rust ecosystem post their open source Rust projects for others to use.</span> Crates.ioは、Rustエコシステムの人々が他の人が使用するためのオープンソースのRustプロジェクトを投稿する場所です。</span> </p><br> <a class=notranslate href=#1https://crates.io>cratesio</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">After updating the registry, Cargo checks the <code>[dependencies]</code> section and downloads any crates you don&#39;t have yet.</span>レジストリを更新した後、Cargoは<code>[dependencies]</code>セクションをチェックし、まだ持っていない箱をダウンロードします。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In this case, although we only listed <code>rand</code> as a dependency, Cargo also grabbed a copy of <code>libc</code> , because <code>rand</code> depends on <code>libc</code> to work.</span>このケースでは、 <code>rand</code>は依存関係としてリストされていましたが、Cargoは<code>libc</code>コピーも<code>libc</code>しました。なぜなら、 <code>rand</code>は<code>libc</code>に依存しているからです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">After downloading the crates, Rust compiles them and then compiles the project with the dependencies available.</span>クレートをダウンロードした後、Rustはそれらをコンパイルし、利用可能な依存関係でプロジェクトをコンパイルします。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you immediately run <code>cargo build</code> again without making any changes, you won&#39;t get any output aside from the <code>Finished</code> line.</span>変更を加えずに直ちに<code>cargo build</code>実行すると、 <code>Finished</code>ライン以外の出力は得られません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Cargo knows it has already downloaded and compiled the dependencies, and you haven&#39;t changed anything about them in your <i>Cargo.toml</i> file.</span> Cargoはそれがすでに依存関係をダウンロードしてコンパイルしていることを知っており、 <i>Cargo.toml</i>ファイルでそれらについて何も変更していません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Cargo also knows that you haven&#39;t changed anything about your code, so it doesn&#39;t recompile that either.</span>カーゴは、あなたがコードについて何も変更していないことも知っているので、それを再コンパイルしません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">With nothing to do, it simply exits.</span>何もすることなく、それは単に終了します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you open up the <i>src/main.rs</i> file, make a trivial change, and then save it and build again, you&#39;ll only see two lines of output:</span> <i>src / main.rs</i>ファイルを開き、簡単な変更を行い、それを保存してもう一度ビルドすると、2行の出力しか表示されません。</span> </p><br><div data-lang=text><div data-l="$ cargo build"></div><div data-l="   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)"></div><div data-l="    Finished dev [unoptimized + debuginfo] target(s) in 2.53 secs"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">These lines show Cargo only updates the build with your tiny change to the <i>src/main.rs</i> file.</span>これらの行は、Cargoが<i>src / main.rs</i>ファイルへの小さな変更でビルドを更新するだけであることを<i>示してい</i>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Your dependencies haven&#39;t changed, so Cargo knows it can reuse what it has already downloaded and compiled for those.</span>依存関係は変更されていないので、Cargoはすでにダウンロードしてコンパイルしたものを再利用できることを認識しています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It just rebuilds your part of the code.</span>コードの一部を再構築するだけです。</span> </p><br><h4> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Ensuring Reproducible Builds with the <i>Cargo.lock</i> File</span> <i>Cargo.lock</i>ファイルによる再現可能なビルドの保証</span> </h4><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Cargo has a mechanism that ensures you can rebuild the same artifact every time you or anyone else builds your code: Cargo will use only the versions of the dependencies you specified until you indicate otherwise.</span> Cargoには、あなたや他の誰かがあなたのコードをビルドするたびに、同じアーティファクトを再構築できる仕組みがあります：あなたが指定するまで、Cargoはあなたが指定した依存関係のバージョンのみを使用します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example, what happens if next week version 0.3.15 of the <code>rand</code> crate comes out and contains an important bug fix but also contains a regression that will break your code?</span>たとえば、 <code>rand</code> crateの次のバージョン0.3.15が出てきて、重要なバグ修正が含まれているだけでなく、コードを壊す回帰が含まれているとどうなりますか？</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The answer to this problem is the <i>Cargo.lock</i> file, which was created the first time you ran <code>cargo build</code> and is now in your <i>guessing_game</i> directory.</span>この問題への答えは、 <i>Cargo.lock</i>ファイルです。これは、最初に<code>cargo build</code>を実行したときに作成され、今<i>guessing_game</i>ディレクトリにあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When you build a project for the first time, Cargo figures out all the versions of the dependencies that fit the criteria and then writes them to the <i>Cargo.lock</i> file.</span>初めてプロジェクトをビルドするとき、Cargoは基準に合致するすべてのバージョンの依存関係を<i>把握</i>し、 <i>Cargo.lock</i>ファイルに書き込みます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When you build your project in the future, Cargo will see that the <i>Cargo.lock</i> file exists and use the versions specified there rather than doing all the work of figuring out versions again.</span>将来的にプロジェクトをビルドすると、Cargoは<i>Cargo.lock</i>ファイルが存在することを確認し、 <i>バージョンを再検討</i>するすべての作業を行うのではなく、指定されたバージョンを使用します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This lets you have a reproducible build automatically.</span>これにより、自動的に再現可能なビルドが可能になります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In other words, your project will remain at <code>0.3.14</code> until you explicitly upgrade, thanks to the <i>Cargo.lock</i> file.</span>つまり、 <i>Cargo.lock</i>ファイルのおかげで、明示的にアップグレードするまでプロジェクトは<code>0.3.14</code>ままです。</span> </p><br><h4> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Updating a Crate to Get a New Version</span>新しいバージョンを取得するためのクレートの更新</span> </h4><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When you <i>do</i> want to update a crate, Cargo provides another command, <code>update</code> , which will ignore the <i>Cargo.lock</i> file and figure out all the latest versions that fit your specifications in <i>Cargo.toml</i> .</span>あなたはクレートを更新し<i>ない</i>場合、貨物は別のコマンド、提供<code>update</code> <i>Cargo.lockファイル</i>を無視し<i>Cargo.toml</i>であなたの仕様に合わせて、すべての最新バージョンを把握します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If that works, Cargo will write those versions to the <i>Cargo.lock</i> file.</span>それがうまくいくならば、Cargoはそれらのバージョンを<i>Cargo.lock</i>ファイルに書き込みます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">But by default, Cargo will only look for versions larger than <code>0.3.0</code> and smaller than <code>0.4.0</code> .</span>しかし、デフォルトでは、Cargoは<code>0.3.0</code>より大きく<code>0.4.0</code>より小さいバージョンのみを探します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If the <code>rand</code> crate has released two new versions, <code>0.3.15</code> and <code>0.4.0</code> , you would see the following if you ran <code>cargo update</code> :</span> <code>rand</code> <code>0.3.15</code> 2つの新しいバージョン、 <code>0.3.15</code>と<code>0.4.0</code>をリリースした場合、 <code>cargo update</code>を実行すると、次のように表示されます。</span> </p><br><div data-lang=text><div data-l="$ cargo update"></div><div data-l="    Updating registry `https://github.com/rust-lang/crates.io-index`"></div><div data-l="    Updating rand v0.3.14 -&gt; v0.3.15"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">At this point, you would also notice a change in your <i>Cargo.lock</i> file noting that the version of the <code>rand</code> crate you are now using is <code>0.3.15</code> .</span>この時点で、 <i>Cargo.lock</i>ファイルの変更に気づくでしょう。現在使用している<code>rand</code> <i>crate</i>のバージョンは<code>0.3.15</code>です。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you wanted to use <code>rand</code> version <code>0.4.0</code> or any version in the <code>0.4.x</code> series, you&#39;d have to update the <i>Cargo.toml</i> file to look like this instead:</span> <code>rand</code>バージョン<code>0.4.0</code>または<code>0.4.x</code>シリーズのいずれかのバージョンを使用する場合は、代わりに<i>Cargo.toml</i>ファイルを次のように更新する<i>必要があり</i>ます。</span> </p><br><div data-lang=toml><div data-l=[dependencies]></div><div data-l=""></div><div data-l="rand = &quot;0.4.0&quot;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The next time you run <code>cargo build</code> , Cargo will update the registry of crates available and reevaluate your <code>rand</code> requirements according to the new version you have specified.</span>次に<code>cargo build</code>を実行<code>cargo build</code> 、Cargoは利用可能な箱の登録を更新し、あなたが指定した新しいバージョンに従ってあなたの<code>rand</code>要件を再評価します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">There&#39;s a lot more to say about <a class=notranslate href=#3doccargo>Cargo</a></span> <a class=notranslate href=#3doccargo>Cargo</a>についてもっと多くのことがあります</span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">and <a class=notranslate href=#3doccratesio>its ecosystem</a></span> <a class=notranslate href=#3doccratesio>its ecosystem</a></span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">which we&#39;ll discuss in Chapter 14, but for now, that&#39;s all you need to know.</span>これについては第14章で説明しますが、今のところあなたが知る必要があるのはこれだけです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Cargo makes it very easy to reuse libraries, so Rustaceans are able to write smaller projects that are assembled from a number of packages.</span>カーゴはライブラリの再利用を非常に簡単にします。したがって、ルーテア人は多くのパッケージから組み立てられた小さなプロジェクトを書くことができます。</span> </p><br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a class=notranslate href=#1http://doc.crates.io>doccargo</a> <a class=notranslate href=#1http://doc.crates.io/crates-io.html>doccratesio</a></span> <a class=notranslate href=#1http://doc.crates.io>doccargo</a> <a class=notranslate href=#1http://doc.crates.io/crates-io.html>doccratesio</a></span> <br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Generating a Random Number</span>乱数の生成</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now that you&#39;ve added the <code>rand</code> crate to <i>Cargo.toml</i> , let&#39;s start using <code>rand</code> .</span>今、あなたが追加したことを<code>rand</code> <i>Cargo.toml</i>にクレートを、の使用を開始しましょう<code>rand</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The next step is to update <i>src/main.rs</i> , as shown in Listing 2-3.</span>次のステップは、リスト2-3に示すように、 <i>src / main.rs</i>を更新することです。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="extern crate rand;"></div><div data-l=""></div><div data-l="use std::io;"></div><div data-l="use rand::Rng;"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    println!(&quot;Guess the number!&quot;);"></div><div data-l=""></div><div data-l="    let secret_number = rand::thread_rng().gen_range(1, 101);"></div><div data-l=""></div><div data-l="    println!(&quot;The secret number is: {}&quot;, secret_number);"></div><div data-l=""></div><div data-l="    println!(&quot;Please input your guess.&quot;);"></div><div data-l=""></div><div data-l="    let mut guess = String::new();"></div><div data-l=""></div><div data-l="    io::stdin().read_line(&amp;mut guess)"></div><div data-l="        .expect(&quot;Failed to read line&quot;);"></div><div data-l=""></div><div data-l="    println!(&quot;You guessed: {}&quot;, guess);"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Listing 2-3: Adding code to generate a random number</span></span> <span class=caption>リスト2-3：コードを追加して乱数を生成する</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">First, we add a line that lets Rust know we&#39;ll be using the <code>rand</code> crate as an external dependency.</span>まず、Rustに外部依存として<code>rand</code> crateを使用することを知らせる行を追加します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This also does the equivalent of calling <code>use rand</code> , so now we can call anything in the <code>rand</code> crate by placing <code>rand::</code> before it.</span>これは<code>use rand</code>を呼び出すのと同じことです。だから、 <code>rand</code>前に<code>rand::</code>置くことで、 <code>rand</code> crateの中の何かを呼び出すことができます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Next, we add another <code>use</code> line: <code>use rand::Rng</code> .</span>次に、別の<code>use</code>行： <code>use rand::Rng</code>を追加し<code>use</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>Rng</code> trait defines methods that random number generators implement, and this trait must be in scope for us to use those methods.</span> <code>Rng</code>特性は、乱数ジェネレータが実装するメソッドを定義しており、これらのメソッドを使用するには、この特性が有効でなければなりません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Chapter 10 will cover traits in detail.</span>第10章では、形質の詳細について説明します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Also, we&#39;re adding two more lines in the middle.</span>また、中央に2行追加しています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>rand::thread_rng</code> function will give us the particular random number generator that we&#39;re going to use: one that is local to the current thread of execution and seeded by the operating system.</span> <code>rand::thread_rng</code>関数は、使用する特定の乱数ジェネレータを提供します：現在の実行スレッドのローカルであり、オペレーティングシステムによってシードされるものです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Next, we call the <code>gen_range</code> method on the random number generator.</span>次に、乱数ジェネレータの<code>gen_range</code>メソッドを呼び出します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This method is defined by the <code>Rng</code> trait that we brought into scope with the <code>use rand::Rng</code> statement.</span>このメソッドは、 <code>use rand::Rng</code>ステートメントを<code>use rand::Rng</code>してスコープに入れた<code>Rng</code>特性によって定義されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>gen_range</code> method takes two numbers as arguments and generates a random number between them.</span> <code>gen_range</code>メソッドは引数として2つの数値をとり、それらの間に乱数を生成します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It&#39;s inclusive on the lower bound but exclusive on the upper bound, so we need to specify <code>1</code> and <code>101</code> to request a number between 1 and 100.</span>これは下限に含まれていますが上限には含まれませんので、1と100の間の数値を要求するには<code>1</code>と<code>101</code>を指定する必要があります。</span> </p><br><blockquote><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note: You won&#39;t just know which traits to use and which methods and functions to call from a crate.</span>注：使用する形質や、箱から呼び出すメソッドや関数はわかりません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Instructions for using a crate are in each crate&#39;s documentation.</span>クレートを使用するための説明は各クレートの文書に記載されています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Another neat feature of Cargo is that you can run the <code>cargo doc --open</code> command, which will build documentation provided by all of your dependencies locally and open it in your browser.</span> Cargoのもう一つの特徴は、すべての依存関係によって提供されるドキュメントをローカルで作成し、ブラウザで開く<code>cargo doc --open</code>コマンドを実行できることです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you&#39;re interested in other functionality in the <code>rand</code> crate, for example, run <code>cargo doc --open</code> and click <code>rand</code> in the sidebar on the left.</span>たとえば、 <code>rand</code>他の機能に興味がある場合は、 <code>cargo doc --open</code>を実行し、左側のサイドバーで<code>rand</code>をクリックします。</span> </p></blockquote><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The second line that we added to the code prints the secret number.</span>コードに追加した2行目は、暗証番号を出力します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This is useful while we&#39;re developing the program to be able to test it, but we&#39;ll delete it from the final version.</span>これは、テストできるようにプログラムを開発している間は便利ですが、最終版から削除します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It&#39;s not much of a game if the program prints the answer as soon as it starts!</span>プログラムが起動するとすぐに答えが表示されるのは、あまりゲームではありません！</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Try running the program a few times:</span>数回プログラムを実行してみてください：</span> </p><br><div data-lang=text><div data-l="$ cargo run"></div><div data-l="   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)"></div><div data-l="    Finished dev [unoptimized + debuginfo] target(s) in 2.53 secs"></div><div data-l="     Running `target/debug/guessing_game`"></div><div data-l="Guess the number!"></div><div data-l="The secret number is: 7"></div><div data-l="Please input your guess."></div><div data-l=4></div><div data-l="You guessed: 4"></div><div data-l="$ cargo run"></div><div data-l="     Running `target/debug/guessing_game`"></div><div data-l="Guess the number!"></div><div data-l="The secret number is: 83"></div><div data-l="Please input your guess."></div><div data-l=5></div><div data-l="You guessed: 5"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You should get different random numbers, and they should all be numbers between 1 and 100. Great job!</span>あなたは異なる乱数を得なければなりません。それらはすべて1から100までの数字でなければなりません。</span> </p><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Comparing the Guess to the Secret Number</span>推測を秘密の番号と比較する</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now that we have user input and a random number, we can compare them.</span>ユーザー入力と乱数があるので、比較することができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">That step is shown in Listing 2-4.</span>リスト2-4にその手順を示します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that this code won&#39;t compile quite yet, as we will explain.</span>ここで説明するように、このコードはまだコンパイルされません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="extern crate rand;"></div><div data-l=""></div><div data-l="use std::io;"></div><div data-l="use std::cmp::Ordering;"></div><div data-l="use rand::Rng;"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l=""></div><div data-l="#    // ---snip---"></div><div data-l="    // "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">---snip---</span> ---スニップ---</span> </div><div data-l=""></div><div data-l="    println!(&quot;You guessed: {}&quot;, guess);"></div><div data-l=""></div><div data-l="    match guess.cmp(&amp;secret_number) {"></div><div data-l="        Ordering::Less =&gt; println!(&quot;Too small!&quot;),"></div><div data-l="        Ordering::Greater =&gt; println!(&quot;Too big!&quot;),"></div><div data-l="        Ordering::Equal =&gt; println!(&quot;You win!&quot;),"></div><div data-l="    }"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Listing 2-4: Handling the possible return values of comparing two numbers</span></span> <span class=caption>リスト2-4：2つの数値を比較する可能な戻り値の処理</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The first new bit here is another <code>use</code> statement, bringing a type called <code>std::cmp::Ordering</code> into scope from the standard library.</span>最初の新しいビットは別の<code>use</code>ステートメントで、 <code>std::cmp::Ordering</code>という型を標準ライブラリのスコープに持っています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Like <code>Result</code> , <code>Ordering</code> is another enum, but the variants for <code>Ordering</code> are <code>Less</code> , <code>Greater</code> , and <code>Equal</code> .</span> <code>Result</code> 、 <code>Ordering</code>は別の列挙型ですが、 <code>Ordering</code>のバリアントは<code>Less</code> 、 <code>Greater</code> 、 <code>Equal</code>です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">These are the three outcomes that are possible when you compare two values.</span>これらは、2つの値を比較したときに可能な3つの結果です。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Then we add five new lines at the bottom that use the <code>Ordering</code> type.</span>次に、 <code>Ordering</code>タイプを使用する下部に5つの新しい行を追加します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>cmp</code> method compares two values and can be called on anything that can be compared.</span> <code>cmp</code>メソッドは2つの値を比較し、比較できるものすべてに対して呼び出すことができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It takes a reference to whatever you want to compare with: here it&#39;s comparing the <code>guess</code> to the <code>secret_number</code> .</span>それはあなたが比較したいものを参照します：ここでは、 <code>guess</code>を<code>secret_number</code>と比較してい<code>secret_number</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Then it returns a variant of the <code>Ordering</code> enum we brought into scope with the <code>use</code> statement.</span>次に、 <code>use</code>ステートメントでスコープに入れた<code>Ordering</code>列挙の変形を返します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We use a <a class=notranslate href=#3match><code>match</code></a></span>我々は<a class=notranslate href=#3match><code>match</code></a>を使用する</span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">expression to decide what to do next based on which variant of <code>Ordering</code> was returned from the call to <code>cmp</code> with the values in <code>guess</code> and <code>secret_number</code> .</span>式を使用して、 <code>guess</code>と<code>secret_number</code>値を持つ<code>cmp</code>の呼び出しから返された<code>Ordering</code>変種に基づいて、次に何をするかを決定します。</span> </p><br> <a class=notranslate href=#1ch06-02-match.html>match</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">A <code>match</code> expression is made up of <i>arms</i> .</span> <code>match</code>式は<i>腕で</i>構成されて<i>い</i>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">An arm consists of a <i>pattern</i> and the code that should be run if the value given to the beginning of the <code>match</code> expression fits that arm&#39;s pattern.</span>アームは<i>パターン</i>と、 <code>match</code>式の先頭に与えられた値がそのアームのパターンに合っている場合に実行されるコードで構成されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust takes the value given to <code>match</code> and looks through each arm&#39;s pattern in turn.</span>錆がために与えられた値取り<code>match</code>し、順番に各アームのパターンを介して見えます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>match</code> construct and patterns are powerful features in Rust that let you express a variety of situations your code might encounter and make sure that you handle them all.</span> <code>match</code>コンストラクトとパターンはRustの強力な機能で、コードで発生する可能性のあるさまざまな状況を表現し、それらをすべて処理することを保証します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">These features will be covered in detail in Chapter 6 and Chapter 18, respectively.</span>これらの機能については、それぞれ第6章と第18章で詳しく説明します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s walk through an example of what would happen with the <code>match</code> expression used here.</span>ここで使用される<code>match</code>式で何が起こるかの例を見てみましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Say that the user has guessed 50 and the randomly generated secret number this time is 38. When the code compares 50 to 38, the <code>cmp</code> method will return <code>Ordering::Greater</code> , because 50 is greater than 38. The <code>match</code> expression gets the <code>Ordering::Greater</code> value and starts checking each arm&#39;s pattern.</span> 50と38を比較すると、50が38より大きいため、 <code>cmp</code>メソッドは<code>Ordering::Greater</code>を返します。 <code>match</code>式は<code>Ordering::Greater</code>値で、各腕のパターンをチェックし始めます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It looks at the first arm&#39;s pattern, <code>Ordering::Less</code> , and sees that the value <code>Ordering::Greater</code> does not match <code>Ordering::Less</code> , so it ignores the code in that arm and moves to the next arm.</span>最初の腕のパターン<code>Ordering::Less</code>を見て、 <code>Ordering::Greater</code>の値が<code>Ordering::Less</code>と一致しないので、その腕のコードを無視して次の腕に移動します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The next arm&#39;s pattern, <code>Ordering::Greater</code> , <i>does</i> match <code>Ordering::Greater</code> !</span>次の腕のパターンは、 <code>Ordering::Greater</code> 、マッチ<i>し</i> <code>Ordering::Greater</code> ！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The associated code in that arm will execute and print <code>Too big€</code> to the screen.</span>そのアームの関連コードが実行され、画面に<code>Too big€</code>印刷されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>match</code> expression ends because it has no need to look at the last arm in this scenario.</span>このシナリオで最後の腕を見る必要がないので、 <code>match</code>式が終了します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However, the code in Listing 2-4 won&#39;t compile yet.</span>しかし、リスト2-4のコードはまだコンパイルされません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s try it:</span>試してみよう：</span> </p><br><div data-lang=text><div data-l="$ cargo build"></div><div data-l="   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)"></div><div data-l="error[E0308]: mismatched types"></div><div data-l="  --&gt; src/main.rs:23:21"></div><div data-l="   |"></div><div data-l="23 |     match guess.cmp(&amp;secret_number) {"></div><div data-l="   |                     ^^^^^^^^^^^^^^ expected struct `std::string::String`, found integral variable"></div><div data-l="   |"></div><div data-l="   = note: expected type `&amp;std::string::String`"></div><div data-l="   = note:    found type `&amp;{integer}`"></div><div data-l=""></div><div data-l="error: aborting due to previous error"></div><div data-l="Could not compile `guessing_game`."></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The core of the error states that there are <i>mismatched types</i> .</span>エラーの核心には、 <i>タイプ</i>が<i>一致し</i>ていないことが記載されてい<i>ます</i> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust has a strong, static type system.</span>錆は強力な静的タイプのシステムを持っています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However, it also has type inference.</span>ただし、型推論もあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When we wrote <code>let guess = String::new()</code> , Rust was able to infer that <code>guess</code> should be a <code>String</code> and didn&#39;t make us write the type.</span> <code>let guess = String::new()</code>を書いたとき、Rustは<code>guess</code>が<code>String</code>なければならないと<code>guess</code>することができ、型を書き込まないようにしました。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>secret_number</code> , on the other hand, is a number type.</span>一方、 <code>secret_number</code>は数値型です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">A few number types can have a value between 1 and 100: <code>i32</code> , a 32-bit number;</span>いくつかの数値型は、1〜100の値を持つことができます<code>i32</code>ビットの数値。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>u32</code> , an unsigned 32-bit number;</span> <code>u32</code> 、符号なし32ビットの数値。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>i64</code> , a 64-bit number;</span> <code>i64</code>ビットの数値。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">as well as others.</span>他のものと同様である。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust defaults to an <code>i32</code> , which is the type of <code>secret_number</code> unless you add type information elsewhere that would cause Rust to infer a different numerical type.</span>他の場所でタイプ情報を追加しないと、Rustは異なる数値タイプを推論することになりますが、Rustのデフォルトは<code>i32</code> 。これは<code>secret_number</code>タイプです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The reason for the error is that Rust cannot compare a string and a number type.</span>エラーの原因は、Rustが文字列と数値型を比較できないためです。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Ultimately, we want to convert the <code>String</code> the program reads as input into a real number type so we can compare it numerically to the guess.</span>最終的には、プログラムが入力として読み取る<code>String</code>実数型に変換して、推測と数値的に比較することができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We can do that by adding the following two lines to the <code>main</code> function body:</span> <code>main</code>関数本体に次の2行を追加することで、これを行うことができます：</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="#// --snip--"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">--snip--</span> --snip--</span> </div><div data-l=""></div><div data-l="    let mut guess = String::new();"></div><div data-l=""></div><div data-l="    io::stdin().read_line(&amp;mut guess)"></div><div data-l="        .expect(&quot;Failed to read line&quot;);"></div><div data-l=""></div><div data-l="    let guess: u32 = guess.trim().parse()"></div><div data-l="        .expect(&quot;Please type a number!&quot;);"></div><div data-l=""></div><div data-l="    println!(&quot;You guessed: {}&quot;, guess);"></div><div data-l=""></div><div data-l="    match guess.cmp(&amp;secret_number) {"></div><div data-l="        Ordering::Less =&gt; println!(&quot;Too small!&quot;),"></div><div data-l="        Ordering::Greater =&gt; println!(&quot;Too big!&quot;),"></div><div data-l="        Ordering::Equal =&gt; println!(&quot;You win!&quot;),"></div><div data-l="    }"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The two new lines are:</span> 2つの新しい行は次のとおりです。</span> </p><br><div data-lang=rust,ignore><div data-l="let guess: u32 = guess.trim().parse()"></div><div data-l="    .expect(&quot;Please type a number!&quot;);"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We create a variable named <code>guess</code> .</span> <code>guess</code>という名前の変数を作成します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">But wait, doesn&#39;t the program already have a variable named <code>guess</code> ?</span>しかし、待って、プログラムはすでに<code>guess</code>呼ばれる変数を持っていないの<code>guess</code>か？</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It does, but Rust allows us to <i>shadow</i> the previous value of <code>guess</code> with a new one.</span>それはありませんが、錆は、私たちは、以前の値<i>シャドウ</i>することができます<code>guess</code>新しいものに。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This feature is often used in situations in which you want to convert a value from one type to another type.</span>この機能は、値をある型から別の型に変換する場合によく使用されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Shadowing lets us reuse the <code>guess</code> variable name rather than forcing us to create two unique variables, such as <code>guess_str</code> and <code>guess</code> , for example.</span> <code>guess_str</code>で<code>guess</code> 、 <code>guess_str</code>や<code>guess</code>などの2つの一意の変数を強制的に作成するのではなく、 <code>guess</code>変数名を再利用できます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(Chapter 3 covers shadowing in more detail.)</span> （第3章では、シャドーイングについて詳しく説明しています）。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We bind <code>guess</code> to the expression <code>guess.trim().parse()</code> .</span> <code>guess.trim().parse()</code>という式に<code>guess</code>をバインドします。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>guess</code> in the expression refers to the original <code>guess</code> that was a <code>String</code> with the input in it.</span>式の<code>guess</code>では、元の<code>guess</code>が入力された<code>String</code>であったことを示します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>trim</code> method on a <code>String</code> instance will eliminate any whitespace at the beginning and end.</span> <code>String</code>インスタンスの<code>trim</code>メソッドは、先頭と末尾の空白を削除します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Although <code>u32</code> can contain only numerical characters, the user must press <span class=keystroke>enter</span> to satisfy <code>read_line</code> .</span>が、 <code>u32</code>唯一の数字を含めることができ、ユーザーが満足するには<span class=keystroke>、Enter</span>キーを押す必要があり<code>read_line</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When the user presses <span class=keystroke>enter</span> , a newline character is added to the string.</span>ユーザが<span class=keystroke>enterを</span>押すと、改行文字が文字列に追加されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example, if the user types <span class=keystroke>5</span> and presses <span class=keystroke>enter</span> , <code>guess</code> looks like this: <code>5\n</code> .</span>たとえば、ユーザーが<span class=keystroke>5</span>と<span class=keystroke>入力してEnter</span>を押すと、 <code>5\n</code> <code>guess</code>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>\n</code> represents “newline,” the result of pressing <span class=keystroke>enter</span> .</span> <code>\n</code>は、 <span class=keystroke>Enter</span>を押した結果の改行を表します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>trim</code> method eliminates <code>\n</code> , resulting in just <code>5</code> .</span> <code>trim</code>メソッドは<code>\n</code>取り除き、結果としてわずか<code>5</code>ます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <a href=#3parse><code>parse</code> method on strings</a></span> <a href=#3parse>文字列</a>の<a href=#3parse><code>parse</code>メソッド</a></span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">parses a string into some kind of number.</span>文字列をある種の数に解析します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because this method can parse a variety of number types, we need to tell Rust the exact number type we want by using <code>let guess: u32</code> .</span>このメソッドはさまざまな数値型を解析できるため、Rustには<code>let guess: u32</code>を使用して必要な正確な数値型を指定する必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The colon ( <code>:</code> ) after <code>guess</code> tells Rust we&#39;ll annotate the variable&#39;s type.</span>コロン（ <code>:</code> ）の後<code>guess</code>私たちが変数の型に注釈を付けます錆を伝えます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust has a few built-in number types;</span> Rustにはいくつかの組み込みの数値型があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">the <code>u32</code> seen here is an unsigned, 32-bit integer.</span>ここに見られる<code>u32</code>は符号なしの32ビット整数です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It&#39;s a good default choice for a small positive number.</span>これは小さな正の数のための良いデフォルトの選択です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You&#39;ll learn about other number types in Chapter 3. Additionally, the <code>u32</code> annotation in this example program and the comparison with <code>secret_number</code> means that Rust will infer that <code>secret_number</code> should be a <code>u32</code> as well.</span>第3章で他の数値型についても学習します。さらに、このサンプルプログラムの<code>u32</code>アノテーションと<code>secret_number</code>との比較は、Rustが<code>secret_number</code>も<code>u32</code>なければならないことを意味します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">So now the comparison will be between two values of the same type!</span>今比較は同じタイプの2つの値の間になります！</span> </p><br> <a class=notranslate href=#1../../std/primitive.str.html#method.parse>parse</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The call to <code>parse</code> could easily cause an error.</span> <code>parse</code>呼び出すと、エラーが発生しやすくなります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If, for example, the string contained <code>A👍%</code> , there would be no way to convert that to a number.</span>たとえば、文字列に<code>A👍%</code>が含まれていた場合、それを数値に変換する方法はありません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because it might fail, the <code>parse</code> method returns a <code>Result</code> type, much as the <code>read_line</code> method does (discussed earlier in “Handling Potential Failure with the Result Type”).</span>このメソッドが失敗する可能性があるため、 <code>parse</code>メソッドは<code>read_line</code>メソッドと同じように<code>Result</code>型を返します（前述の「結果型での潜在的な障害の処理」で説明しています）。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We&#39;ll treat this <code>Result</code> the same way by using the <code>expect</code> method again.</span> <code>expect</code>メソッドを再度使用して、この<code>Result</code>同じ方法で処理します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If <code>parse</code> returns an <code>Err</code> <code>Result</code> variant because it couldn&#39;t create a number from the string, the <code>expect</code> call will crash the game and print the message we give it.</span>文字列から数字を作成できなかったため、 <code>parse</code>が<code>Err</code> <code>Result</code>バリアントを返した場合、 <code>expect</code>コールはゲームをクラッシュさせ、私たちが与えたメッセージを出力します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If <code>parse</code> can successfully convert the string to a number, it will return the <code>Ok</code> variant of <code>Result</code> , and <code>expect</code> will return the number that we want from the <code>Ok</code> value.</span> <code>parse</code>が文字列を数値に変換<code>parse</code>ことができれば、 <code>Result</code>の<code>Ok</code>型が返され、 <code>expect</code>値が<code>Ok</code>値から返されます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s run the program now!</span>今すぐプログラムを実行しよう！</span> </p><br><div data-lang=text><div data-l="$ cargo run"></div><div data-l="   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)"></div><div data-l="    Finished dev [unoptimized + debuginfo] target(s) in 0.43 secs"></div><div data-l="     Running `target/debug/guessing_game`"></div><div data-l="Guess the number!"></div><div data-l="The secret number is: 58"></div><div data-l="Please input your guess."></div><div data-l="  76"></div><div data-l="You guessed: 76"></div><div data-l="Too big!"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Nice!</span>ニース！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Even though spaces were added before the guess, the program still figured out that the user guessed 76. Run the program a few times to verify the different behavior with different kinds of input: guess the number correctly, guess a number that is too high, and guess a number that is too low.</span>推測の前に空白が追加されたにもかかわらず、プログラムはユーザーが76を推測したと考えました。異なる種類の入力で異なる動作を確認するためにプログラムを数回実行します。数字を正しく推測し、あまりにも低い数字を推測してください。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We have most of the game working now, but the user can make only one guess.</span>私たちは現在ゲームのほとんどを動作させていますが、ユーザーは1つしか推測できません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s change that by adding a loop!</span>ループを追加して変更しましょう！</span> </p><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Allowing Multiple Guesses with Looping</span>ルーピングによる複数の推測の許可</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>loop</code> keyword creates an infinite loop.</span> <code>loop</code>キーワードは、無限ループを作成します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We&#39;ll add that now to give users more chances at guessing the number:</span>これを追加して、ユーザーに番号を推測する機会を増やします。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="#// --snip--"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">--snip--</span> --snip--</span> </div><div data-l=""></div><div data-l="    println!(&quot;The secret number is: {}&quot;, secret_number);"></div><div data-l=""></div><div data-l="    loop {"></div><div data-l="        println!(&quot;Please input your guess.&quot;);"></div><div data-l=""></div><div data-l="#        // --snip--"></div><div data-l="        // "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">--snip--</span> --snip--</span> </div><div data-l=""></div><div data-l="        match guess.cmp(&amp;secret_number) {"></div><div data-l="            Ordering::Less =&gt; println!(&quot;Too small!&quot;),"></div><div data-l="            Ordering::Greater =&gt; println!(&quot;Too big!&quot;),"></div><div data-l="            Ordering::Equal =&gt; println!(&quot;You win!&quot;),"></div><div data-l="        }"></div><div data-l="    }"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As you can see, we&#39;ve moved everything into a loop from the guess input prompt onward.</span>ご覧のとおり、推測入力プロンプトからすべてをループに移しました。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Be sure to indent the lines inside the loop another four spaces each and run the program again.</span>ループ内の行をそれぞれ4つのスペースでインデントして、プログラムを再度実行してください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Notice that there is a new problem because the program is doing exactly what we told it to do: ask for another guess forever!</span>プログラムは、私たちが言ったことをまさにやっているので、新しい問題があることに注意してください。別の推測を永遠に求めてください！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It doesn&#39;t seem like the user can quit!</span>ユーザーが終了できるようには見えません！</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The user could always halt the program by using the keyboard shortcut <span class=keystroke>ctrl-c</span> .</span>ユーザーはキーボードショートカット<span class=keystroke>ctrl-c</span>を使用してプログラムを停止でき<span class=keystroke>ます</span> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">But there&#39;s another way to escape this insatiable monster, as mentioned in the <code>parse</code> discussion in “Comparing the Guess to the Secret Number”: if the user enters a non-number answer, the program will crash.</span>しかし、「推測を秘密の数字に比較する」の<code>parse</code>ディスカッションで述べたように、この不安定なモンスターから脱出する別の方法があります。ユーザーが非数字の答えを入力すると、プログラムがクラッシュします。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The user can take advantage of that in order to quit, as shown here:</span>ここに示すように、ユーザーは終了するためにそれを利用することができます。</span> </p><br><div data-lang=text><div data-l="$ cargo run"></div><div data-l="   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)"></div><div data-l="    Finished dev [unoptimized + debuginfo] target(s) in 1.50 secs"></div><div data-l="     Running `target/debug/guessing_game`"></div><div data-l="Guess the number!"></div><div data-l="The secret number is: 59"></div><div data-l="Please input your guess."></div><div data-l=45></div><div data-l="You guessed: 45"></div><div data-l="Too small!"></div><div data-l="Please input your guess."></div><div data-l=60></div><div data-l="You guessed: 60"></div><div data-l="Too big!"></div><div data-l="Please input your guess."></div><div data-l=59></div><div data-l="You guessed: 59"></div><div data-l="You win!"></div><div data-l="Please input your guess."></div><div data-l=quit></div><div data-l="thread 'main' panicked at 'Please type a number!: ParseIntError { kind: InvalidDigit }', src/libcore/result.rs:785"></div><div data-l="note: Run with `RUST_BACKTRACE=1` for a backtrace."></div><div data-l="error: Process didn't exit successfully: `target/debug/guess` (exit code: 101)"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Typing <code>quit</code> actually quits the game, but so will any other non-number input.</span>入力を<code>quit</code>実際にゲームは終了しますが、他の数字以外の入力も終了します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However, this is suboptimal to say the least.</span>しかし、これは最も少なく言えば準最適です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We want the game to automatically stop when the correct number is guessed.</span>正しい数字が推測されると、ゲームは自動的に停止します。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Quitting After a Correct Guess</span>正しい推測の後に終了する</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s program the game to quit when the user wins by adding a <code>break</code> statement:</span>ユーザーが<code>break</code>ステートメントを追加して勝利したときにゲームを終了するようにプログラムしましょう：</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="#// --snip--"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">--snip--</span> --snip--</span> </div><div data-l=""></div><div data-l="        match guess.cmp(&amp;secret_number) {"></div><div data-l="            Ordering::Less =&gt; println!(&quot;Too small!&quot;),"></div><div data-l="            Ordering::Greater =&gt; println!(&quot;Too big!&quot;),"></div><div data-l="            Ordering::Equal =&gt; {"></div><div data-l="                println!(&quot;You win!&quot;);"></div><div data-l="                break;"></div><div data-l="            }"></div><div data-l="        }"></div><div data-l="    }"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Adding the <code>break</code> line after <code>You win€</code> makes the program exit the loop when the user guesses the secret number correctly.</span> <code>You win€</code>後に<code>break</code>ラインを追加すると、ユーザーが秘密の番号を正しく推測したときにプログラムがループを終了します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Exiting the loop also means exiting the program, because the loop is the last part of <code>main</code> .</span>ループを終了すると、ループが<code>main</code>最後の部分であるため、プログラムを終了することも意味します。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Handling Invalid Input</span>無効な入力の処理</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To further refine the game&#39;s behavior, rather than crashing the program when the user inputs a non-number, let&#39;s make the game ignore a non-number so the user can continue guessing.</span>ユーザが非数字を入力したときにプログラムをクラッシュさせるのではなく、ゲームの動作をさらに洗練するために、ゲームが推測を続けることができるように数字以外の数字を無視してみましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We can do that by altering the line where <code>guess</code> is converted from a <code>String</code> to a <code>u32</code> , as shown in Listing 2-5.</span>リスト2-5に示すように、 <code>guess</code>が<code>String</code>から<code>u32</code>に変換される行を変更することで、これを行うことができます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="#// --snip--"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">--snip--</span> --snip--</span> </div><div data-l=""></div><div data-l="io::stdin().read_line(&amp;mut guess)"></div><div data-l="    .expect(&quot;Failed to read line&quot;);"></div><div data-l=""></div><div data-l="let guess: u32 = match guess.trim().parse() {"></div><div data-l="    Ok(num) =&gt; num,"></div><div data-l="    Err(_) =&gt; continue,"></div><div data-l=};></div><div data-l=""></div><div data-l="println!(&quot;You guessed: {}&quot;, guess);"></div><div data-l=""></div><div data-l="#// --snip--"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">--snip--</span> --snip--</span> </div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Listing 2-5: Ignoring a non-number guess and asking for another guess instead of crashing the program</span></span> <span class=caption>リスト2-5：数字以外の推測を無視し、プログラムをクラッシュさせる代わりに別の推測を求める</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Switching from an <code>expect</code> call to a <code>match</code> expression is how you generally move from crashing on an error to handling the error.</span> <code>expect</code>呼び出しから<code>match</code>式への切り替えは、一般的にエラーが発生したときからエラーを処理するまでに移動する方法です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Remember that <code>parse</code> returns a <code>Result</code> type and <code>Result</code> is an enum that has the variants <code>Ok</code> or <code>Err</code> .</span> <code>parse</code> <code>Result</code>は<code>Result</code>型を返し、 <code>Result</code>はVari型の<code>Ok</code>または<code>Err</code>を持つ列挙型であることを覚えておいてください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We&#39;re using a <code>match</code> expression here, as we did with the <code>Ordering</code> result of the <code>cmp</code> method.</span> <code>cmp</code>メソッドの<code>Ordering</code>結果と同じように、ここで<code>match</code>式を使用しています。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If <code>parse</code> is able to successfully turn the string into a number, it will return an <code>Ok</code> value that contains the resulting number.</span> <code>parse</code>が文字列を数値に変換することができれば、結果の数値を含む<code>Ok</code>値を返します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">That <code>Ok</code> value will match the first arm&#39;s pattern, and the <code>match</code> expression will just return the <code>num</code> value that <code>parse</code> produced and put inside the <code>Ok</code> value.</span>その<code>Ok</code>値は最初の腕のパターンと<code>match</code>し、 <code>match</code>式は<code>parse</code>された<code>num</code>値を返すだけで<code>Ok</code>値になります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">That number will end up right where we want it in the new <code>guess</code> variable we&#39;re creating.</span>その数字は、私たちが作成している新しい<code>guess</code>変数に必要なところで終了します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If <code>parse</code> is <i>not</i> able to turn the string into a number, it will return an <code>Err</code> value that contains more information about the error.</span> <code>parse</code>で文字列を数値に変換でき<i>ない</i>場合は、エラーに関する詳細情報を含む<code>Err</code>値が返されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>Err</code> value does not match the <code>Ok(num)</code> pattern in the first <code>match</code> arm, but it does match the <code>Err(_)</code> pattern in the second arm.</span> <code>Err</code>値は最初の<code>match</code>アームの<code>Ok(num)</code>パターンと一致しませんが、2番目のアームの<code>Err(_)</code>パターンと一致します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The underscore, <code>_</code> , is a catchall value;</span>アンダースコア（ <code>_</code> ）はキャッチオール値です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">in this example, we&#39;re saying we want to match all <code>Err</code> values, no matter what information they have inside them.</span>この例では、内部にどのような情報があっても、すべての<code>Err</code>値を一致させたいとしています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">So the program will execute the second arm&#39;s code, <code>continue</code> , which tells the program to go to the next iteration of the <code>loop</code> and ask for another guess.</span>だから、このプログラムは、第二アームのコードを実行します<code>continue</code>の次の繰り返しに行くためのプログラム指示した、 <code>loop</code>や別の推測をお願いします。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">So effectively, the program ignores all errors that <code>parse</code> might encounter!</span>そのため、プログラムは<code>parse</code>するすべてのエラーを無視します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now everything in the program should work as expected.</span>これで、プログラムのすべてが期待どおりに動作するはずです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s try it:</span>試してみよう：</span> </p><br><div data-lang=text><div data-l="$ cargo run"></div><div data-l="   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)"></div><div data-l="     Running `target/debug/guessing_game`"></div><div data-l="Guess the number!"></div><div data-l="The secret number is: 61"></div><div data-l="Please input your guess."></div><div data-l=10></div><div data-l="You guessed: 10"></div><div data-l="Too small!"></div><div data-l="Please input your guess."></div><div data-l=99></div><div data-l="You guessed: 99"></div><div data-l="Too big!"></div><div data-l="Please input your guess."></div><div data-l=foo></div><div data-l="Please input your guess."></div><div data-l=61></div><div data-l="You guessed: 61"></div><div data-l="You win!"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Awesome!</span>驚くばかり！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">With one tiny final tweak, we will finish the guessing game.</span> 1つの小さな最終調整で、我々は推測ゲームを終了します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Recall that the program is still printing the secret number.</span>プログラムは依然として秘密番号を印刷していることを思い出してください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">That worked well for testing, but it ruins the game.</span>それはテストのためにはうまくいきましたが、ゲームを破壊します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s delete the <code>println€</code> that outputs the secret number.</span>秘密番号を出力する<code>println€</code>削除しましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Listing 2-6 shows the final code.</span>リスト2-6に最終コードを示します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="extern crate rand;"></div><div data-l=""></div><div data-l="use std::io;"></div><div data-l="use std::cmp::Ordering;"></div><div data-l="use rand::Rng;"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    println!(&quot;Guess the number!&quot;);"></div><div data-l=""></div><div data-l="    let secret_number = rand::thread_rng().gen_range(1, 101);"></div><div data-l=""></div><div data-l="    loop {"></div><div data-l="        println!(&quot;Please input your guess.&quot;);"></div><div data-l=""></div><div data-l="        let mut guess = String::new();"></div><div data-l=""></div><div data-l="        io::stdin().read_line(&amp;mut guess)"></div><div data-l="            .expect(&quot;Failed to read line&quot;);"></div><div data-l=""></div><div data-l="        let guess: u32 = match guess.trim().parse() {"></div><div data-l="            Ok(num) =&gt; num,"></div><div data-l="            Err(_) =&gt; continue,"></div><div data-l="        };"></div><div data-l=""></div><div data-l="        println!(&quot;You guessed: {}&quot;, guess);"></div><div data-l=""></div><div data-l="        match guess.cmp(&amp;secret_number) {"></div><div data-l="            Ordering::Less =&gt; println!(&quot;Too small!&quot;),"></div><div data-l="            Ordering::Greater =&gt; println!(&quot;Too big!&quot;),"></div><div data-l="            Ordering::Equal =&gt; {"></div><div data-l="                println!(&quot;You win!&quot;);"></div><div data-l="                break;"></div><div data-l="            }"></div><div data-l="        }"></div><div data-l="    }"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Listing 2-6: Complete guessing game code</span></span> <span class=caption>リスト2-6：ゲームコードを推測する</span></span> </p><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Summary</span>概要</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">At this point, you&#39;ve successfully built the guessing game.</span>この時点で、推測ゲームを正常に構築しました。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Congratulations!</span>おめでとう！</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This project was a hands-on way to introduce you to many new Rust concepts: <code>let</code> , <code>match</code> , methods, associated functions, external crates, and more.</span>このプロジェクトは、 <code>let</code> 、 <code>match</code> 、methods、関連機能、外部クレートなど、多くの新しいRustコンセプトをあなたに紹介する実践的な方法でした。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In the next few chapters, you&#39;ll learn about these concepts in more detail.</span>次のいくつかの章では、これらの概念についてより詳しく学びます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Chapter 3 covers concepts that most programming languages have, such as variables, data types, and functions, and shows how to use them in Rust.</span>第3章では、変数、データ型、関数などのほとんどのプログラミング言語の概念と、Rustでそれらを使用する方法を示します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Chapter 4 explores ownership, a feature that makes Rust different from other languages.</span>第4章では所有権について説明します.Rustは他の言語とは異なります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Chapter 5 discusses structs and method syntax, and Chapter 6 explains how enums work.</span>第5章では構造体とメソッドの構文について説明し、第6章ではenumがどのように機能するかについて説明します。</span> </p><script>_addload(function(){_setupIW('com');_csi('en','ja','ch02-00-guessing-game-tutorial.html');});</script>