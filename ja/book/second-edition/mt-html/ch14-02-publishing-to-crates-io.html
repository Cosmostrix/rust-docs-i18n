<!DOCTYPE html><html lang=ja-x-mtfrom-en><head><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="https://translate.googleusercontent.com/translate/releases/twsfe_w_20180709_RC00/r/js/translate_c.js"></script><script>_intlStrings._originalText = "英語の原文テキスト:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|ja";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="%1$s に %2$s により翻訳されました";_intlStrings._unknown="不明";_intlStrings._suggestTranslation="翻訳を改善する"  ;_intlStrings._submit="送信";_intlStrings._suggestThanks="Google 翻訳の改善にご協力いただきありがとうございました。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href=ch14-02-publishing-to-crates-io.html hreflang=en rel="alternate machine-translated-from"><base href="" target=_top /></head><body><iframe src="https://translate.google.com/translate_un?hl=ja&prev=_t&sl=en&tl=ja&lang=en&usg=ALkJrhi1BDLmdbWiRXYMNxkaJ7TdmUrvmA" width=0 height=0 frameborder=0 style="width:0px;height:0px;border:0px;display:none;"></iframe><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Publishing a Crate to Crates.io</span>クレートをCrates.ioに公開する</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We&#39;ve used packages from <a class=notranslate href=#2https://crates.io>crates.io</a></span> <a class=notranslate href=#2https://crates.io>crates.io</a>パッケージを使用し<a class=notranslate href=#2https://crates.io>crates.io</a></span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">as dependencies of our project, but you can also share your code with other people by publishing your own packages.</span>私たちのプロジェクトの依存として、あなた自身のパッケージを公開して、他の人とコードを共有することもできます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The crate registry at <a class=notranslate href=#2https://crates.io>crates.io</a></span> <a class=notranslate href=#2https://crates.io>crates.io</a>の木枠レジストリ</span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">distributes the source code of your packages, so it primarily hosts code that is open source.</span>パッケージのソースコードを配布するので、主にオープンソースのコードをホストします。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust and Cargo have features that help make your published package easier for people to use and to find in the first place.</span> RustとCargoには、公開されたパッケージを人々が使いやすく見つけやすくするための機能があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We&#39;ll talk about some of these features next and then explain how to publish a package.</span>これらの機能のいくつかについて次に説明し、次にパッケージを公開する方法を説明します。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Making Useful Documentation Comments</span>役に立つドキュメントのコメントを作る</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Accurately documenting your packages will help other users know how and when to use them, so it&#39;s worth investing the time to write documentation.</span>パッケージを正確に文書化することで、他のユーザーがいつ、どのように使用するのかを知ることができますので、時間をかけて文書を書く価値があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In Chapter 3, we discussed how to comment Rust code using two slashes, <code>//</code> .</span>第3章では、2つのスラッシュを使って錆コードをコメントする方法について説明しました<code>//</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust also has a particular kind of comment for documentation, known conveniently as a <i>documentation comment</i> , that will generate HTML documentation.</span> Rustには、HTMLドキュメントを生成する<i>ドキュメンテーションコメント</i>として便利な、ドキュメントに関する特別な種類のコメントもあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The HTML displays the contents of documentation comments for public API items intended for programmers interested in knowing how to <i>use</i> your crate as opposed to how your crate is <i>implemented</i> .</span> HTMLには、あなたのクレートの<i>実装</i>方法とは対照的に、クレートの<i>使用</i>方法を知りたいプログラマー向けのパブリックAPI項目のドキュメントコメントの内容が表示されます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Documentation comments use three slashes, <code>///</code> , instead of two and support Markdown notation for formatting the text.</span>ドキュメントコメントでは、2つの代わりに3つのスラッシュ（ <code>///</code>使用し、テキストの書式設定のためのMarkdown表記をサポートしています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Place documentation comments just before the item they&#39;re documenting.</span>文書化している項目の直前に文書のコメントを置いてください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Listing 14-1 shows documentation comments for an <code>add_one</code> function in a crate named <code>my_crate</code> :</span>リスト14-1はのためのドキュメンテーションコメントを示し<code>add_one</code>クレートという名前で関数<code>my_crate</code> ：</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/lib.rs</span></span> <span class=filename>ファイル名：src / lib.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="#///// Adds one to the number given."></div><div data-l="/// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Adds one to the number given.</span>与えられた数に1を加えます。</span> </div><div data-l=///></div><div data-l="#///// # Examples"></div><div data-l="/// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"># Examples</span> ＃例</span> </div><div data-l=///></div><div data-l="#///// ```"></div><div data-l="/// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">```</span> `` ``</span> </div><div data-l="#///// let five = 5;"></div><div data-l="/// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">let five = 5;</span> 5 = 5とする。</span> </div><div data-l=///></div><div data-l="#///// assert_eq!(6, my_crate::add_one(5));"></div><div data-l="/// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">assert_eq!(6, my_crate::add_one(5));</span> assert_eq！（6、my_crate :: add_one（5））;</span> </div><div data-l="#///// ```"></div><div data-l="/// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">```</span> `` ``</span> </div><div data-l="pub fn add_one(x: i32) -&gt; i32 {"></div><div data-l="    x + 1"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Listing 14-1: A documentation comment for a function</span></span> <span class=caption>リスト14-1：関数のドキュメントコメント</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here, we give a description of what the <code>add_one</code> function does, start a section with the heading <code>Examples</code> , and then provide code that demonstrates how to use the <code>add_one</code> function.</span>ここでは、我々は何の記述与える<code>add_one</code>機能は、見出しとセクション開始しない<code>Examples</code> 、次に使用する方法を示すコードを提供<code>add_one</code>機能を。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We can generate the HTML documentation from this documentation comment by running <code>cargo doc</code> .</span> <code>cargo doc</code>実行することによって、このドキュメントコメントからHTMLドキュメントを生成することができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This command runs the <code>rustdoc</code> tool distributed with Rust and puts the generated HTML documentation in the <i>target/doc</i> directory.</span>このコマンドは、Rustと一緒に配布されている<code>rustdoc</code>ツールを実行し、生成されたHTMLドキュメントを<i>target / doc</i>ディレクトリに置きます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For convenience, running <code>cargo doc --open</code> will build the HTML for your current crate&#39;s documentation (as well as the documentation for all of your crate&#39;s dependencies) and open the result in a web browser.</span>便宜上、 <code>cargo doc --open</code> -  openはあなたの現在の木箱の文書（あなたの木箱のすべての依存物に関する文書）用のHTMLを作成し、その結果をWebブラウザで開きます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Navigate to the <code>add_one</code> function and you&#39;ll see how the text in the documentation comments is rendered, as shown in Figure 14-1:</span> <code>add_one</code>関数に<code>add_one</code>すると、図14-1に示すように、ドキュメントコメント内のテキストがどのように表示されるかがわかります。</span> </p><br><p><img alt="`my_crate`の` add_one`関数のためのHTML文書のレンダリング" src=img/trpl14-01.png class=center /></p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Figure 14-1: HTML documentation for the <code>add_one</code> function</span></span> <span class=caption>図14-1： <code>add_one</code>関数のHTMLドキュメント</span></span> </p><br><h4> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Commonly Used Sections</span>よく使われるセクション</span> </h4><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We used the <code># Examples</code> Markdown heading in Listing 14-1 to create a section in the HTML with the title “Examples.” Here are some other sections that crate authors commonly use in their documentation:</span>私たちは、使用<code># Examples</code>値下げは、タイトルとHTML内のセクションを作成するには、リスト14-1に向かう。ここクレートの作者は、一般的に自分のドキュメントで使用するいくつかの他の部分である「例」を：</span> </p><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Panics</b> : The scenarios in which the function being documented could panic.</span> <b>パニック</b> ：文書化されている機能がパニックに陥る可能性のあるシナリオ。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Callers of the function who don&#39;t want their programs to panic should make sure they don&#39;t call the function in these situations.</span>プログラムのパニックを望まない機能の呼び出し側は、これらの状況で関数を呼び出さないようにする必要があります。</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Errors</b> : If the function returns a <code>Result</code> , describing the kinds of errors that might occur and what conditions might cause those errors to be returned can be helpful to callers so they can write code to handle the different kinds of errors in different ways.</span> <b>エラー</b> ：関数が<code>Result</code>返す場合、発生する可能性のあるエラーの種類と、そのエラーが返される条件を記述することで、さまざまな種類のエラーを処理するコードをさまざまな方法で記述できるようになります。</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>Safety</b> : If the function is <code>unsafe</code> to call (we discuss unsafety in Chapter 19), there should be a section explaining why the function is unsafe and covering the invariants that the function expects callers to uphold.</span> <b>安全性</b> ：関数が<code>unsafe</code>場合（第19章で<code>unsafe</code>は<code>unsafe</code>ことを議論する）、関数が安全でない理由を説明し、関数が呼び出し側が維持しようとする不変量をカバーするセクションが存在するはずです。</span> </div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Most documentation comments don&#39;t need all of these sections, but this is a good checklist to remind you of the aspects of your code that people calling your code will be interested in knowing about.</span>ほとんどのドキュメンテーションコメントはこれらのセクションのすべてを必要としませんが、あなたのコードを呼び出す人々が知りたいと思うコードの面を思い出させる良いチェックリストです。</span> </p><br><h4> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Documentation Comments as Tests</span>テストとしてのドキュメンテーションコメント</span> </h4><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Adding example code blocks in your documentation comments can help demonstrate how to use your library, and doing so has an additional bonus: running <code>cargo test</code> will run the code examples in your documentation as tests!</span>ドキュメンテーションコメントにサンプルコードブ​​ロックを追加すると、ライブラリの使用方法を示すのに役立ちます。そうすることで、追加のボーナスが得られます。実行中の<code>cargo test</code>は、ドキュメンテーションのコード例をテストとして実行します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Nothing is better than documentation with examples.</span>例を持つ文書より優れているものはありません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">But nothing is worse than examples that don&#39;t work because the code has changed since the documentation was written.</span>しかし、ドキュメントが書かれてからコードが変更されたため、動作しない例よりも悪いものはありません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If we run <code>cargo test</code> with the documentation for the <code>add_one</code> function from Listing 14-1, we will see a section in the test results like this:</span>リスト14-1の<code>add_one</code>関数のドキュメントで<code>cargo test</code>を実行すると、次のようなテスト結果のセクションが表示されます。</span> </p><br><div data-lang=text><div data-l="   Doc-tests my_crate"></div><div data-l=""></div><div data-l="running 1 test"></div><div data-l="test src/lib.rs - add_one (line 5) ... ok"></div><div data-l=""></div><div data-l="test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now if we change either the function or the example so the <code>assert_eq€</code> in the example panics and run <code>cargo test</code> again, we&#39;ll see that the doc tests catch that the example and the code are out of sync with each other!</span>ここで、関数または例を変更して、例のパニックで<code>assert_eq€</code>再度実行し、 <code>cargo test</code>再度実行すると、サンプルとコードが互いに同期していないことがドキュメントテストで分かります。</span> </p><br><h4> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Commenting Contained Items</span>含まれているアイテムのコメント</span> </h4><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Another style of doc comment, <code>//€</code> , adds documentation to the item that contains the comments rather than adding documentation to the items following the comments.</span>ドキュメントコメントの別のスタイル<code>//€</code>は、コメントに続く項目にドキュメントを追加するのではなく、コメントを含む項目にドキュメントを追加します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We typically use these doc comments inside the crate root file ( <i>src/lib.rs</i> by convention) or inside a module to document the crate or the module as a whole.</span>私たちは通常、 <i>crate</i>ルートファイル（慣習的に<i>src / lib.rs</i> ） <i>内また</i>はこれらのドキュメントのコメントをモジュール全体で使用して、クレートまたはモジュール全体を文書化します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example, if we want to add documentation that describes the purpose of the <code>my_crate</code> crate that contains the <code>add_one</code> function, we can add documentation comments that start with <code>//€</code> to the beginning of the <i>src/lib.rs</i> file, as shown in Listing 14-2:</span>たとえば、 <code>add_one</code>関数を含む<code>my_crate</code>の目的を記述したドキュメントを追加したい場合は、 <i>src / lib.rs</i>ファイルの先頭に<code>//€</code>で始まるドキュメントコメントを追加することができます14-2：</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/lib.rs</span></span> <span class=filename>ファイル名：src / lib.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="//! # My Crate"></div><div data-l=//!></div><div data-l="//! `my_crate` is a collection of utilities to make performing certain"></div><div data-l="//! calculations more convenient."></div><div data-l=""></div><div data-l="#///// Adds one to the number given."></div><div data-l="/// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Adds one to the number given.</span>与えられた数に1を加えます。</span> </div><div data-l="#// --snip--"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">--snip--</span> --snip--</span> </div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Listing 14-2: Documentation for the <code>my_crate</code> crate as a whole</span></span> <span class=caption>リスト14-2： <code>my_crate</code>箱全体のドキュメント</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Notice there isn&#39;t any code after the last line that begins with <code>//€</code> .</span> <code>//€</code>で始まる最後の行の後にコードがないことに注意してください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because we started the comments with <code>//€</code> instead of <code>///</code> , we&#39;re documenting the item that contains this comment rather than an item that follows this comment.</span> <code>///</code>ではなく<code>//€</code>を使用してコメントを開始したので、このコメントの後に続く項目ではなく、このコメントを含む項目を文書化しています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In this case, the item that contains this comment is the <i>src/lib.rs</i> file, which is the crate root.</span>この場合、このコメントを含む項目は<i>src / lib.rs</i>ファイルであり、これはクレートルートです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">These comments describe the entire crate.</span>これらのコメントは木箱全体を記述する。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When we run <code>cargo doc --open</code> , these comments will display on the front page of the documentation for <code>my_crate</code> above the list of public items in the crate, as shown in Figure 14-2:</span> <code>cargo doc --open</code>を実行すると、これらのコメントは、図14-2に示すように、クレート内のパブリックアイテムのリストの上にある<code>my_crate</code>のドキュメントのフロントページに表示されます。</span> </p><br><p><img alt="クレートのコメント全体をHTML形式で表示" src=img/trpl14-02.png class=center /></p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Figure 14-2: Rendered documentation for <code>my_crate</code> , including the comment describing the crate as a whole</span></span> <span class=caption>図14-2： <code>my_crate</code>レンダリングされたドキュメント。クレート全体を説明するコメントを含む</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Documentation comments within items are useful for describing crates and modules especially.</span>アイテム内のドキュメンテーションコメントは、特にクレートやモジュールの説明に役立ちます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Use them to explain the overall purpose of the container to help your users understand the crate&#39;s organization.</span>これらを使用して、コンテナの全体的な目的を説明し、ユーザーがクレートの組織を理解するのを助けます。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Exporting a Convenient Public API with <code>pub use</code></span> <code>pub use</code>した便利なパブリックAPIのエクスポート</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In Chapter 7, we covered how to organize our code into modules using the <code>mod</code> keyword, how to make items public using the <code>pub</code> keyword, and how to bring items into a scope with the <code>use</code> keyword.</span>第7章では、 <code>mod</code>キーワードを使用してコードをモジュールに編成する方法、 <code>pub</code>キーワードを使用してアイテムをパブリックにする方法、 <code>use</code>キーワードを<code>use</code>してアイテムをスコープに持ち込む方法について説明しました。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However, the structure that makes sense to you while you&#39;re developing a crate might not be very convenient for your users.</span>しかし、あなたがクレートを開発している間にあなたに合った構造は、あなたのユーザーにはあまり便利でないかもしれません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You might want to organize your structs in a hierarchy containing multiple levels, but then people who want to use a type you&#39;ve defined deep in the hierarchy might have trouble finding out that type exists.</span>構造体を複数のレベルを含む階層に編成することもできますが、階層の中で深く定義した型を使用したい人は、その型が存在するかどうかを調べるのが難しいかもしれません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">They might also be annoyed at having to enter <code>use</code> <code>my_crate::some_module::another_module::UsefulType;</code></span>彼らは、 <code>my_crate::some_module::another_module::UsefulType;</code> <code>use</code>しなければならないことに腹を<code>my_crate::some_module::another_module::UsefulType;</code>かもしれ<code>my_crate::some_module::another_module::UsefulType;</code></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">rather than <code>use</code> <code>my_crate::UsefulType;</code></span> <code>my_crate::UsefulType;</code> <code>use</code>ではなく<code>my_crate::UsefulType;</code></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">.</span> 。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The structure of your public API is a major consideration when publishing a crate.</span>あなたのパブリックAPIの構造は、クレートを公開する際の主な考慮事項です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">People who use your crate are less familiar with the structure than you are and might have difficulty finding the pieces they want to use if your crate has a large module hierarchy.</span>あなたのクレートを使用する人はあなたのものより構造にあまり精通しておらず、あなたのクレートが大きなモジュール階層を持っている場合、使用したい部分を見つけるのが難しいかもしれません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The good news is that if the structure <i>isn&#39;t</i> convenient for others to use from another library, you don&#39;t have to rearrange your internal organization: instead, you can re-export items to make a public structure that&#39;s different from your private structure by using <code>pub use</code> .</span>良いことは、他の図書館から他の図書館で使用するのに構造<i>が</i>便利で<i>ない</i>場合、内部組織を再編成する必要はなく、アイテムを再エクスポートして私的な構造とは異なる公開構造にすることができるということです<code>pub use</code>によって。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Re-exporting takes a public item in one location and makes it public in another location, as if it were defined in the other location instead.</span>再エクスポートでは、ある場所でパブリックアイテムが使用され、別の場所で定義されているかのように、パブリックアイテムが別の場所に公開されます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example, say we made a library named <code>art</code> for modeling artistic concepts.</span>たとえば、 <code>art</code>という概念をモデリングするために<code>art</code>という名前のライブラリを作成したとします。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Within this library are two modules: a <code>kinds</code> module containing two enums named <code>PrimaryColor</code> and <code>SecondaryColor</code> and a <code>utils</code> module containing a function named <code>mix</code> , as shown in Listing 14-3:</span>このライブラリには、リスト14-3に示すように、 <code>PrimaryColor</code>と<code>SecondaryColor</code> 2つの列挙型を含む<code>kinds</code>モジュールと、 <code>mix</code>という名前の関数を含む<code>utils</code>モジュールがあります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/lib.rs</span></span> <span class=filename>ファイル名：src / lib.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="//! # Art"></div><div data-l=//!></div><div data-l="//! A library for modeling artistic concepts."></div><div data-l=""></div><div data-l="pub mod kinds {"></div><div data-l="#//    /// The primary colors according to the RYB color model."></div><div data-l="    /// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The primary colors according to the RYB color model.</span> RYBカラーモデルによる原色。</span> </div><div data-l="    pub enum PrimaryColor {"></div><div data-l="        Red,"></div><div data-l="        Yellow,"></div><div data-l="        Blue,"></div><div data-l="    }"></div><div data-l=""></div><div data-l="#//    /// The secondary colors according to the RYB color model."></div><div data-l="    /// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The secondary colors according to the RYB color model.</span>二次色はRYBカラーモデルに従う。</span> </div><div data-l="    pub enum SecondaryColor {"></div><div data-l="        Orange,"></div><div data-l="        Green,"></div><div data-l="        Purple,"></div><div data-l="    }"></div><div data-l=}></div><div data-l=""></div><div data-l="pub mod utils {"></div><div data-l="    use kinds::*;"></div><div data-l=""></div><div data-l="#//    /// Combines two primary colors in equal amounts to create"></div><div data-l="    /// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Combines two primary colors in equal amounts to create</span> 2つの原色を同じ量で結合して作成します。</span> </div><div data-l="#//    /// a secondary color."></div><div data-l="    /// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">a secondary color.</span>二次色。</span> </div><div data-l="    pub fn mix(c1: PrimaryColor, c2: PrimaryColor) -&gt; SecondaryColor {"></div><div data-l="#        // --snip--"></div><div data-l="        // "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">--snip--</span> --snip--</span> </div><div data-l="    }"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Listing 14-3: An <code>art</code> library with items organized into <code>kinds</code> and <code>utils</code> modules</span></span> <span class=caption>リスト14-3： <code>art</code>に編成項目でライブラリ<code>kinds</code>と<code>utils</code>モジュール</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Figure 14-3 shows what the front page of the documentation for this crate generated by <code>cargo doc</code> would look like:</span>図14-3に、 <code>cargo doc</code>によって生成されたこのクレートのドキュメントの最初のページを示します。</span> </p><br><p><img alt="`kind`モジュールと` utils`モジュールをリストアップした `art`クレートのレンダリングされたドキュメント" src=img/trpl14-03.png class=center /></p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Figure 14-3: Front page of the documentation for <code>art</code> that lists the <code>kinds</code> and <code>utils</code> modules</span></span> <span class=caption>図14-3： <code>kinds</code>と<code>utils</code>モジュールをリストアップした<code>art</code>のドキュメントのフロントページ</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that the <code>PrimaryColor</code> and <code>SecondaryColor</code> types aren&#39;t listed on the front page, nor is the <code>mix</code> function.</span> <code>PrimaryColor</code>と<code>SecondaryColor</code>タイプはフロントページにもリストされていませんし、 <code>mix</code>機能もありません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We have to click <code>kinds</code> and <code>utils</code> to see them.</span>私たちはそれらを見るために<code>kinds</code>と<code>utils</code>をクリックしなければなりません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Another crate that depends on this library would need <code>use</code> statements that import the items from <code>art</code> , specifying the module structure that&#39;s currently defined.</span>このライブラリに依存する別のクレートには、現在定義されているモジュール構造を指定して、 <code>art</code>から項目をインポートする<code>use</code>ステートメントが必要です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Listing 14-4 shows an example of a crate that uses the <code>PrimaryColor</code> and <code>mix</code> items from the <code>art</code> crate:</span>リスト14-4は、 <code>PrimaryColor</code>を使用し、 <code>art</code>クレートのアイテムを<code>mix</code>するクレートの例を示しています。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="extern crate art;"></div><div data-l=""></div><div data-l="use art::kinds::PrimaryColor;"></div><div data-l="use art::utils::mix;"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    let red = PrimaryColor::Red;"></div><div data-l="    let yellow = PrimaryColor::Yellow;"></div><div data-l="    mix(red, yellow);"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Listing 14-4: A crate using the <code>art</code> crate&#39;s items with its internal structure exported</span></span> <span class=caption>リスト14-4：内部構造がエクスポートされた<code>art</code>クレートのアイテムを使用するクレート</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The author of the code in Listing 14-4, which uses the <code>art</code> crate, had to figure out that <code>PrimaryColor</code> is in the <code>kinds</code> module and <code>mix</code> is in the <code>utils</code> module.</span>使用して、リスト14-4のコードの作者<code>art</code>クレートは、ということを理解しなければならなかった<code>PrimaryColor</code>である<code>kinds</code>のモジュールと<code>mix</code>している<code>utils</code>モジュール。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The module structure of the <code>art</code> crate is more relevant to developers working on the <code>art</code> crate than to developers using the <code>art</code> crate.</span>モジュール構造<code>art</code>クレートは、に取り組んで開発者により関連性のある<code>art</code>よりも使用して開発者にクレート<code>art</code>クレートを。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The internal structure that organizes parts of the crate into the <code>kinds</code> module and the <code>utils</code> module doesn&#39;t contain any useful information for someone trying to understand how to use the <code>art</code> crate.</span>クレートの一部を<code>kinds</code>モジュールと<code>utils</code>モジュールに編成する内部構造には、 <code>art</code>クレートの使用方法を理解しようとする人にとって有用な情報は含まれていません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Instead, the <code>art</code> crate&#39;s module structure causes confusion because developers have to figure out where to look, and the structure is inconvenient because developers must specify the module names in the <code>use</code> statements.</span>その代わりに、 <code>art</code>クレートのモジュール構造は混乱を招く。なぜなら、開発者はどこから見ているか把握しなければならず、開発者は<code>use</code>ステートメントにモジュール名を指定しなければならないため、構造が不便である。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To remove the internal organization from the public API, we can modify the <code>art</code> crate code in Listing 14-3 to add <code>pub use</code> statements to re-export the items at the top level, as shown in Listing 14-5:</span>パブリックAPIから内部組織を削除するには、コードリスト14-3の<code>art</code>クレート・コードを変更して、リスト14-5に示すように、 <code>pub use</code>文を追加してアイテムをトップレベルで再エクスポートすることができます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/lib.rs</span></span> <span class=filename>ファイル名：src / lib.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="//! # Art"></div><div data-l=//!></div><div data-l="//! A library for modeling artistic concepts."></div><div data-l=""></div><div data-l="pub use kinds::PrimaryColor;"></div><div data-l="pub use kinds::SecondaryColor;"></div><div data-l="pub use utils::mix;"></div><div data-l=""></div><div data-l="pub mod kinds {"></div><div data-l="#    // --snip--"></div><div data-l="    // "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">--snip--</span> --snip--</span> </div><div data-l=}></div><div data-l=""></div><div data-l="pub mod utils {"></div><div data-l="#    // --snip--"></div><div data-l="    // "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">--snip--</span> --snip--</span> </div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Listing 14-5: Adding <code>pub use</code> statements to re-export items</span></span> <span class=caption>リスト14-5：アイテムを再エクスポートする<code>pub use</code>文の追加</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The API documentation that <code>cargo doc</code> generates for this crate will now list and link re-exports on the front page, as shown in Figure 14-4, making the <code>PrimaryColor</code> and <code>SecondaryColor</code> types and the <code>mix</code> function easier to find.</span>このクレート用に<code>cargo doc</code>生成するAPIドキュメントは、図14-4に示すように、フロントページに再エクスポートをリストしてリンクするようになり、 <code>PrimaryColor</code>および<code>SecondaryColor</code>タイプと<code>mix</code>関数を簡単に見つけることができます。</span> </p><br><p><img alt="フロントページに再輸出した「アート」枠のドキュメントをレンダリングしました。" src=img/trpl14-04.png class=center /></p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Figure 14-4: The front page of the documentation for <code>art</code> that lists the re-exports</span></span> <span class=caption>図14-4：再輸出を記載した<code>art</code>ためのドキュメンテーションの最初のページ</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>art</code> crate users can still see and use the internal structure from Listing 14-3 as demonstrated in Listing 14-4, or they can use the more convenient structure in Listing 14-5, as shown in Listing 14-6:</span>リスト14-4に示すように、 <code>art</code>クレートユーザーはリスト14-3の内部構造を見たり使用したりすることができます。リスト14-6で示すように、リスト14-5のより便利な構造を使用することもできます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="extern crate art;"></div><div data-l=""></div><div data-l="use art::PrimaryColor;"></div><div data-l="use art::mix;"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="#    // --snip--"></div><div data-l="    // "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">--snip--</span> --snip--</span> </div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Listing 14-6: A program using the re-exported items from the <code>art</code> crate</span></span> <span class=caption>リスト14-6： <code>art</code>クレートの再エクスポートされたアイテムを使用するプログラム</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In cases where there are many nested modules, re-exporting the types at the top level with <code>pub use</code> can make a significant difference in the experience of people who use the crate.</span>ネストされたモジュールが多数ある場合、トップレベルで<code>pub use</code>してタイプを再エクスポートすると、クレートを使用する人の経験に大きな違いが生じます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Creating a useful public API structure is more of an art than a science, and you can iterate to find the API that works best for your users.</span>便利な公開API構造を作成することは、科学よりも芸術であり、ユーザーにとって最適なAPIを見つけることができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Choosing <code>pub use</code> gives you flexibility in how you structure your crate internally and decouples that internal structure from what you present to your users.</span> <code>pub use</code>を選択すると、あなたのクレートを内部的にどのように構築するかに柔軟性がもたらされ、その内部構造をユーザーに提示するものから切り離すことができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Look at some of the code of crates you&#39;ve installed to see if their internal structure differs from their public API.</span>インストールしたクレートのコードの一部を見て、内部構造がパブリックAPIと異なるかどうかを確認してください。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Setting Up a Crates.io Account</span> Crates.ioアカウントを設定する</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Before you can publish any crates, you need to create an account on <a class=notranslate href=#2https://crates.io>crates.io</a></span>任意のクレートを公開する前に、 <a class=notranslate href=#2https://crates.io>crates.io</a>アカウントを作成する必要があります</span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">and get an API token.</span> APIトークンを取得します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To do so, visit the home page at <a class=notranslate href=#2https://crates.io>crates.io</a></span>そうするには、 <a class=notranslate href=#2https://crates.io>crates.io</a>ホームページを<a class=notranslate href=#2https://crates.io>crates.io</a>ください</span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">and log in via a GitHub account.</span> GitHubアカウント経由でログインしてください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(The GitHub account is currently a requirement, but the site might support other ways of creating an account in the future.) Once you&#39;re logged in, visit your account settings at <a class=notranslate href=#2https://crates.io/me/>https://crates.io/me/</a></span> （GitHubアカウントは現在のところ必要ですが、将来的にアカウントを作成する他の方法をサポートしているかもしれません）。ログインしたら、アカウント設定を<a class=notranslate href=#2https://crates.io/me/>https://crates.io/me/</a>して<a class=notranslate href=#2https://crates.io/me/>https://crates.io/me/</a></span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">and retrieve your API key.</span> APIキーを取得します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Then run the <code>cargo login</code> command with your API key, like this:</span>次に、次のようにAPIキーを使って<code>cargo login</code>コマンドを実行します。</span> </p><br><div data-lang=text><div data-l="$ cargo login abcdefghijklmnopqrstuvwxyz012345"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This command will inform Cargo of your API token and store it locally in <i>~/.cargo/credentials</i> .</span>このコマンドはCargoにAPIトークンを通知し、 <i>〜/ .cargo / credentialsに</i>ローカルに格納し<i>ます</i> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that this token is a <i>secret</i> : do not share it with anyone else.</span>このトークンは<i>秘密</i>です。他の誰とも共有しないでください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you do share it with anyone for any reason, you should revoke it and generate a new token on <a class=notranslate href=#2https://crates.io>crates.io</a></span>何らかの理由で他の人と共有している場合は、それを取り消して<a class=notranslate href=#2https://crates.io>crates.io</a>新しいトークンを生成する必要があります</span> <!-- ignore
--> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">.</span> 。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Adding Metadata to a New Crate</span>新しいクレートへのメタデータの追加</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now that you have an account, let&#39;s say you have a crate you want to publish.</span>今、あなたは口座を持っています。あなたが出版したい木箱を持っているとしましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Before publishing, you&#39;ll need to add some metadata to your crate by adding it to the <code>[package]</code> section of the crate&#39;s <i>Cargo.toml</i> file.</span>パブリッシュする前に、クレートの<i>Cargo.toml</i>ファイルの<code>[package]</code>セクションにメタデータを追加して、クレートにメタデータを追加する必要があります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Your crate will need a unique name.</span>あなたの箱には一意の名前が必要です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">While you&#39;re working on a crate locally, you can name a crate whatever you&#39;d like.</span>あなたは現地で木箱を作っている間に、あなたが好きな木枠を名づけることができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However, crate names on <a class=notranslate href=#2https://crates.io>crates.io</a></span>しかし、 <a class=notranslate href=#2https://crates.io>crates.io</a>木箱の名前</span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">are allocated on a first-come, first-served basis.</span>先着順に割り当てられます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Once a crate name is taken, no one else can publish a crate with that name.</span>いったん箱の名前が取られると、誰もその名前の木箱を公開することはできません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Search for the name you want to use on the site to find out whether it has been used.</span>サイトで使用する名前を検索し、使用されているかどうかを調べます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If it hasn&#39;t, edit the name in the <i>Cargo.toml</i> file under <code>[package]</code> to use the name for publishing, like so:</span>そうでない場合は、 <code>[package]</code>下の<i>Cargo.toml</i>ファイルの名前を編集して公開用の名前を使用します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: Cargo.toml</span></span> <span class=filename>ファイル名：Cargo.toml</span></span> </p><br><div data-lang=toml><div data-l=[package]></div><div data-l="name = &quot;guessing_game&quot;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Even if you&#39;ve chosen a unique name, when you run <code>cargo publish</code> to publish the crate at this point, you&#39;ll get a warning and then an error:</span>一意の名前を選択しても、この時点で<code>cargo publish</code>を発行してクレートを公開すると、警告が表示され、エラーが表示されます。</span> </p><br><div data-lang=text><div data-l="$ cargo publish"></div><div data-l="    Updating registry `https://github.com/rust-lang/crates.io-index`"></div><div data-l="warning: manifest has no description, license, license-file, documentation,"></div><div data-l="homepage or repository."></div><div data-l=--snip--></div><div data-l="error: api errors: missing or empty metadata fields: description, license."></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The reason is that you&#39;re missing some crucial information: a description and license are required so people will know what your crate does and under what terms they can use it.</span>その理由は、いくつかの重要な情報が欠落しているということです。あなたの木枠が何をしているのか、どのような条件で使用できるのかを人々が知るための説明とライセンスが必要です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To rectify this error, you need to include this information in the <i>Cargo.toml</i> file.</span>このエラーを修正するには、この情報を<i>Cargo.toml</i>ファイルに含める必要があります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Add a description that is just a sentence or two, because it will appear with your crate in search results.</span>あなたのクレートと一緒に検索結果に表示されるため、1つまたは2つの説明だけを追加します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For the <code>license</code> field, you need to give a <i>license identifier value</i> .</span> <code>license</code>フィールドでは、 <i>ライセンスIDの値を指定</i>する必要があり<i>ます</i> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <a href=#3spdx>Linux Foundation&#39;s Software Package Data Exchange (SPDX)</a> lists the identifiers you can use for this value.</span> <a href=#3spdx>Linux Foundationのソフトウェアパッケージデータ交換（SPDX）に</a>は、この値に使用できる識別子がリストされています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example, to specify that you&#39;ve licensed your crate using the MIT License, add the <code>MIT</code> identifier:</span>たとえば、MITライセンスを使用してあなたの箱をライセンスしたことを指定するには、 <code>MIT</code>識別子を追加します。</span> </p><br> <a class=notranslate href=#1http://spdx.org/licenses/>spdx</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: Cargo.toml</span></span> <span class=filename>ファイル名：Cargo.toml</span></span> </p><br><div data-lang=toml><div data-l=[package]></div><div data-l="name = &quot;guessing_game&quot;"></div><div data-l="license = &quot;MIT&quot;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you want to use a license that doesn&#39;t appear in the SPDX, you need to place the text of that license in a file, include the file in your project, and then use <code>license-file</code> to specify the name of that file instead of using the <code>license</code> key.</span> SPDXに表示されないライセンスを使用する場合は、そのライセンスのテキストをファイルに格納し、そのファイルをプロジェクトに組み込み、 <code>license-file</code>を使用してそのファイルの名前を指定する必要があります<code>license</code>キーを使用します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Guidance on which license is appropriate for your project is beyond the scope of this book.</span>どのライセンスがプロジェクトに適しているかについてのガイダンスは、この本の範囲を超えています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Many people in the Rust community license their projects in the same way as Rust by using a dual license of <code>MIT OR Apache-2.0</code> .</span> Rustコミュニティの多くの人々は、 <code>MIT OR Apache-2.0</code>二重ライセンスを使用して、Rustと同じ方法でプロジェクトのライセンスを取得します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This practice demonstrates that you can also specify multiple license identifiers separated by <code>OR</code> to have multiple licenses for your project.</span>このプラクティスでは、 <code>OR</code>区切られた複数のライセンスIDを指定して、プロジェクトに複数のライセンスを持たせることもできます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">With a unique name, the version, the author details that <code>cargo new</code> added when you created the crate, your description, and a license added, the <i>Cargo.toml</i> file for a project that is ready to publish might look like this:</span>一意の名前を使用すると、クレート、説明、ライセンスが作成されたときに<code>cargo new</code>追加されたバージョン、作成者の詳細、パブリッシュできるプロジェクトの<i>Cargo.toml</i>ファイルは次のようになります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: Cargo.toml</span></span> <span class=filename>ファイル名：Cargo.toml</span></span> </p><br><div data-lang=toml><div data-l=[package]></div><div data-l="name = &quot;guessing_game&quot;"></div><div data-l="version = &quot;0.1.0&quot;"></div><div data-l="authors = [&quot;Your Name &lt;you@example.com&gt;&quot;]"></div><div data-l="description = &quot;A fun game where you guess what number the computer has chosen.&quot;"></div><div data-l="license = &quot;MIT OR Apache-2.0&quot;"></div><div data-l=""></div><div data-l=[dependencies]></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a href=#2https://doc.rust-lang.org/cargo/>Cargo&#39;s documentation</a> describes other metadata you can specify to ensure others can discover and use your crate more easily.</span> <a href=#2https://doc.rust-lang.org/cargo/>Cargoのドキュメントに</a>は、他の人があなたのクレートをより簡単に発見して使用できるように指定できる他のメタデータが記載されています。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Publishing to Crates.io</span> Crates.ioへの公開</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now that you&#39;ve created an account, saved your API token, chosen a name for your crate, and specified the required metadata, you&#39;re ready to publish!</span>アカウントを作成し、APIトークンを保存し、あなたのクレートの名前を選択し、必要なメタデータを指定したら、すぐに公開できます！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Publishing a crate uploads a specific version to <a class=notranslate href=#2https://crates.io>crates.io</a></span>クレートを公開すると特定のバージョンが<a class=notranslate href=#2https://crates.io>crates.io</a>アップロードされ<a class=notranslate href=#2https://crates.io>crates.io</a></span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">for others to use.</span>他人が使用するために。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Be careful when publishing a crate because a publish is <i>permanent</i> .</span>パブリッシュが<i>永久的である</i>ため、クレートをパブリッシュするときは注意してください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The version can never be overwritten, and the code cannot be deleted.</span>バージョンを上書きすることはできず、コードを削除することはできません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">One major goal of <a class=notranslate href=#2https://crates.io>crates.io</a></span> <a class=notranslate href=#2https://crates.io>crates.io</a> 1つの主要な目標</span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">is to act as a permanent archive of code so that builds of all projects that depend on crates from <a class=notranslate href=#2https://crates.io>crates.io</a></span>恒久的なコードのアーカイブとして機能するので、 <a class=notranslate href=#2https://crates.io>crates.io</a>からの箱に依存するすべてのプロジェクトがビルドされ<a class=notranslate href=#2https://crates.io>crates.io</a></span> <!-- ignore --> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">will continue to work.</span>引き続き動作します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Allowing version deletions would make fulfilling that goal impossible.</span>バージョンの削除を許可すると、その目標を達成することは不可能になります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However, there is no limit to the number of crate versions you can publish.</span>ただし、公開できるクレートバージョンの数に制限はありません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Run the <code>cargo publish</code> command again.</span> <code>cargo publish</code>コマンドを再度実行します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It should succeed now:</span>それは今成功する必要があります：</span> </p><br><div data-lang=text><div data-l="$ cargo publish"></div><div data-l=" Updating registry `https://github.com/rust-lang/crates.io-index`"></div><div data-l="Packaging guessing_game v0.1.0 (file:///projects/guessing_game)"></div><div data-l="Verifying guessing_game v0.1.0 (file:///projects/guessing_game)"></div><div data-l="Compiling guessing_game v0.1.0"></div><div data-l=(file:///projects/guessing_game/target/package/guessing_game-0.1.0)></div><div data-l=" Finished dev [unoptimized + debuginfo] target(s) in 0.19 secs"></div><div data-l="Uploading guessing_game v0.1.0 (file:///projects/guessing_game)"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Congratulations!</span>おめでとう！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You&#39;ve now shared your code with the Rust community, and anyone can easily add your crate as a dependency of their project.</span>あなたはRustコミュニティとコードを共有しました。誰でもあなたのプロジェクトの依存としてあなたのクレートを簡単に追加できます。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Publishing a New Version of an Existing Crate</span>既存のクレートの新しいバージョンを公開する</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When you&#39;ve made changes to your crate and are ready to release a new version, you change the <code>version</code> value specified in your <i>Cargo.toml</i> file and republish.</span>あなたのクレートを変更して新しいバージョンをリリースする準備ができたら、 <i>Cargo.toml</i>ファイルで指定された<code>version</code>値を変更して再発行します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Use the <a href=#3semver>Semantic Versioning rules</a> to decide what an appropriate next version number is based on the kinds of changes you&#39;ve made.</span> <a href=#3semver>セマンティックバージョニングルール</a>を使用して、作成した変更の種類に基づいて適切な次のバージョン番号を決定します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Then run <code>cargo publish</code> to upload the new version.</span>その後、 <code>cargo publish</code>を実行して新しいバージョンをアップロードします。</span> </p><br> <a class=notranslate href=#1http://semver.org/>semver</a> <br> <h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Removing Versions from Crates.io with <code>cargo yank</code></span> Crates.ioのバージョンを<code>cargo yank</code></span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Although you can&#39;t remove previous versions of a crate, you can prevent any future projects from adding them as a new dependency.</span>以前のバージョンのクレートを削除することはできませんが、今後のプロジェクトでは新しい依存関係として追加することはできません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This is useful when a crate version is broken for one reason or another.</span>これは、クレートバージョンが何らかの理由で壊れている場合に便利です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In such situations, Cargo supports <i>yanking</i> a crate version.</span>このような状況では、Cargoはクレートバージョンを<i>ヤンク</i>します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Yanking a version prevents new projects from starting to depend on that version while allowing all existing projects that depend on it to continue to download and depend on that version.</span>バージョンをヤンクすると、新しいプロジェクトがそのバージョンに依存し始めるのを防ぎますが、それに依存する既存のプロジェクトはすべてそのバージョンにダウンロードして依存し続けます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Essentially, a yank means that all projects with a <i>Cargo.lock</i> will not break, and any future <i>Cargo.lock</i> files generated will not use the yanked version.</span>基本的に、ヤンクは、 <i>Cargo.lock</i>を持つすべてのプロジェクトが中断しないことを意味し、生成される将来の<i>Cargo.lock</i>ファイルは、ヤンクされたバージョンを使用しません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To yank a version of a crate, run <code>cargo yank</code> and specify which version you want to yank:</span>クレートのバージョンをヤンクするには、 <code>cargo yank</code>を実行して、取り消したいバージョンを指定します。</span> </p><br><div data-lang=text><div data-l="$ cargo yank --vers 1.0.1"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">By adding <code>--undo</code> to the command, you can also undo a yank and allow projects to start depending on a version again:</span>コマンドに<code>--undo</code>を追加することで、yankを取り消して、バージョンに応じてプロジェクトを<code>--undo</code>することもできます：</span> </p><br><div data-lang=text><div data-l="$ cargo yank --vers 1.0.1 --undo"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">A yank <i>does not</i> delete any code.</span>ヤンク<i>は</i>コードを削除<i>しません</i> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example, the yank feature is not intended for deleting accidentally uploaded secrets.</span>たとえば、誤ってアップロードされた秘密を削除するための機能ではありません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If that happens, you must reset those secrets immediately.</span>そのような場合は、すぐにそれらの秘密をリセットする必要があります。</span> </p><script>_addload(function(){_setupIW('com');_csi('en','ja','ch14-02-publishing-to-crates-io.html');});</script>