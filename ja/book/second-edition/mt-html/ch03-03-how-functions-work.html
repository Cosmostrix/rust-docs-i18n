<!DOCTYPE html><html lang=ja-x-mtfrom-en><head><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="https://translate.googleusercontent.com/translate/releases/twsfe_w_20180709_RC00/r/js/translate_c.js"></script><script>_intlStrings._originalText = "英語の原文テキスト:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|ja";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="%1$s に %2$s により翻訳されました";_intlStrings._unknown="不明";_intlStrings._suggestTranslation="翻訳を改善する"  ;_intlStrings._submit="送信";_intlStrings._suggestThanks="Google 翻訳の改善にご協力いただきありがとうございました。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href=ch03-03-how-functions-work.html hreflang=en rel="alternate machine-translated-from"><base href="" target=_top /></head><body><iframe src="https://translate.google.com/translate_un?hl=ja&prev=_t&sl=en&tl=ja&lang=en&usg=ALkJrhi1BDLmdbWiRXYMNxkaJ7TdmUrvmA" width=0 height=0 frameborder=0 style="width:0px;height:0px;border:0px;display:none;"></iframe><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Functions</span>機能</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Functions are pervasive in Rust code.</span>関数は錆のコードに広がっています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You&#39;ve already seen one of the most important functions in the language: the <code>main</code> function, which is the entry point of many programs.</span>あなたはすでに言語の中で最も重要な機能の1つを見てきました。 <code>main</code>機能は、多くのプログラムの入り口です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You&#39;ve also seen the <code>fn</code> keyword, which allows you to declare new functions.</span>新しい関数を宣言できる<code>fn</code>キーワードも見てきました。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust code uses <i>snake case</i> as the conventional style for function and variable names.</span>錆コードは、関数名と変数名の従来のスタイルとして<i>スネークケース</i>を使用します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In snake case, all letters are lowercase and underscores separate words.</span>スネークの場合、すべての文字は小文字で、単語は別々になっています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here&#39;s a program that contains an example function definition:</span>ここに、関数定義の例を含むプログラムがあります：</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust><div data-l="fn main() {"></div><div data-l="    println!(&quot;Hello, world!&quot;);"></div><div data-l=""></div><div data-l="    another_function();"></div><div data-l=}></div><div data-l=""></div><div data-l="fn another_function() {"></div><div data-l="    println!(&quot;Another function.&quot;);"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Function definitions in Rust start with <code>fn</code> and have a set of parentheses after the function name.</span> Rustの関数定義は<code>fn</code>で始まり、関数名の後に括弧が付きます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The curly brackets tell the compiler where the function body begins and ends.</span>中括弧は、関数本体の始まりと終わりをコンパイラに伝えます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We can call any function we&#39;ve defined by entering its name followed by a set of parentheses.</span>定義した関数は、その名前の後ろに括弧を付けて呼び出すことができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because <code>another_function</code> is defined in the program, it can be called from inside the <code>main</code> function.</span> <code>another_function</code>はプログラムで定義されているので、 <code>main</code>関数の内部から呼び出すことができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that we defined <code>another_function</code> <i>after</i> the <code>main</code> function in the source code;</span>ソースコードの<code>main</code>関数の<i>後</i>に<code>another_function</code>を定義したことに注意してください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">we could have defined it before as well.</span>それ以前にも定義できました。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust doesn&#39;t care where you define your functions, only that they&#39;re defined somewhere.</span> Rustはどこで関数を定義するかは気にせず、どこかで定義されているだけです。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s start a new binary project named <i>functions</i> to explore functions further.</span>さらに機能を探索する<i>機能を</i>という名前の新しいバイナリプロジェクトを開始してみましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Place the <code>another_function</code> example in <i>src/main.rs</i> and run it.</span> <code>another_function</code>例を<i>src / main.rsに置き</i> 、実行します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You should see the following output:</span>次の出力が表示されます。</span> </p><br><div data-lang=text><div data-l="$ cargo run"></div><div data-l="   Compiling functions v0.1.0 (file:///projects/functions)"></div><div data-l="    Finished dev [unoptimized + debuginfo] target(s) in 0.28 secs"></div><div data-l="     Running `target/debug/functions`"></div><div data-l="Hello, world!"></div><div data-l="Another function."></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The lines execute in the order in which they appear in the <code>main</code> function.</span>これらの行は、 <code>main</code>関数に現れる順に実行されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">First, the “Hello, world!” message prints, and then <code>another_function</code> is called and its message is printed.</span>まず、 &quot;Hello、world！&quot;メッセージが表示され、 <code>another_function</code>が呼び出され、そのメッセージが表示されます。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Function Parameters</span>関数のパラメータ</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Functions can also be defined to have <i>parameters</i> , which are special variables that are part of a function&#39;s signature.</span>関数は、関数のシグネチャの一部である特殊変数である<i>パラメータ</i>を持つように定義することもできます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When a function has parameters, you can provide it with concrete values for those parameters.</span>関数にパラメータがある場合は、それらのパラメータの具体的な値を与えることができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Technically, the concrete values are called <i>arguments</i> , but in casual conversation, people tend to use the words <i>parameter</i> and <i>argument</i> interchangeably for either the variables in a function&#39;s definition or the concrete values passed in when you call a function.</span>技術的には、具体的な値は<i>引数</i>と呼ばれ<i>ます</i>が、カジュアルな会話では、関数の定義内の変数または関数を呼び出すときに渡される具体的な値のいずれかにword <i>パラメータ</i>と<i>引数を</i>交換する傾向があります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The following rewritten version of <code>another_function</code> shows what parameters look like in Rust:</span> <code>another_function</code>の次の書き直し版は、Rustでどのようなパラメータが見えるかを示しています。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust><div data-l="fn main() {"></div><div data-l="    another_function(5);"></div><div data-l=}></div><div data-l=""></div><div data-l="fn another_function(x: i32) {"></div><div data-l="    println!(&quot;The value of x is: {}&quot;, x);"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Try running this program;</span>このプログラムを実行してみてください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">you should get the following output:</span>次の出力が得られるはずです。</span> </p><br><div data-lang=text><div data-l="$ cargo run"></div><div data-l="   Compiling functions v0.1.0 (file:///projects/functions)"></div><div data-l="    Finished dev [unoptimized + debuginfo] target(s) in 1.21 secs"></div><div data-l="     Running `target/debug/functions`"></div><div data-l="The value of x is: 5"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The declaration of <code>another_function</code> has one parameter named <code>x</code> .</span> <code>another_function</code>の宣言には、 <code>x</code>という名前のパラメータが1つあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The type of <code>x</code> is specified as <code>i32</code> .</span> <code>x</code>の型は<code>i32</code>として指定されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When <code>5</code> is passed to <code>another_function</code> , the <code>println€</code> macro puts <code>5</code> where the pair of curly brackets were in the format string.</span> <code>another_function</code> <code>5</code>が渡されると、 <code>println€</code>マクロは、中括弧のペアが書式文字列内にあったところに<code>5</code>置きます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In function signatures, you <i>must</i> declare the type of each parameter.</span>関数シグネチャでは、各パラメータの型を宣言する<i>必要</i>が<i>あり</i>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This is a deliberate decision in Rust&#39;s design: requiring type annotations in function definitions means the compiler almost never needs you to use them elsewhere in the code to figure out what you mean.</span>これは、Rustの設計における意図的な決定です。関数の定義に型の注釈が必要なことは、コンパイラが、コードのどこかでそれらを使用する必要がほとんどないことを意味します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When you want a function to have multiple parameters, separate the parameter declarations with commas, like this:</span>関数に複数のパラメータを指定する場合は、パラメータ宣言を次のようにカンマで区切ります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust><div data-l="fn main() {"></div><div data-l="    another_function(5, 6);"></div><div data-l=}></div><div data-l=""></div><div data-l="fn another_function(x: i32, y: i32) {"></div><div data-l="    println!(&quot;The value of x is: {}&quot;, x);"></div><div data-l="    println!(&quot;The value of y is: {}&quot;, y);"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This example creates a function with two parameters, both of which are <code>i32</code> types.</span>この例では、両方とも<code>i32</code>型の2つのパラメータを持つ関数を作成します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The function then prints the values in both of its parameters.</span>この関数は、両方のパラメータに値を出力します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that function parameters don&#39;t all need to be the same type, they just happen to be in this example.</span>関数のパラメータはすべて同じ型である必要はないことに注意してください。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s try running this code.</span>このコードを実行してみましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Replace the program currently in your <i>functions</i> project&#39;s <i>src/main.rs</i> file with the preceding example and run it using <code>cargo run</code> :</span> <i>関数</i>プロジェクトの<i>src / main.rs</i>ファイルにあるプログラムを上記の例に置き換え、 <code>cargo run</code>を使用して<code>cargo run</code> 。</span> </p><br><div data-lang=text><div data-l="$ cargo run"></div><div data-l="   Compiling functions v0.1.0 (file:///projects/functions)"></div><div data-l="    Finished dev [unoptimized + debuginfo] target(s) in 0.31 secs"></div><div data-l="     Running `target/debug/functions`"></div><div data-l="The value of x is: 5"></div><div data-l="The value of y is: 6"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because we called the function with <code>5</code> as the value for <code>x</code> and <code>6</code> is passed as the value for <code>y</code> , the two strings are printed with these values.</span> <code>x</code>の値として<code>5</code>を、 <code>y</code>の値として<code>6</code>を渡したので、2つの文字列はこれらの値で出力されます。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Function Bodies Contain Statements and Expressions</span>関数本体には文と式が含まれています</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Function bodies are made up of a series of statements optionally ending in an expression.</span>関数本体は、オプションで式で終わる一連のステートメントで構成されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">So far, we&#39;ve only covered functions without an ending expression, but you have seen an expression as part of a statement.</span>これまでは、式を終了することなく関数のみを扱ってきましたが、式の一部として式を参照しています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because Rust is an expression-based language, this is an important distinction to understand.</span> Rustは式ベースの言語なので、これは重要な違いです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Other languages don&#39;t have the same distinctions, so let&#39;s look at what statements and expressions are and how their differences affect the bodies of functions.</span>他の言語でも同じ区別がないので、どのステートメントや式がどのようなものか、その違いが関数の本体にどのように影響するかを見てみましょう。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We&#39;ve actually already used statements and expressions.</span>実際にはすでにステートメントと式を使用しています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><i>Statements</i> are instructions that perform some action and do not return a value.</span> <i>ステートメント</i>は、何らかのアクションを実行し、値を返さない命令です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><i>Expressions</i> evaluate to a resulting value.</span> <i>式</i>は結果の値に評価されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s look at some examples.</span>いくつかの例を見てみましょう。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Creating a variable and assigning a value to it with the <code>let</code> keyword is a statement.</span>変数を作成し、 <code>let</code>キーワードを使用して変数に値を代入することは、ステートメントです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In Listing 3-1, <code>let y = 6;</code></span>リスト3-1では<code>let y = 6;</code></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">is a statement.</span>声明です。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust><div data-l="fn main() {"></div><div data-l="    let y = 6;"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Listing 3-1: A <code>main</code> function declaration containing one statement</span></span> <span class=caption>リスト3-1：1つのステートメントを含む<code>main</code>関数宣言</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Function definitions are also statements;</span>関数定義もステートメントです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">the entire preceding example is a statement in itself.</span>前の例全体が単独の文です。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Statements do not return values.</span>ステートメントは値を返しません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Therefore, you can&#39;t assign a <code>let</code> statement to another variable, as the following code tries to do;</span>したがって、 <code>let</code>ステートメントを別の変数に代入することはできません。次のコードが実行しようとしています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">you&#39;ll get an error:</span>エラーが表示されます：</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="fn main() {"></div><div data-l="    let x = (let y = 6);"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When you run this program, the error you&#39;ll get looks like this:</span>このプログラムを実行すると、次のようなエラーが表示されます。</span> </p><br><div data-lang=text><div data-l="$ cargo run"></div><div data-l="   Compiling functions v0.1.0 (file:///projects/functions)"></div><div data-l="error: expected expression, found statement (`let`)"></div><div data-l=" --&gt; src/main.rs:2:14"></div><div data-l="  |"></div><div data-l="2 |     let x = (let y = 6);"></div><div data-l="  |              ^^^"></div><div data-l="  |"></div><div data-l="  = note: variable declaration using `let` is a statement"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>let y = 6</code> statement does not return a value, so there isn&#39;t anything for <code>x</code> to bind to.</span> <code>let y = 6</code>ステートメントは値を返さないので、 <code>x</code>にバインドするものはありません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This is different from what happens in other languages, such as C and Ruby, where the assignment returns the value of the assignment.</span>これは、代入が代入の値を返すCやRubyなど、他の言語で行われる処理とは異なります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In those languages, you can write <code>x = y = 6</code> and have both <code>x</code> and <code>y</code> have the value <code>6</code> ;</span>それらの言語では、 <code>x = y = 6</code>と書くことができ、 <code>x</code>と<code>y</code>両方に値<code>6</code>持たせることができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">that is not the case in Rust.</span>それは錆の場合ではありません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Expressions evaluate to something and make up most of the rest of the code that you&#39;ll write in Rust.</span>式は何かに評価され、Rustで書く残りのコードのほとんどを占めます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Consider a simple math operation, such as <code>5 + 6</code> , which is an expression that evaluates to the value <code>11</code> .</span> <code>5 + 6</code>ような単純な数学演算を考えてみましょう。これは値<code>11</code>評価される式です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Expressions can be part of statements: in Listing 3-1, the <code>6</code> in the statement <code>let y = 6;</code></span>式はステートメントの一部です。リスト3-1では、ステートメントの<code>6</code>が<code>let y = 6;</code></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">is an expression that evaluates to the value <code>6</code> .</span>値<code>6</code>評価される式です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Calling a function is an expression.</span>関数の呼び出しは式です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Calling a macro is an expression.</span>マクロの呼び出しは式です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The block that we use to create new scopes, <code>{}</code> , is an expression, for example:</span>新しいスコープを作成するために使用するブロック<code>{}</code>は式です。たとえば、次のようになります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust><div data-l="fn main() {"></div><div data-l="    let x = 5;"></div><div data-l=""></div><div data-l="    let y = {"></div><div data-l="        let x = 3;"></div><div data-l="        x + 1"></div><div data-l="    };"></div><div data-l=""></div><div data-l="    println!(&quot;The value of y is: {}&quot;, y);"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This expression:</span>この式は、</span> </p><br><div data-lang=rust,ignore><div data-l={></div><div data-l="    let x = 3;"></div><div data-l="    x + 1"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">is a block that, in this case, evaluates to <code>4</code> .</span>この場合、 <code>4</code>と評価されるブロックです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">That value gets bound to <code>y</code> as part of the <code>let</code> statement.</span>その値は<code>let</code>ステートメントの一部として<code>y</code>にバインドされます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note the <code>x + 1</code> line without a semicolon at the end, which is unlike most of the lines you&#39;ve seen so far.</span>最後にセミコロンを付けない<code>x + 1</code>行に注目してください。これはあなたがこれまで見てきたほとんどの行とは異なります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Expressions do not include ending semicolons.</span>式には終了セミコロンは含まれません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you add a semicolon to the end of an expression, you turn it into a statement, which will then not return a value.</span>式の最後にセミコロンを追加すると、ステートメントに変換され、ステートメントに値が返されません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Keep this in mind as you explore function return values and expressions next.</span>次に関数の戻り値と式を調べるときは、このことを覚えておいてください。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Functions with Return Values</span>戻り値を持つ関数</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Functions can return values to the code that calls them.</span>関数はそれらを呼び出すコードに値を返すことができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We don&#39;t name return values, but we do declare their type after an arrow ( <code>-&gt;</code> ).</span>戻り値の名前は付けませんが、矢印の後に型を宣言します（ <code>-&gt;</code> ）。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In Rust, the return value of the function is synonymous with the value of the final expression in the block of the body of a function.</span> Rustでは、関数の戻り値は、関数本体のブロック内の最終式の値と同義です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can return early from a function by using the <code>return</code> keyword and specifying a value, but most functions return the last expression implicitly.</span> <code>return</code>キーワードを使用して値を指定することで、関数から早期に戻ることができますが、ほとんどの関数は最後の式を暗黙的に返します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here&#39;s an example of a function that returns a value:</span>次に、値を返す関数の例を示します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust><div data-l="fn five() -&gt; i32 {"></div><div data-l="    5"></div><div data-l=}></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    let x = five();"></div><div data-l=""></div><div data-l="    println!(&quot;The value of x is: {}&quot;, x);"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">There are no function calls, macros, or even <code>let</code> statements in the <code>five</code> function—just the number <code>5</code> by itself.</span> <code>five</code>関数には関数呼び出し、マクロ、または<code>let</code>文はありません。それは<code>5</code>番だけです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">That&#39;s a perfectly valid function in Rust.</span>これは、Rustの完全に有効な機能です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that the function&#39;s return type is specified, too, as <code>-&gt; i32</code> .</span>関数の戻り値の型も<code>-&gt; i32</code>として指定されていることに注意してください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Try running this code;</span>このコードを実行してみてください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">the output should look like this:</span>出力は次のようになります。</span> </p><br><div data-lang=text><div data-l="$ cargo run"></div><div data-l="   Compiling functions v0.1.0 (file:///projects/functions)"></div><div data-l="    Finished dev [unoptimized + debuginfo] target(s) in 0.30 secs"></div><div data-l="     Running `target/debug/functions`"></div><div data-l="The value of x is: 5"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>5</code> in <code>five</code> is the function&#39;s return value, which is why the return type is <code>i32</code> .</span> <code>5</code>中<code>five</code>戻り値の型である理由である関数の戻り値であり、 <code>i32</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s examine this in more detail.</span>これをより詳細に調べてみましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">There are two important bits: first, the line <code>let x = five();</code></span>重要な2つのビットがあります。まず、 <code>let x = five();</code></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">shows that we&#39;re using the return value of a function to initialize a variable.</span>変数の初期化に関数の戻り値を使用していることを示しています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because the function <code>five</code> returns a <code>5</code> , that line is the same as the following:</span>機能ので<code>five</code>戻る<code>5</code> 、その行は、次のと同じです。</span> </p><br><div data-lang=rust><div data-l="let x = 5;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Second, the <code>five</code> function has no parameters and defines the type of the return value, but the body of the function is a lonely <code>5</code> with no semicolon because it&#39;s an expression whose value we want to return.</span>第2に、 <code>five</code>関数はパラメータを持たず、戻り値の型を定義しますが、関数の本体はセミコロンを持たない孤独な<code>5</code>です。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s look at another example:</span>別の例を見てみましょう：</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust><div data-l="fn main() {"></div><div data-l="    let x = plus_one(5);"></div><div data-l=""></div><div data-l="    println!(&quot;The value of x is: {}&quot;, x);"></div><div data-l=}></div><div data-l=""></div><div data-l="fn plus_one(x: i32) -&gt; i32 {"></div><div data-l="    x + 1"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Running this code will print <code>The value of x is: 6</code> .</span>このコードを実行すると<code>The value of x is: 6</code>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">But if we place a semicolon at the end of the line containing <code>x + 1</code> , changing it from an expression to a statement, we&#39;ll get an error.</span>しかし、 <code>x + 1</code>を含む行の最後にセミコロンを置いて式からステートメントに変更すると、エラーが発生します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="fn main() {"></div><div data-l="    let x = plus_one(5);"></div><div data-l=""></div><div data-l="    println!(&quot;The value of x is: {}&quot;, x);"></div><div data-l=}></div><div data-l=""></div><div data-l="fn plus_one(x: i32) -&gt; i32 {"></div><div data-l="    x + 1;"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Running this code produces an error, as follows:</span>このコードを実行すると、次のようなエラーが発生します。</span> </p><br><div data-lang=text><div data-l="error[E0308]: mismatched types"></div><div data-l=" --&gt; src/main.rs:7:28"></div><div data-l="  |"></div><div data-l="7 |   fn plus_one(x: i32) -&gt; i32 {"></div><div data-l="  |  ____________________________^"></div><div data-l="8 | |     x + 1;"></div><div data-l="  | |          - help: consider removing this semicolon"></div><div data-l="9 | | }"></div><div data-l="  | |_^ expected i32, found ()"></div><div data-l="  |"></div><div data-l="  = note: expected type `i32`"></div><div data-l="             found type `()`"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The main error message, “mismatched types,” reveals the core issue with this code.</span>メインのエラーメッセージ &quot;タイプが一致しません&quot;では、このコードの中核的な問題が明らかになります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The definition of the function <code>plus_one</code> says that it will return an <code>i32</code> , but statements don&#39;t evaluate to a value, which is expressed by <code>()</code> , the empty tuple.</span>関数<code>plus_one</code>の定義では、 <code>i32</code>を返しますが、文は評価されません。この値は空のタプル<code>()</code>で表されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Therefore, nothing is returned, which contradicts the function definition and results in an error.</span>したがって、何も返されず、関数定義と矛盾し、エラーが発生します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In this output, Rust provides a message to possibly help rectify this issue: it suggests removing the semicolon, which would fix the error.</span>この出力では、Rustはこの問題を解決するためのメッセージを提供します。セミコロンを削除することが推奨されています。これによりエラーが修正されます。</span> </p><script>_addload(function(){_setupIW('com');_csi('en','ja','ch03-03-how-functions-work.html');});</script>