<!DOCTYPE html><html lang=ja-x-mtfrom-en><head><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="https://translate.googleusercontent.com/translate/releases/twsfe_w_20180709_RC00/r/js/translate_c.js"></script><script>_intlStrings._originalText = "英語の原文テキスト:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|ja";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="%1$s に %2$s により翻訳されました";_intlStrings._unknown="不明";_intlStrings._suggestTranslation="翻訳を改善する"  ;_intlStrings._submit="送信";_intlStrings._suggestThanks="Google 翻訳の改善にご協力いただきありがとうございました。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href=ch07-02-controlling-visibility-with-pub.html hreflang=en rel="alternate machine-translated-from"><base href="" target=_top /></head><body><iframe src="https://translate.google.com/translate_un?hl=ja&prev=_t&sl=en&tl=ja&lang=en&usg=ALkJrhi1BDLmdbWiRXYMNxkaJ7TdmUrvmA" width=0 height=0 frameborder=0 style="width:0px;height:0px;border:0px;display:none;"></iframe><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Controlling Visibility with <code>pub</code></span> <code>pub</code>可視性の制御</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We resolved the error messages shown in Listing 7-5 by moving the <code>network</code> and <code>network::server</code> code into the <i>src/network/mod.rs</i> and <i>src/network/server.rs</i> files, respectively.</span>リスト7-5のエラーメッセージは、 <code>network</code>および<code>network::server</code>コードを<i>src / network / mod.rs</i>ファイルと<i>src / network / server.rs</i>ファイルにそれぞれ移動して解決しました。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">At that point, <code>cargo build</code> was able to build our project, but we still get warning messages saying that the <code>client::connect</code> , <code>network::connect</code> , and <code>network::server::connect</code> functions are not being used.</span>その時点で、 <code>cargo build</code>はプロジェクトをビルドできましたが、 <code>client::connect</code> 、 <code>network::connect</code> 、および<code>network::server::connect</code>関数が使用されていないという警告メッセージが表示されます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">So why are we receiving these warnings?</span>では、なぜこれらの警告を受けているのですか？</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">After all, we&#39;re building a library with functions that are intended to be used by our <i>users</i> , not necessarily by us within our own project, so it shouldn&#39;t matter that these <code>connect</code> functions go unused.</span>結局のところ、私たちは自分のプロジェクトの中で私たちが必ずしもそうではなく、 <i>ユーザー</i>によって使用されることを意図した関数を持つライブラリを構築しているので、これらの<code>connect</code>関数は使用されなくてもかまいません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The point of creating them is that they will be used by another project, not our own.</span>それらを作成することのポイントは、自分のプロジェクトではなく別のプロジェクトで使用されることです。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To understand why this program invokes these warnings, let&#39;s try using the <code>communicator</code> library from another project, calling it externally.</span>このプログラムがなぜこれらの警告を呼び出すのかを理解するために、別のプロジェクトの<code>communicator</code>ライブラリを外部から呼び出すことを試みてみましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To do that, we&#39;ll create a binary crate in the same directory as our library crate by making a <i>src/main.rs</i> file containing this code:</span>これを行うには、このコードを含む<i>src / main.rs</i>ファイルを作成して、ライブラリクレートと同じディレクトリにバイナリクレートを作成します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/main.rs</span></span> <span class=filename>ファイル名：src / main.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="extern crate communicator;"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    communicator::client::connect();"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We use the <code>extern crate</code> command to bring the <code>communicator</code> library crate into scope.</span> <code>extern crate</code>コマンドを使用して、 <code>communicator</code>ライブラリクレートを有効範囲にします。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Our package now contains <i>two</i> crates.</span>私たちのパッケージには<i>2つの</i>箱が入っています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Cargo treats <i>src/main.rs</i> as the root file of a binary crate, which is separate from the existing library crate whose root file is <i>src/lib.rs</i> .</span> Cargoは<i>src / main.rs</i>を、ルートファイルが<i>src / lib.rs</i>である既存のライブラリクレートとは別のバイナリクレートのルートファイルとして扱います。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This pattern is quite common for executable projects: most functionality is in a library crate, and the binary crate uses that library crate.</span>このパターンは実行可能なプロジェクトでは非常に一般的です。ほとんどの機能はライブラリクレートにあり、バイナリクレートはそのライブラリクレートを使用します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As a result, other programs can also use the library crate, and it&#39;s a nice separation of concerns.</span>その結果、他のプログラムでもライブラリクレートを使用することができ、それは心配の良い分離です。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">From the point of view of a crate outside the <code>communicator</code> library looking in, all the modules we&#39;ve been creating are within a module that has the same name as the crate, <code>communicator</code> .</span>探している<code>communicator</code>ライブラリー外のクレートの観点からは、作成しているモジュールはすべて、クレート・<code>communicator</code>と同じ名前のモジュール内にあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We call the top-level module of a crate the <i>root module</i> .</span>クレートの最上位モジュールを<i>ルートモジュール</i>と呼び<i>ます</i> 。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Also note that even if we&#39;re using an external crate within a submodule of our project, the <code>extern crate</code> should go in our root module (so in <i>src/main.rs</i> or <i>src/lib.rs</i> ).</span>また、我々は我々のプロジェクトのサブモジュール内の外部クレートを使用している場合でも、ご注意<code>extern crate</code> （それほど<i>のsrc / main.rs</i>または<i>SRC / lib.rs</i>で）私たちのルートモジュールに行く必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Then, in our submodules, we can refer to items from external crates as if the items are top-level modules.</span>次に、サブモジュールでは、アイテムがトップレベルのモジュールであるかのように、外部クレートのアイテムを参照できます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Right now, our binary crate just calls our library&#39;s <code>connect</code> function from the <code>client</code> module.</span>今、私たちのバイナリ・クレートは、 <code>client</code>モジュールからライブラリの<code>connect</code>関数を呼び出すだけです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However, invoking <code>cargo build</code> will now give us an error after the warnings:</span>しかし、 <code>cargo build</code>を呼び出すと、警告の後にエラーが表示されます。</span> </p><br><div data-lang=text><div data-l="error[E0603]: module `client` is private"></div><div data-l=" --&gt; src/main.rs:4:5"></div><div data-l="  |"></div><div data-l="4 |     communicator::client::connect();"></div><div data-l="  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Ah ha!</span>ああ！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This error tells us that the <code>client</code> module is private, which is the crux of the warnings.</span>このエラーは、 <code>client</code>モジュールがプライベートであることを示しています。これは警告の要点です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It&#39;s also the first time we&#39;ve run into the concepts of <i>public</i> and <i>private</i> in the context of Rust.</span>それはまた、私たちがRustの文脈で<i>公的</i>および<i>私的</i>という概念に入ったのは初めてです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The default state of all code in Rust is private: no one else is allowed to use the code.</span> Rustのすべてのコードのデフォルト状態はプライベートです。誰もコードを使用することはできません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you don&#39;t use a private function within your program, because your program is the only code allowed to use that function, Rust will warn you that the function has gone unused.</span>プログラム内でプライベート関数を使用しない場合は、プログラムがその関数を使用できる唯一のコードであるため、Rustはその関数が使用されていないことを警告します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">After you specify that a function such as <code>client::connect</code> is public, not only will your call to that function from your binary crate be allowed, but also the warning that the function is unused will go away.</span> <code>client::connect</code>ような関数がpublicであると指定した後は、バイナリクレートからその関数への呼び出しを許可するだけでなく、その関数が使用されていないという警告が消えます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Marking a function as public lets Rust know that the function will be used by code outside of your program.</span>関数をパブリックとしてマークすると、関数がプログラム外のコードで使用されることがRustに通知されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust considers the theoretical external usage that&#39;s now possible as the function “being used.” Thus, when a function is marked public, Rust will not require that it be used in your program and will stop warning that the function is unused.</span> Rustは、関数が &quot;使用されている&quot;として現在考えられる理論上の外部使用を考慮します。したがって、関数がpublicとマークされている場合、Rustはプログラムで使用する必要はなく、関数が未使用であることの警告を停止します。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Making a Function Public</span>関数をパブリックにする</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To tell Rust to make a function public, we add the <code>pub</code> keyword to the start of the declaration.</span> Rustに関数を公開させるために、 <code>pub</code>キーワードを宣言の先頭に追加し<code>pub</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We&#39;ll focus on fixing the warning that indicates <code>client::connect</code> has gone unused for now, as well as the <code class=2>module `client` is private</code> error from our binary crate.</span>ここでは、 <code>client::connect</code>が現在使用されていないことと、 <code class=2>module `client` is private</code>たちのバイナリクレートの<code class=2>module `client` is private</code>エラーであることを示す警告を修正することに焦点を当てます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Modify <i>src/lib.rs</i> to make the <code>client</code> module public, like so:</span> <i>src / lib.rs</i>を変更して<code>client</code>モジュールをパブリックにし<code>client</code> ：</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/lib.rs</span></span> <span class=filename>ファイル名：src / lib.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="pub mod client;"></div><div data-l=""></div><div data-l="mod network;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>pub</code> keyword is placed right before <code>mod</code> .</span> <code>pub</code>キーワードは<code>mod</code>直前に置かれます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s try building again:</span>もう一度ビルドしてみましょう：</span> </p><br><div data-lang=text><div data-l="error[E0603]: function `connect` is private"></div><div data-l=" --&gt; src/main.rs:4:5"></div><div data-l="  |"></div><div data-l="4 |     communicator::client::connect();"></div><div data-l="  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Hooray!</span>やめ！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We have a different error!</span>別のエラーがあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Yes, different error messages are a cause for celebration.</span>はい、異なるエラーメッセージがお祝いの原因です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The new error shows <code class=2>function `connect` is private</code> , so let&#39;s edit <i>src/client.rs</i> to make <code>client::connect</code> public too:</span>新しいエラーは<code class=2>function `connect` is private</code>であることを示してい<code class=2>function `connect` is private</code>ので、 <i>src / client.rs</i>を編集して<code>client::connect</code> publicにしましょう：</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/client.rs</span></span> <span class=filename>ファイル名：src / client.rs</span></span> </p><br><div data-lang=rust><div data-l="pub fn connect() {"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now run <code>cargo build</code> again:</span>今度は再び<code>cargo build</code>実行してください：</span> </p><br><div data-lang=text><div data-l="warning: function is never used: `connect`"></div><div data-l=" --&gt; src/network/mod.rs:1:1"></div><div data-l="  |"></div><div data-l="1 | / fn connect() {"></div><div data-l="2 | | }"></div><div data-l="  | |_^"></div><div data-l="  |"></div><div data-l="  = note: #[warn(dead_code)] on by default"></div><div data-l=""></div><div data-l="warning: function is never used: `connect`"></div><div data-l=" --&gt; src/network/server.rs:1:1"></div><div data-l="  |"></div><div data-l="1 | / fn connect() {"></div><div data-l="2 | | }"></div><div data-l="  | |_^"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The code compiled, and the warning that <code>client::connect</code> is not being used is gone!</span>コンパイルされたコードと、 <code>client::connect</code>が使用されていないという警告は消えました！</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Unused code warnings don&#39;t always indicate that an item in your code needs to be made public: if you <i>didn&#39;t</i> want these functions to be part of your public API, unused code warnings could be alerting you to code you no longer need that you can safely delete.</span>未使用のコードの警告は、コード内の項目を公開する必要があることを必ずしも示すもので<i>はありませ</i>ん。これらの機能を公開APIの一部にしたく<i>ない</i>場合<i>は</i> 、未使用のコードの警告により、あなたは安全に削除することができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">They could also be alerting you to a bug if you had just accidentally removed all places within your library where this function is called.</span>この関数が呼び出されるライブラリ内のすべての場所を誤って削除した場合は、バグに警告することもできます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">But in this case, we <i>do</i> want the other two functions to be part of our crate&#39;s public API, so let&#39;s mark them as <code>pub</code> as well to get rid of the remaining warnings.</span>しかし、この場合、他の2つの関数をクレートの公開APIの一部に<i>し</i>たいので、残っている警告を取り除くためにそれらを<code>pub</code>としてマークしましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Modify <i>src/network/mod.rs</i> to look like the following:</span> <i>src / network / mod.rs</i>を次のように変更します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/network/mod.rs</span></span> <span class=filename>ファイル名：src / network / mod.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="pub fn connect() {"></div><div data-l=}></div><div data-l=""></div><div data-l="mod server;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Then compile the code:</span>次に、コードをコンパイルします。</span> </p><br><div data-lang=text><div data-l="warning: function is never used: `connect`"></div><div data-l=" --&gt; src/network/mod.rs:1:1"></div><div data-l="  |"></div><div data-l="1 | / pub fn connect() {"></div><div data-l="2 | | }"></div><div data-l="  | |_^"></div><div data-l="  |"></div><div data-l="  = note: #[warn(dead_code)] on by default"></div><div data-l=""></div><div data-l="warning: function is never used: `connect`"></div><div data-l=" --&gt; src/network/server.rs:1:1"></div><div data-l="  |"></div><div data-l="1 | / fn connect() {"></div><div data-l="2 | | }"></div><div data-l="  | |_^"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Hmmm, we&#39;re still getting an unused function warning, even though <code>network::connect</code> is set to <code>pub</code> .</span> <code>network::connect</code>が<code>pub</code>設定されているにもかかわらず、未使用の機能警告が表示されて<code>pub</code>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The reason is that the function is public within the module, but the <code>network</code> module that the function resides in is not public.</span>その理由は、関数がモジュール内でpublicであるが、関数が存在する<code>network</code>モジュールがpublicでないためです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We&#39;re working from the interior of the library out this time, whereas with <code>client::connect</code> we worked from the outside in. We need to change <i>src/lib.rs</i> to make <code>network</code> public too, like so:</span>今回はライブラリの内部から作業していますが、 <code>client::connect</code>では外部から作業しました<i>。src / lib.rs</i>を変更して<code>network</code>公開する必要があります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/lib.rs</span></span> <span class=filename>ファイル名：src / lib.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="pub mod client;"></div><div data-l=""></div><div data-l="pub mod network;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now when we compile, that warning is gone:</span>今コンパイルすると、その警告は消えてしまいます。</span> </p><br><div data-lang=text><div data-l="warning: function is never used: `connect`"></div><div data-l=" --&gt; src/network/server.rs:1:1"></div><div data-l="  |"></div><div data-l="1 | / fn connect() {"></div><div data-l="2 | | }"></div><div data-l="  | |_^"></div><div data-l="  |"></div><div data-l="  = note: #[warn(dead_code)] on by default"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Only one warning is left—try to fix this one on your own!</span> 1つの警告だけが残っています - あなた自身でこれを修正しよう！</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Privacy Rules</span>プライバシールール</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Overall, these are the rules for item visibility:</span>全体的に、これらはアイテムの可視性のためのルールです：</span> </p><br><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If an item is public, it can be accessed through any of its parent modules.</span>項目が公開されている場合は、その親モジュールのいずれかを介してアクセスできます。</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If an item is private, it can be accessed only by its immediate parent module and any of the parent&#39;s child modules.</span>項目がプライベートである場合、その直接の親モジュールと親の子モジュールのいずれかによってのみアクセスできます。</span> </div><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Privacy Examples</span>プライバシーの例</span> </h3><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s look at a few more privacy examples to get some practice.</span>いくつかの練習をするためにいくつかのプライバシーの例を見てみましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Create a new library project and enter the code in Listing 7-6 into your new project&#39;s <i>src/lib.rs</i> .</span>新しいライブラリプロジェクトを作成し、リスト7-6のコードを新しいプロジェクトの<i>src / lib.rsに入力し</i>ます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=filename>Filename: src/lib.rs</span></span> <span class=filename>ファイル名：src / lib.rs</span></span> </p><br><div data-lang=rust,ignore><div data-l="mod outermost {"></div><div data-l="    pub fn middle_function() {}"></div><div data-l=""></div><div data-l="    fn middle_secret_function() {}"></div><div data-l=""></div><div data-l="    mod inside {"></div><div data-l="        pub fn inner_function() {}"></div><div data-l=""></div><div data-l="        fn secret_function() {}"></div><div data-l="    }"></div><div data-l=}></div><div data-l=""></div><div data-l="fn try_me() {"></div><div data-l="    outermost::middle_function();"></div><div data-l="    outermost::middle_secret_function();"></div><div data-l="    outermost::inside::inner_function();"></div><div data-l="    outermost::inside::secret_function();"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><span class=caption>Listing 7-6: Examples of private and public functions, some of which are incorrect</span></span> <span class=caption>コードリスト7-6：private関数とpublic関数の例</span></span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Before you try to compile this code, make a guess about which lines in the <code>try_me</code> function will have errors.</span>このコードをコンパイルする前に、 <code>try_me</code>関数のどの行にエラーがあるかを推測して<code>try_me</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Then, try compiling the code to see whether you were right—and read on for the discussion of the errors!</span>次に、コードをコンパイルして、正しいかどうかを確認し、エラーについての説明を読んでください。</span> </p><br><h4> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Looking at the Errors</span>エラーを見る</span> </h4><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>try_me</code> function is in the root module of our project.</span> <code>try_me</code>関数は、プロジェクトのルートモジュールにあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The module named <code>outermost</code> is private, but the second privacy rule states that the <code>try_me</code> function is allowed to access the <code>outermost</code> module because <code>outermost</code> is in the current (root) module, as is <code>try_me</code> .</span>名前のモジュール<code>outermost</code>プライベートですが、2番目のプライバシールールは、と述べている<code>try_me</code>機能がアクセスすることを許可されている<code>outermost</code>ためのモジュールを<code>outermost</code>あるとして、現在の（ルート）モジュールである<code>try_me</code> 。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The call to <code>outermost::middle_function</code> will work because <code>middle_function</code> is public and <code>try_me</code> is accessing <code>middle_function</code> through its parent module <code>outermost</code> .</span> <code>outermost::middle_function</code>の呼び出しは、 <code>middle_function</code>がpublicで<code>try_me</code>がその親モジュールを介して<code>middle_function</code> <code>outermost</code>アクセスしている<code>middle_function</code>します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We already determined that this module is accessible.</span>すでにこのモジュールにアクセス可能であると判断しました。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The call to <code>outermost::middle_secret_function</code> will cause a compilation error.</span> <code>outermost::middle_secret_function</code>は、コンパイルエラーを引き起こします。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because <code>middle_secret_function</code> is private, the second rule applies.</span> <code>middle_secret_function</code>はプライベートなので、2番目のルールが適用されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The root module is neither the current module of <code>middle_secret_function</code> ( <code>outermost</code> is), nor is it a child module of the current module of <code>middle_secret_function</code> .</span>ルートモジュールは、 <code>middle_secret_function</code> （ <code>outermost</code> ）の現在のモジュールでも、 <code>middle_secret_function</code>現在のモジュールの子モジュールでもありません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The module named <code>inside</code> is private and has no child modules, so it can be accessed only by its current module <code>outermost</code> .</span> <code>inside</code>という名前のモジュールはプライベートであり、子モジュールを持たないため、現在のモジュールの<code>outermost</code>のモジュールだけがアクセスできます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">That means the <code>try_me</code> function is not allowed to call <code>outermost::inside::inner_function</code> or <code>outermost::inside::secret_function</code> .</span>それは意味<code>try_me</code>機能を呼び出すことが許可されていない<code>outermost::inside::inner_function</code>または<code>outermost::inside::secret_function</code> 。</span> </p><br><h4> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Fixing the Errors</span>エラーの修正</span> </h4><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here are some suggestions for changing the code in an attempt to fix the errors.</span>エラーを修正するためにコードを変更するための提案がいくつかあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Make a guess as to whether it will fix the errors before you try each one.</span>それぞれを試す前に、エラーを修正するかどうかを推測してください。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Then compile the code to see whether or not you&#39;re right, using the privacy rules to understand why.</span>次に、プライバシールールを使用して理由を理解するために、コードをコンパイルして正しいかどうかを確認します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Feel free to design more experiments and try them out!</span>もっと実験をデザインして試してみてください！</span> </p><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">What if the <code>inside</code> module were public?</span> <code>inside</code>モジュールが公開さ<code>inside</code>とどうなりますか？</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">What if <code>outermost</code> were public and <code>inside</code> were private?</span> <code>outermost</code>が公的で<code>inside</code>が非公開だったらどうなるでしょうか？</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">What if, in the body of <code>inner_function</code> , you called <code>::outermost::middle_secret_function()</code> ?</span> <code>inner_function</code>の本体で、 <code>::outermost::middle_secret_function()</code>場合はどうなりますか？</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(The two colons at the beginning mean that we want to refer to the modules starting from the root module.)</span> （最初の2つのコロンは、ルートモジュールから始まるモジュールを参照することを意味します）。</span> </div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Next, let&#39;s talk about bringing items into scope with the <code>use</code> keyword.</span>次に、 <code>use</code>キーワードを<code>use</code>て項目をスコープに持ち込む方法について説明し<code>use</code> 。</span> </p><script>_addload(function(){_setupIW('com');_csi('en','ja','ch07-02-controlling-visibility-with-pub.html');});</script>