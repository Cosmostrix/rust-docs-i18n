<!DOCTYPE html><html lang=ja-x-mtfrom-en><head><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="https://translate.googleusercontent.com/translate/releases/twsfe_w_20180709_RC00/r/js/translate_c.js"></script><script>_intlStrings._originalText = "英語の原文テキスト:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|ja";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="%1$s に %2$s により翻訳されました";_intlStrings._unknown="不明";_intlStrings._suggestTranslation="翻訳を改善する"  ;_intlStrings._submit="送信";_intlStrings._suggestThanks="Google 翻訳の改善にご協力いただきありがとうございました。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href=patterns.html hreflang=en rel="alternate machine-translated-from"><base href="" target=_top /></head><body><iframe src="https://translate.google.com/translate_un?hl=ja&prev=_t&sl=en&tl=ja&lang=en&usg=ALkJrhi1BDLmdbWiRXYMNxkaJ7TdmUrvmA" width=0 height=0 frameborder=0 style="width:0px;height:0px;border:0px;display:none;"></iframe><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Patterns</span>パターン</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Patterns are quite common in Rust.</span>パターンはRustではかなり一般的です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We use them in <a class=notranslate href=#3bindings>variable bindings</a> , <a href=#3match>match expressions</a> , and other places, too.</span> <a class=notranslate href=#3bindings>variable bindings</a> 、 <a href=#3match>マッチ式</a> 、その他の場所でもそれらを使用します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s go on a whirlwind tour of all of the things patterns can do!</span>パターンができるすべてのものの旋風のツアーに行きましょう！</span> </p><br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a class=notranslate href=#1variable-bindings.html>bindings</a> <a class=notranslate href=#1match.html>match</a></span> <a class=notranslate href=#1variable-bindings.html>bindings</a> <a class=notranslate href=#1match.html>match</a></span> <br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">A quick refresher: you can match against literals directly, and <code>_</code> acts as an &#39;any&#39; case:</span>速いリフレッシャー：リテラルと直接照合でき、 <code>_</code>は任意のケースとして機能します：</span> </p><br><div data-lang=rust><div data-l="let x = 1;"></div><div data-l=""></div><div data-l="match x {"></div><div data-l="    1 =&gt; println!(&quot;one&quot;),"></div><div data-l="    2 =&gt; println!(&quot;two&quot;),"></div><div data-l="    3 =&gt; println!(&quot;three&quot;),"></div><div data-l="    _ =&gt; println!(&quot;anything&quot;),"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This prints <code>one</code> .</span>これは<code>one</code>印刷します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It&#39;s possible to create a binding for the value in the any case:</span>いずれの場合でも、値のバインディングを作成することは可能です：</span> </p><br><div data-lang=rust><div data-l="let x = 1;"></div><div data-l=""></div><div data-l="match x {"></div><div data-l="    y =&gt; println!(&quot;x: {} y: {}&quot;, x, y),"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This prints:</span>これは印刷します：</span> </p><br><div data-lang=text><div data-l="x: 1 y: 1"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note it is an error to have both a catch-all <code>_</code> and a catch-all binding in the same match block:</span>同じマッチブロック内にcatch-all <code>_</code>バインディングとcatch-allバインディングの両方を持つことはエラーです。</span> </p><br><div data-lang=rust><div data-l="let x = 1;"></div><div data-l=""></div><div data-l="match x {"></div><div data-l="    y =&gt; println!(&quot;x: {} y: {}&quot;, x, y),"></div><div data-l="#//    _ =&gt; println!(&quot;anything&quot;), // this causes an error as it is unreachable"></div><div data-l="    _ =&gt; println!(&quot;anything&quot;), // "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">this causes an error as it is unreachable</span>これは到達不能なのでエラーを引き起こす</span> </div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">There&#39;s one pitfall with patterns: like anything that introduces a new binding, they introduce shadowing.</span>パターンには1つの落とし穴があります。新しいバインディングを導入するもののように、シャドーイングを導入します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example:</span>例えば：</span> </p><br><div data-lang=rust><div data-l="let x = 1;"></div><div data-l="let c = 'c';"></div><div data-l=""></div><div data-l="match c {"></div><div data-l="    x =&gt; println!(&quot;x: {} c: {}&quot;, x, c),"></div><div data-l=}></div><div data-l=""></div><div data-l="println!(&quot;x: {}&quot;, x)"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This prints:</span>これは印刷します：</span> </p><br><div data-lang=text><div data-l="x: c c: c"></div><div data-l="x: 1"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In other words, <code>x =&gt;</code> matches the pattern and introduces a new binding named <code>x</code> .</span>言い換えれば、 <code>x =&gt;</code>はパターンにマッチし、 <code>x</code>という名前の新しいバインディングを導入します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This new binding is in scope for the match arm and takes on the value of <code>c</code> .</span>この新しいバインディングはマッチアームの範囲にあり、 <code>c</code>の値をとり<code>c</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Notice that the value of <code>x</code> outside the scope of the match has no bearing on the value of <code>x</code> within it.</span>値ことに注意してください<code>x</code>一致の範囲外での値にはベアリングがありません<code>x</code>その中に。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because we already have a binding named <code>x</code> , this new <code>x</code> shadows it.</span>すでに<code>x</code>という名前のバインディングがあるので、この新しい<code>x</code>それをシャドウします。</span> </p><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Multiple patterns</span>複数のパターン</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can match multiple patterns with <code>|</code></span>複数のパターンを<code>|</code></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">:</span> ：</span> </p><br><div data-lang=rust><div data-l="let x = 1;"></div><div data-l=""></div><div data-l="match x {"></div><div data-l="    1 | 2 =&gt; println!(&quot;one or two&quot;),"></div><div data-l="    3 =&gt; println!(&quot;three&quot;),"></div><div data-l="    _ =&gt; println!(&quot;anything&quot;),"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This prints <code>one or two</code> .</span>これは、 <code>one or two</code>印刷します。</span> </p><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Destructuring</span>破壊</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you have a compound data type, like a <a class=notranslate href=#3struct><code>struct</code></a> , you can destructure it inside of a pattern:</span> <a class=notranslate href=#3struct><code>struct</code></a>ような複合データ型を持つ場合は、パターン内で<a class=notranslate href=#3struct><code>struct</code></a>化することができます。</span> </p><br><div data-lang=rust><div data-l="struct Point {"></div><div data-l="    x: i32,"></div><div data-l="    y: i32,"></div><div data-l=}></div><div data-l=""></div><div data-l="let origin = Point { x: 0, y: 0 };"></div><div data-l=""></div><div data-l="match origin {"></div><div data-l="    Point { x, y } =&gt; println!(&quot;({},{})&quot;, x, y),"></div><div data-l=}></div></div><br> <a class=notranslate href=#1structs.html>struct</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We can use <code>:</code> to give a value a different name.</span>我々は使用することができます<code>:</code>値に別の名前を付けるために。</span> </p><br><div data-lang=rust><div data-l="struct Point {"></div><div data-l="    x: i32,"></div><div data-l="    y: i32,"></div><div data-l=}></div><div data-l=""></div><div data-l="let origin = Point { x: 0, y: 0 };"></div><div data-l=""></div><div data-l="match origin {"></div><div data-l="    Point { x: x1, y: y1 } =&gt; println!(&quot;({},{})&quot;, x1, y1),"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If we only care about some of the values, we don&#39;t have to give them all names:</span>値の一部しか気にしない場合は、すべての名前を指定する必要はありません。</span> </p><br><div data-lang=rust><div data-l="struct Point {"></div><div data-l="    x: i32,"></div><div data-l="    y: i32,"></div><div data-l=}></div><div data-l=""></div><div data-l="let point = Point { x: 2, y: 3 };"></div><div data-l=""></div><div data-l="match point {"></div><div data-l="    Point { x, .. } =&gt; println!(&quot;x is {}&quot;, x),"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This prints <code>x is 2</code> .</span>この<code>x is 2</code>です。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can do this kind of match on any member, not only the first:</span>最初のメンバーだけでなく、どのメンバーでも次のような種類のマッチを行うことができます：</span> </p><br><div data-lang=rust><div data-l="struct Point {"></div><div data-l="    x: i32,"></div><div data-l="    y: i32,"></div><div data-l=}></div><div data-l=""></div><div data-l="let point = Point { x: 2, y: 3 };"></div><div data-l=""></div><div data-l="match point {"></div><div data-l="    Point { y, .. } =&gt; println!(&quot;y is {}&quot;, y),"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This prints <code>y is 3</code> .</span>この<code>y is 3</code>です。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This &#39;destructuring&#39; behavior works on any compound data type, like <a class=notranslate href=#3tuples>tuples</a> or <a class=notranslate href=#3enums>enums</a> .</span>この「非構造化」動作は、 <a class=notranslate href=#3tuples>tuples</a>や<a class=notranslate href=#3enums>enums</a>型などの複合データ型で機能します。</span> </p><br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a class=notranslate href=#1primitive-types.html#tuples>tuples</a> <a class=notranslate href=#1enums.html>enums</a></span> <a class=notranslate href=#1primitive-types.html#tuples>tuples</a> <a class=notranslate href=#1enums.html>enums</a></span> <br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Ignoring bindings</span>バインディングを無視する</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can use <code>_</code> in a pattern to disregard the type and value.</span>パターンで<code>_</code>を使用すると、タイプと値を無視できます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example, here&#39;s a <code>match</code> against a <code>Result&lt;T, E&gt;</code> :</span>たとえば、 <code>Result&lt;T, E&gt;</code> <code>match</code> <code>Result&lt;T, E&gt;</code> 。</span> </p><br><div data-lang=rust><div data-l="# let some_value: Result&lt;i32, &amp;'static str&gt; = Err(&quot;There was an error&quot;);"></div><div data-l="match some_value {"></div><div data-l="    Ok(value) =&gt; println!(&quot;got a value: {}&quot;, value),"></div><div data-l="    Err(_) =&gt; println!(&quot;an error occurred&quot;),"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In the first arm, we bind the value inside the <code>Ok</code> variant to <code>value</code> .</span>最初の腕では、 <code>Ok</code>バリアント内の値をvalueにバインドし<code>value</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">But in the <code>Err</code> arm, we use <code>_</code> to disregard the specific error, and print a general error message.</span>しかし、 <code>Err</code>アームで<code>_</code>を使用して特定のエラーを無視し、一般的なエラーメッセージを表示します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>_</code> is valid in any pattern that creates a binding.</span> <code>_</code>は、バインディングを作成するすべてのパターンで有効です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This can be useful to ignore parts of a larger structure:</span>これは、より大きな構造の部分を無視するのに便利です：</span> </p><br><div data-lang=rust><div data-l="fn coordinate() -&gt; (i32, i32, i32) {"></div><div data-l="#    // Generate and return some sort of triple tuple."></div><div data-l="    // "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Generate and return some sort of triple tuple.</span>生成し、何らかのトリプルタプルを返します。</span> </div><div data-l="# (1, 2, 3)"></div><div data-l=}></div><div data-l=""></div><div data-l="let (x, _, z) = coordinate();"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here, we bind the first and last element of the tuple to <code>x</code> and <code>z</code> , but ignore the middle element.</span>ここでは、タプルの最初と最後の要素を<code>x</code>と<code>z</code>にバインドしますが、中間の要素は無視します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It&#39;s worth noting that using <code>_</code> never binds the value in the first place, which means that the value does not move:</span> <code>_</code>を使用すると、最初は値がバインドされないことに注意してください。これは、値が移動しないことを意味します。</span> </p><br><div data-lang=rust><div data-l="let tuple: (u32, String) = (5, String::from(&quot;five&quot;));"></div><div data-l=""></div><div data-l="#// Here, tuple is moved, because the String moved:"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here, tuple is moved, because the String moved:</span>ここでは、文字列が移動されたため、タプルが移動されます。</span> </div><div data-l="let (x, _s) = tuple;"></div><div data-l=""></div><div data-l="#// The next line would give &quot;error: use of partially moved value: `tuple`&quot;."></div><div data-l="#// println!(&quot;Tuple is: {:?}&quot;, tuple);"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The next line would give &quot;error: use of partially moved value: <code>tuple</code> &quot;.</span>次の行は、 &quot;エラー：部分的に移動された値の使用： <code>tuple</code> &quot;となります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">println!(&quot;Tuple is: {:?}&quot;, tuple);</span> println！（ &quot;タプルは：{：？}&quot;、タプル）;</span> </div><div data-l=""></div><div data-l="#// However,"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However,</span>しかしながら、</span> </div><div data-l=""></div><div data-l="let tuple = (5, String::from(&quot;five&quot;));"></div><div data-l=""></div><div data-l="#// Here, tuple is _not_ moved, as the String was never moved, and u32 is Copy:"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here, tuple is <s>not</s> moved, as the String was never moved, and u32 is Copy:</span>ここで、タプルは移動され<s>ません。</s>文字列は決して移動されず、u32はCopy：</span> </div><div data-l="let (x, _) = tuple;"></div><div data-l=""></div><div data-l="#// That means this works:"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">That means this works:</span>これは、この作品を意味します：</span> </div><div data-l="println!(&quot;Tuple is: {:?}&quot;, tuple);"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This also means that any temporary variables will be dropped at the end of the statement:</span>これは、ステートメントの終わりに一時変数がすべて削除されることを意味します。</span> </p><br><div data-lang=rust><div data-l="#// Here, the String created will be dropped immediately, as it’s not bound:"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here, the String created will be dropped immediately, as it&#39;s not bound:</span>ここでは、作成されたStringは、バインドされていないため、すぐに削除されます。</span> </div><div data-l=""></div><div data-l="let _ = String::from(&quot;  hello  &quot;).trim();"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can also use <code>..</code> in a pattern to disregard multiple values:</span>また、複数の値を無視するパターンで<code>..</code>を使用することもでき<code>..</code></span> </p><br><div data-lang=rust><div data-l="enum OptionalTuple {"></div><div data-l="    Value(i32, i32, i32),"></div><div data-l="    Missing,"></div><div data-l=}></div><div data-l=""></div><div data-l="let x = OptionalTuple::Value(5, -2, 3);"></div><div data-l=""></div><div data-l="match x {"></div><div data-l="    OptionalTuple::Value(..) =&gt; println!(&quot;Got a tuple!&quot;),"></div><div data-l="    OptionalTuple::Missing =&gt; println!(&quot;No such luck.&quot;),"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This prints <code>Got a tuple€</code> .</span>このプリント<code>Got a tuple€</code> 。</span> </p><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">ref and ref mut</span> refとref mut</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you want to get a <a class=notranslate href=#3ref>reference</a> , use the <code>ref</code> keyword:</span> <a class=notranslate href=#3ref>reference</a>を取得するには、 <code>ref</code>キーワードを使用します。</span> </p><br><div data-lang=rust><div data-l="let x = 5;"></div><div data-l=""></div><div data-l="match x {"></div><div data-l="    ref r =&gt; println!(&quot;Got a reference to {}&quot;, r),"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This prints <code>Got a reference to 5</code> .</span>このプリント<code>Got a reference to 5</code> 。</span> </p><br> <a class=notranslate href=#1references-and-borrowing.html>ref</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here, the <code>r</code> inside the <code>match</code> has the type <code>&amp;i32</code> .</span>ここでは、 <code>match</code>内の<code>r</code>は<code>&amp;i32</code>型です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In other words, the <code>ref</code> keyword <s>creates</s> a reference, for use in the pattern.</span>言い換えると、 <code>ref</code>キーワード<s>は</s> 、パターンで使用するための参照を<s>作成</s>します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you need a mutable reference, <code>ref mut</code> will work in the same way:</span> mutable参照が必要な場合、 <code>ref mut</code>は同じように動作します：</span> </p><br><div data-lang=rust><div data-l="let mut x = 5;"></div><div data-l=""></div><div data-l="match x {"></div><div data-l="    ref mut mr =&gt; println!(&quot;Got a mutable reference to {}&quot;, mr),"></div><div data-l=}></div></div><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Ranges</span>レンジ</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can match a range of values with <code>...</code> :</span>あなたは値の範囲を<code>...</code>と一致させることができ<code>...</code> ：</span> </p><br><div data-lang=rust><div data-l="let x = 1;"></div><div data-l=""></div><div data-l="match x {"></div><div data-l="    1 ... 5 =&gt; println!(&quot;one through five&quot;),"></div><div data-l="    _ =&gt; println!(&quot;anything&quot;),"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This prints <code>one through five</code> .</span>これは<code>one through five</code>印刷します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Ranges are mostly used with integers and <code>char</code> s:</span>範囲は主に整数と<code>char</code>使用されます：</span> </p><br><div data-lang=rust><div data-l="let x = '💅';"></div><div data-l=""></div><div data-l="match x {"></div><div data-l="    'a' ... 'j' =&gt; println!(&quot;early letter&quot;),"></div><div data-l="    'k' ... 'z' =&gt; println!(&quot;late letter&quot;),"></div><div data-l="    _ =&gt; println!(&quot;something else&quot;),"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This prints <code>something else</code> .</span>これは<code>something else</code>印刷<code>something else</code> 。</span> </p><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Bindings</span>バインディング</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can bind values to names with <code>@</code> :</span>名前を<code>@</code>バインドすることができます：</span> </p><br><div data-lang=rust><div data-l="let x = 1;"></div><div data-l=""></div><div data-l="match x {"></div><div data-l="    e @ 1 ... 5 =&gt; println!(&quot;got a range element {}&quot;, e),"></div><div data-l="    _ =&gt; println!(&quot;anything&quot;),"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This prints <code>got a range element 1</code> .</span>このプリント<code>got a range element 1</code>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This is useful when you want to do a complicated match of part of a data structure:</span>これは、データ構造の一部の複雑な一致を実行する場合に便利です。</span> </p><br><div data-lang=rust><div data-l=#[derive(Debug)]></div><div data-l="struct Person {"></div><div data-l="    name: Option&lt;String&gt;,"></div><div data-l=}></div><div data-l=""></div><div data-l="let name = &quot;Steve&quot;.to_string();"></div><div data-l="let x: Option&lt;Person&gt; = Some(Person { name: Some(name) });"></div><div data-l="match x {"></div><div data-l="    Some(Person { name: ref a @ Some(_), .. }) =&gt; println!(&quot;{:?}&quot;, a),"></div><div data-l="    _ =&gt; {}"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This prints <code>Some(&quot;Steve&quot;)</code> : we&#39;ve bound the inner <code>name</code> to <code>a</code> .</span>これは<code>Some(&quot;Steve&quot;)</code>印刷<code>a</code>ます。内側の<code>name</code>を<code>a</code>バインドしまし<code>a</code> 。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you use <code>@</code> with <code>|</code></span> <code>@</code>を<code>|</code>と使用すると、</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">, you need to make sure the name is bound in each part of the pattern:</span>名前がパターンの各部分にバインドされていることを確認する必要があります。</span> </p><br><div data-lang=rust><div data-l="let x = 5;"></div><div data-l=""></div><div data-l="match x {"></div><div data-l="    e @ 1 ... 5 | e @ 8 ... 10 =&gt; println!(&quot;got a range element {}&quot;, e),"></div><div data-l="    _ =&gt; println!(&quot;anything&quot;),"></div><div data-l=}></div></div><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Guards</span>警備員</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can introduce &#39;match guards&#39; with <code>if</code> :</span>次の<code>if</code> 「マッチガード」を導入することができます：</span> </p><br><div data-lang=rust><div data-l="enum OptionalInt {"></div><div data-l="    Value(i32),"></div><div data-l="    Missing,"></div><div data-l=}></div><div data-l=""></div><div data-l="let x = OptionalInt::Value(5);"></div><div data-l=""></div><div data-l="match x {"></div><div data-l="    OptionalInt::Value(i) if i &gt; 5 =&gt; println!(&quot;Got an int bigger than five!&quot;),"></div><div data-l="    OptionalInt::Value(..) =&gt; println!(&quot;Got an int!&quot;),"></div><div data-l="    OptionalInt::Missing =&gt; println!(&quot;No such luck.&quot;),"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This prints <code>Got an int€</code> .</span>これ<code>Got an int€</code> 。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you&#39;re using <code>if</code> with multiple patterns, the <code>if</code> applies to both sides:</span>複数のパターンを持つ<code>if</code>を使用している<code>if</code> 、 <code>if</code>は両側に適用されます。</span> </p><br><div data-lang=rust><div data-l="let x = 4;"></div><div data-l="let y = false;"></div><div data-l=""></div><div data-l="match x {"></div><div data-l="    4 | 5 if y =&gt; println!(&quot;yes&quot;),"></div><div data-l="    _ =&gt; println!(&quot;no&quot;),"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This prints <code>no</code> , because the <code>if</code> applies to the whole of <code>4 | 5</code></span>これは<code>no</code> 。これは、 <code>if</code>が<code>4 | 5</code>の全体に適用されるため<code>if</code> <code>4 | 5</code></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>4 | 5</code> , and not to only the <code>5</code> .</span> <code>4 | 5</code>だけではなく、 <code>5</code>だけではない。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In other words, the precedence of <code>if</code> behaves like this:</span>つまり、 <code>if</code>の優先順位は次のようになります。</span> </p><br><div data-lang=text><div data-l="(4 | 5) if y =&gt; ..."></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">not this:</span>これではない：</span> </p><br><div data-lang=text><div data-l="4 | (5 if y) =&gt; ..."></div></div><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Mix and Match</span>ミックスアンドマッチ</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Whew!</span>すごい！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">That&#39;s a lot of different ways to match things, and they can all be mixed and matched, depending on what you&#39;re doing:</span>それは物事にマッチするさまざまな方法ですが、あなたがしていることに応じて、それらはすべて混合してマッチさせることができます：</span> </p><br><div data-lang=rust,ignore><div data-l="match x {"></div><div data-l="    Foo { x: Some(ref name), y: None } =&gt; ..."></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Patterns are very powerful.</span>パターンは非常に強力です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Make good use of them.</span>それらをうまく活用してください。</span> </p><script>_addload(function(){_setupIW('com');_csi('en','ja','patterns.html');});</script>