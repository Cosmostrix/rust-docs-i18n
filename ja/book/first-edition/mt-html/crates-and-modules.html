<!DOCTYPE html><html lang=ja-x-mtfrom-en><head><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="https://translate.googleusercontent.com/translate/releases/twsfe_w_20180709_RC00/r/js/translate_c.js"></script><script>_intlStrings._originalText = "英語の原文テキスト:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|ja";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="%1$s に %2$s により翻訳されました";_intlStrings._unknown="不明";_intlStrings._suggestTranslation="翻訳を改善する"  ;_intlStrings._submit="送信";_intlStrings._suggestThanks="Google 翻訳の改善にご協力いただきありがとうございました。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href=crates-and-modules.html hreflang=en rel="alternate machine-translated-from"><base href="" target=_top /></head><body><iframe src="https://translate.google.com/translate_un?hl=ja&prev=_t&sl=en&tl=ja&lang=en&usg=ALkJrhi1BDLmdbWiRXYMNxkaJ7TdmUrvmA" width=0 height=0 frameborder=0 style="width:0px;height:0px;border:0px;display:none;"></iframe><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Crates and Modules</span>クレートとモジュール</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When a project starts getting large, it&#39;s considered good software engineering practice to split it up into a bunch of smaller pieces, and then fit them together.</span>プロジェクトが大規模になるにつれて、ソフトウェア工学の慣習として、小さな断片に分割し、それらを合わせることが考えられます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It is also important to have a well-defined interface, so that some of your functionality is private, and some is public.</span>また、一部の機能がプライベートで、一部が公開されるように、明確なインタフェースを持つことも重要です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To facilitate these kinds of things, Rust has a module system.</span>このようなことを容易にするために、Rustにはモジュールシステムがあります。</span> </p><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Basic terminology: Crates and Modules</span>基本的な用語：箱とモジュール</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust has two distinct terms that relate to the module system: &#39;crate&#39; and &#39;module&#39;.</span> Rustにはモジュールシステムに関連する2つの異なる用語があります： &#39;crate&#39;と &#39;module&#39;。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">A crate is synonymous with a &#39;library&#39; or &#39;package&#39; in other languages.</span>箱は、他の言語の &#39;ライブラリ&#39;または &#39;パッケージ&#39;と同義です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Hence “Cargo” as the name of Rust&#39;s package management tool: you ship your crates to others with Cargo.</span>したがって、Rustのパッケージ管理ツールの名前として「Cargo」：貨物を使ってあなたの箱を他の人に発送します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Crates can produce an executable or a library, depending on the project.</span>クレートは、プロジェクトに応じて実行可能ファイルまたはライブラリを生成することができます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Each crate has an implicit <i>root module</i> that contains the code for that crate.</span>各クレートには、そのクレートのコードを含む暗黙<i>ルートモジュール</i>があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can then define a tree of sub-modules under that root module.</span>そのルートモジュールの下にサブモジュールのツリーを定義することができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Modules allow you to partition your code within the crate itself.</span>モジュールを使用すると、クレート自体の中にコードを分割することができます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As an example, let&#39;s make a <i>phrases</i> crate, which will give us various phrases in different languages.</span>例として、 <i>フレーズ</i>クレートを作ってみましょう。これは、さまざまな言語でさまざまなフレーズを提供します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To keep things simple, we&#39;ll stick to &#39;greetings&#39; and &#39;farewells&#39; as two kinds of phrases, and use English and Japanese (日本語) as two languages for those phrases to be in. We&#39;ll use this module layout:</span>シンプルなものにするために、2つのフレーズとして「greetings」と「farewells」に固執し、それらのフレーズの2つの言語として英語と日本語（日本語）を使用します。このモジュールレイアウトを使用します：</span> </p><br><div data-lang=text><div data-l="                                    +-----------+"></div><div data-l="                                +---| greetings |"></div><div data-l="                  +---------+   |   +-----------+"></div><div data-l="              +---| english |---+"></div><div data-l="              |   +---------+   |   +-----------+"></div><div data-l="              |                 +---| farewells |"></div><div data-l="+---------+   |                     +-----------+"></div><div data-l="| phrases |---+"></div><div data-l="+---------+   |                     +-----------+"></div><div data-l="              |                 +---| greetings |"></div><div data-l="              |   +----------+  |   +-----------+"></div><div data-l="              +---| japanese |--+"></div><div data-l="                  +----------+  |   +-----------+"></div><div data-l="                                +---| farewells |"></div><div data-l="                                    +-----------+"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In this example, <code>phrases</code> is the name of our crate.</span>この例では、 <code>phrases</code>はクレートの名前です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">All of the rest are modules.</span>残りはすべてモジュールです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can see that they form a tree, branching out from the crate <i>root</i> , which is the root of the tree: <code>phrases</code> itself.</span> <i>木の根</i>であるクレートの<i>根</i>から分岐した木が形成されていることがわかります。 <code>phrases</code>自体です。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now that we have a plan, let&#39;s define these modules in code.</span>ここで計画を立てたので、これらのモジュールをコードで定義しましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To start, generate a new crate with Cargo:</span>まず、Cargoで新しいクレートを生成します。</span> </p><br><div data-lang=bash><div data-l="$ cargo new phrases"></div><div data-l="$ cd phrases"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If you remember, this generates a simple project for us:</span>あなたが覚えている場合、これは私たちのための簡単なプロジェクトを生成します：</span> </p><br><div data-lang=bash><div data-l="$ tree ."></div><div data-l=.></div><div data-l="├── Cargo.toml"></div><div data-l="└── src"></div><div data-l="    └── lib.rs"></div><div data-l=""></div><div data-l="1 directory, 2 files"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>src/lib.rs</code> is our crate root, corresponding to the <code>phrases</code> in our diagram above.</span> <code>src/lib.rs</code>は、上の図の<code>phrases</code>に対応するクレートルートです。</span> </p><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Defining Modules</span>モジュールの定義</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To define each of our modules, we use the <code>mod</code> keyword.</span>それぞれのモジュールを定義するために、 <code>mod</code>キーワードを使用します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s make our <code>src/lib.rs</code> look like this:</span> <code>src/lib.rs</code>を次のように見てみましょう：</span> </p><br><div data-lang=rust><div data-l="mod english {"></div><div data-l="    mod greetings {"></div><div data-l="    }"></div><div data-l=""></div><div data-l="    mod farewells {"></div><div data-l="    }"></div><div data-l=}></div><div data-l=""></div><div data-l="mod japanese {"></div><div data-l="    mod greetings {"></div><div data-l="    }"></div><div data-l=""></div><div data-l="    mod farewells {"></div><div data-l="    }"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">After the <code>mod</code> keyword, you give the name of the module.</span> <code>mod</code>キーワードの後に​​、モジュールの名前を指定します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Module names follow the conventions for other Rust identifiers: <code>lower_snake_case</code> .</span>モジュール名は、他の錆識別子の規則に従います： <code>lower_snake_case</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The contents of each module are within curly braces ( <code>{}</code> ).</span>各モジュールの内容は中括弧（ <code>{}</code> ）で囲まれています。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Within a given <code>mod</code> , you can declare sub- <code>mod</code> s.</span>与えられた内<code>mod</code> 、あなたはサブ宣言でき<code>mod</code>秒。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We can refer to sub-modules with double-colon ( <code>::</code> ) notation: our four nested modules are <code>english::greetings</code> , <code>english::farewells</code> , <code>japanese::greetings</code> , and <code>japanese::farewells</code> .</span>私たちはサブコモンをダブルコロン（ <code>::</code> :）表記と呼ぶことができます。ネストされた4つのモジュールは、 <code>english::greetings</code> 、 <code>english::farewells</code> 、 <code>japanese::greetings</code> 、 <code>japanese::farewells</code>です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because these sub-modules are namespaced under their parent module, the names don&#39;t conflict: <code>english::greetings</code> and <code>japanese::greetings</code> are distinct, even though their names are both <code>greetings</code> .</span>これらのサブモジュールは親モジュールの下で名前空間になっているので、名前は矛盾しません<code>english::greetings</code>と<code>japanese::greetings</code>は、名前が両方とも<code>greetings</code>であっても区別されます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because this crate does not have a <code>main()</code> function, and is called <code>lib.rs</code> , Cargo will build this crate as a library:</span>このクレートには<code>main()</code>関数がなく、 <code>lib.rs</code>と呼ばれる<code>lib.rs</code> 、Cargoはこのクレートをライブラリとして構築します。</span> </p><br><div data-lang=bash><div data-l="$ cargo build"></div><div data-l="   Compiling phrases v0.0.1 (file:///home/you/projects/phrases)"></div><div data-l="$ ls target/debug"></div><div data-l="build  deps  examples  libphrases-a7448e02a0468eaa.rlib  native"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>libphrases-&lt;hash&gt;.rlib</code> is the compiled crate.</span> <code>libphrases-&lt;hash&gt;.rlib</code>はコンパイル済みのクレートです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Before we see how to use this crate from another crate, let&#39;s break it up into multiple files.</span>別の箱からこの箱を使用する方法を見る前に、それを複数のファイルに分割してみましょう。</span> </p><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Multiple File Crates</span>複数のファイルの箱</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If each crate were just one file, these files would get very large.</span>各クレートが1つのファイルだった場合、これらのファイルは非常に大きくなります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It&#39;s often easier to split up crates into multiple files, and Rust supports this in two ways.</span>多くの場合、クレートを複数のファイルに分割する方が簡単です.Rustはこれを2つの方法でサポートしています。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Instead of declaring a module like this:</span>このようなモジュールを宣言するのではなく、</span> </p><br><div data-lang=rust,ignore><div data-l="mod english {"></div><div data-l="#    // Contents of our module go here."></div><div data-l="    // "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Contents of our module go here.</span>モジュールの内容はここにあります。</span> </div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We can instead declare our module like this:</span>代わりに次のようにモジュールを宣言することができます：</span> </p><br><div data-lang=rust,ignore><div data-l="mod english;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If we do that, Rust will expect to find either a <code>english.rs</code> file, or a <code>english/mod.rs</code> file with the contents of our module.</span>これを行うと、Rustは<code>english.rs</code>ファイルか<code>english/mod.rs</code>ファイルをモジュールの内容と一緒に見つけることになります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that in these files, you don&#39;t need to re-declare the module: that&#39;s already been done with the initial <code>mod</code> declaration.</span>これらのファイルでは、モジュールを再宣言する必要はないことに注意してください。これはすでに初期<code>mod</code>宣言で行われています。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Using these two techniques, we can break up our crate into two directories and seven files:</span>これらの2つの手法を使用して、2つのディレクトリと7つのファイルに分割することができます。</span> </p><br><div data-lang=bash><div data-l="$ tree ."></div><div data-l=.></div><div data-l="├── Cargo.lock"></div><div data-l="├── Cargo.toml"></div><div data-l="├── src"></div><div data-l="│   ├── english"></div><div data-l="│   │   ├── farewells.rs"></div><div data-l="│   │   ├── greetings.rs"></div><div data-l="│   │   └── mod.rs"></div><div data-l="│   ├── japanese"></div><div data-l="│   │   ├── farewells.rs"></div><div data-l="│   │   ├── greetings.rs"></div><div data-l="│   │   └── mod.rs"></div><div data-l="│   └── lib.rs"></div><div data-l="└── target"></div><div data-l="    └── debug"></div><div data-l="        ├── build"></div><div data-l="        ├── deps"></div><div data-l="        ├── examples"></div><div data-l="        ├── libphrases-a7448e02a0468eaa.rlib"></div><div data-l="        └── native"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>src/lib.rs</code> is our crate root, and looks like this:</span> <code>src/lib.rs</code>は<code>src/lib.rs</code>ルートで、次のようになります。</span> </p><br><div data-lang=rust,ignore><div data-l="mod english;"></div><div data-l="mod japanese;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">These two declarations tell Rust to look for</span>これら2つの宣言はRustに</span> </p><br><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">either <code>src/english.rs</code> or <code>src/english/mod.rs</code> , and</span> <code>src/english.rs</code>または<code>src/english/mod.rs</code>いずれか</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">either <code>src/japanese.rs</code> or <code>src/japanese/mod.rs</code> ,</span> <code>src/japanese.rs</code>または<code>src/japanese/mod.rs</code>いずれか、</span> </div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">depending on our preference.</span>私たちの好みに応じて。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In this case, because our modules have sub-modules, we&#39;ve chosen the <code>mod.rs</code> approach.</span>この場合、モジュールにサブモジュールがあるため、 <code>mod.rs</code>アプローチを選択し<code>mod.rs</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Both <code>src/english/mod.rs</code> and <code>src/japanese/mod.rs</code> look like this:</span> <code>src/english/mod.rs</code>と<code>src/japanese/mod.rs</code>は次のようになります。</span> </p><br><div data-lang=rust,ignore><div data-l="mod greetings;"></div><div data-l="mod farewells;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Again, these declarations tell Rust to look for</span>ここでも、これらの宣言はRustに</span> </p><br><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>src/english/greetings.rs</code> or <code>src/english/greetings/mod.rs</code> ,</span> <code>src/english/greetings.rs</code>または<code>src/english/greetings/mod.rs</code> 、</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>src/english/farewells.rs</code> or <code>src/english/farewells/mod.rs</code> ,</span> <code>src/english/farewells.rs</code>または<code>src/english/farewells/mod.rs</code> 、</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>src/japanese/greetings.rs</code> or <code>src/japanese/greetings/mod.rs</code> ,</span> <code>src/japanese/greetings.rs</code>または<code>src/japanese/greetings/mod.rs</code> 、</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">and <code>src/japanese/farewells.rs</code> or <code>src/japanese/farewells/mod.rs</code> .</span> <code>src/japanese/farewells.rs</code>または<code>src/japanese/farewells/mod.rs</code>ます。</span> </div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because these sub-modules don&#39;t have their own sub-modules, we&#39;ve chosen to make them <code>src/english/greetings.rs</code> , <code>src/english/farewells.rs</code> , <code>src/japanese/greetings.rs</code> and <code>src/japanese/farewells.rs</code> .</span>これらのサブモジュールには独自のサブモジュールがないため、 <code>src/english/greetings.rs</code> 、 <code>src/english/farewells.rs</code> 、 <code>src/japanese/greetings.rs</code> 、 <code>src/japanese/farewells.rs</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Whew!</span>すごい！</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The contents of <code>src/english/greetings.rs</code> , <code>src/english/farewells.rs</code> , <code>src/japanese/greetings.rs</code> and <code>src/japanese/farewells.rs</code> are all empty at the moment.</span>現在<code>src/english/greetings.rs</code> 、 <code>src/english/farewells.rs</code> 、 <code>src/japanese/greetings.rs</code> 、 <code>src/japanese/farewells.rs</code>はすべて空です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s add some functions.</span>いくつかの関数を追加しましょう。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Put this in <code>src/english/greetings.rs</code> :</span>これを<code>src/english/greetings.rs</code>入れてください：</span> </p><br><div data-lang=rust><div data-l="fn hello() -&gt; String {"></div><div data-l="    &quot;Hello!&quot;.to_string()"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Put this in <code>src/english/farewells.rs</code> :</span>これを<code>src/english/farewells.rs</code>入れてください：</span> </p><br><div data-lang=rust><div data-l="fn goodbye() -&gt; String {"></div><div data-l="    &quot;Goodbye.&quot;.to_string()"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Put this in <code>src/japanese/greetings.rs</code> :</span>これを<code>src/japanese/greetings.rs</code>入れてください：</span> </p><br><div data-lang=rust><div data-l="fn hello() -&gt; String {"></div><div data-l="    &quot;こんにちは&quot;.to_string()"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Of course, you can copy and paste this from this web page, or type something else.</span>もちろん、このWebページからこれをコピーして貼り付けることができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It&#39;s not important that you actually put &#39;konnichiwa&#39; to learn about the module system.</span>モジュールシステムについて学ぶために実際に「こんにちは」を置くことは重要ではありません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Put this in <code>src/japanese/farewells.rs</code> :</span>これを<code>src/japanese/farewells.rs</code>入れてください：</span> </p><br><div data-lang=rust><div data-l="fn goodbye() -&gt; String {"></div><div data-l="    &quot;さようなら&quot;.to_string()"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(This is &#39;Sayōnara&#39;, if you&#39;re curious.)</span> （これはあなたが好奇心が強いならば、「さよなら」です。）</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now that we have some functionality in our crate, let&#39;s try to use it from another crate.</span>さて、私たちの箱にいくつかの機能がありましたので、別の箱からそれを使ってみましょう。</span> </p><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Importing External Crates</span>外部クレートのインポート</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We have a library crate.</span>私たちには図書室があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s make an executable crate that imports and uses our library.</span>私たちのライブラリをインポートして使用する実行可能なクレートを作りましょう。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Make a <code>src/main.rs</code> and put this in it (it won&#39;t quite compile yet):</span> <code>src/main.rs</code>を作り、これを入れてください（これはまだコンパイルされません）：</span> </p><br><div data-lang=rust,ignore><div data-l="extern crate phrases;"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    println!(&quot;Hello in English: {}&quot;, phrases::english::greetings::hello());"></div><div data-l="    println!(&quot;Goodbye in English: {}&quot;, phrases::english::farewells::goodbye());"></div><div data-l=""></div><div data-l="    println!(&quot;Hello in Japanese: {}&quot;, phrases::japanese::greetings::hello());"></div><div data-l="    println!(&quot;Goodbye in Japanese: {}&quot;, phrases::japanese::farewells::goodbye());"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>extern crate</code> declaration tells Rust that we need to compile and link to the <code>phrases</code> crate.</span> <code>extern crate</code>宣言は、Rustにコンパイルして<code>phrases</code>クレートにリンクする必要があることを伝えます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We can then use <code>phrases</code> &#39; modules in this one.</span>この場合、 <code>phrases</code>のモジュールを使用できます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As we mentioned earlier, you can use double colons to refer to sub-modules and the functions inside of them.</span>前述のように、二重コロンを使用してサブモジュールとその内部の関数を参照することができます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(Note: when importing a crate that has dashes in its name &quot;like-this&quot;, which is not a valid Rust identifier, it will be converted by changing the dashes to underscores, so you would write <code>extern crate like_this;</code> .)</span> （注：有効なRust識別子ではない &quot;like-this&quot;という名前にダッシュを含むクレートをインポートする場合は、ダッシュを下線に変更して変換されますので、 <code>extern crate like_this;</code>と書いてください）</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Also, Cargo assumes that <code>src/main.rs</code> is the crate root of a binary crate, rather than a library crate.</span>また、Cargoは、 <code>src/main.rs</code>がライブラリクレートではなく、バイナリクレートのクレートルートであることを前提としています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Our package now has two crates: <code>src/lib.rs</code> and <code>src/main.rs</code> .</span>私たちのパッケージには<code>src/lib.rs</code>と<code>src/main.rs</code> 2つの<code>src/main.rs</code>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This pattern is quite common for executable crates: most functionality is in a library crate, and the executable crate uses that library.</span>このパターンは、実行可能なクレートではよく使用されます。ほとんどの機能はライブラリクレートにあり、実行可能なクレートはそのライブラリを使用します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This way, other programs can also use the library crate, and it&#39;s also a nice separation of concerns.</span>このようにして、他のプログラムもライブラリクレートを使用することができます。また、それは心配の良い分離です。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This doesn&#39;t quite work yet, though.</span>しかしこれはまだうまくいかない。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We get four errors that look similar to this:</span>これに似た4つのエラーが発生します。</span> </p><br><div data-lang=bash><div data-l="$ cargo build"></div><div data-l="   Compiling phrases v0.0.1 (file:///home/you/projects/phrases)"></div><div data-l="src/main.rs:4:38: 4:72 error: function `hello` is private"></div><div data-l="src/main.rs:4     println!(&quot;Hello in English: {}&quot;, phrases::english::greetings::hello());"></div><div data-l="                                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"></div><div data-l="note: in expansion of format_args!"></div><div data-l="&lt;std macros&gt;:2:25: 2:58 note: expansion site"></div><div data-l="&lt;std macros&gt;:1:1: 2:62 note: in expansion of print!"></div><div data-l="&lt;std macros&gt;:3:1: 3:54 note: expansion site"></div><div data-l="&lt;std macros&gt;:1:1: 3:58 note: in expansion of println!"></div><div data-l="phrases/src/main.rs:4:5: 4:76 note: expansion site"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">By default, everything is private in Rust.</span>デフォルトでは、すべてがRustのプライベートです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s talk about this in some more depth.</span>これについてもう少し詳しく話しましょう。</span> </p><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Exporting a Public Interface</span>パブリックインターフェイスのエクスポート</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust allows you to precisely control which aspects of your interface are public, and so private is the default.</span> Rustでは、インターフェイスのどの部分が公開されているかを正確に制御できるため、デフォルトはプライベートです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">To make things public, you use the <code>pub</code> keyword.</span>物事を公開するには、 <code>pub</code>キーワードを使用し<code>pub</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s focus on the <code>english</code> module first, so let&#39;s reduce our <code>src/main.rs</code> to only this:</span>最初に<code>english</code>モジュールに焦点を当てましょう<code>src/main.rs</code>をこれだけに減らしましょう：</span> </p><br><div data-lang=rust,ignore><div data-l="extern crate phrases;"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    println!(&quot;Hello in English: {}&quot;, phrases::english::greetings::hello());"></div><div data-l="    println!(&quot;Goodbye in English: {}&quot;, phrases::english::farewells::goodbye());"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In our <code>src/lib.rs</code> , let&#39;s add <code>pub</code> to the <code>english</code> module declaration:</span> <code>src/lib.rs</code>では、 <code>pub</code>を<code>english</code>モジュール宣言に追加しましょう：</span> </p><br><div data-lang=rust,ignore><div data-l="pub mod english;"></div><div data-l="mod japanese;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">And in our <code>src/english/mod.rs</code> , let&#39;s make both <code>pub</code> :</span> <code>src/english/mod.rs</code>では、両方の<code>pub</code>作成しましょう：</span> </p><br><div data-lang=rust,ignore><div data-l="pub mod greetings;"></div><div data-l="pub mod farewells;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In our <code>src/english/greetings.rs</code> , let&#39;s add <code>pub</code> to our <code>fn</code> declaration:</span>私たちの<code>src/english/greetings.rs</code>では、 <code>pub</code>を<code>fn</code>宣言に追加しましょう：</span> </p><br><div data-lang=rust,ignore><div data-l="pub fn hello() -&gt; String {"></div><div data-l="    &quot;Hello!&quot;.to_string()"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">And also in <code>src/english/farewells.rs</code> :</span>また、 <code>src/english/farewells.rs</code> ：</span> </p><br><div data-lang=rust,ignore><div data-l="pub fn goodbye() -&gt; String {"></div><div data-l="    &quot;Goodbye.&quot;.to_string()"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now, our crate compiles, albeit with warnings about not using the <code>japanese</code> functions:</span>さて、私たちの箱はコンパイルされますが、 <code>japanese</code>機能を使用しないことについての警告があります：</span> </p><br><div data-lang=bash><div data-l="$ cargo run"></div><div data-l="   Compiling phrases v0.0.1 (file:///home/you/projects/phrases)"></div><div data-l="src/japanese/greetings.rs:1:1: 3:2 warning: function is never used: `hello`, #[warn(dead_code)] on by default"></div><div data-l="src/japanese/greetings.rs:1 fn hello() -&gt; String {"></div><div data-l="src/japanese/greetings.rs:2     &quot;こんにちは&quot;.to_string()"></div><div data-l="src/japanese/greetings.rs:3 }"></div><div data-l="src/japanese/farewells.rs:1:1: 3:2 warning: function is never used: `goodbye`, #[warn(dead_code)] on by default"></div><div data-l="src/japanese/farewells.rs:1 fn goodbye() -&gt; String {"></div><div data-l="src/japanese/farewells.rs:2     &quot;さようなら&quot;.to_string()"></div><div data-l="src/japanese/farewells.rs:3 }"></div><div data-l="     Running `target/debug/phrases`"></div><div data-l="Hello in English: Hello!"></div><div data-l="Goodbye in English: Goodbye."></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>pub</code> also applies to <code>struct</code> s and their member fields.</span> <code>pub</code>は、 <code>struct</code>とそのメンバーフィールドにも適用されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In keeping with Rust&#39;s tendency toward safety, simply making a <code>struct</code> public won&#39;t automatically make its members public: you must mark the fields individually with <code>pub</code> .</span> Rustの安全への傾向に合わせて、 <code>struct</code>パブリックにするだけで自動的にメンバをパブリックにすることはありません。フィールドを<code>pub</code>個別にマークする必要があります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Now that our functions are public, we can use them.</span>私たちの機能が公開されたので、それらを使用することができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Great!</span>すばらしいです！</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However, typing out <code>phrases::english::greetings::hello()</code> is very long and repetitive.</span>しかし、 <code>phrases::english::greetings::hello()</code>は非常に長く、繰り返します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust has another keyword for importing names into the current scope, so that you can refer to them with shorter names.</span> Rustには、現在のスコープに名前をインポートするための別のキーワードがあります。これにより、短い名前で参照することができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s talk about <code>use</code> .</span> <code>use</code>について話しましょう。</span> </p><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Importing Modules with <code>use</code></span> <code>use</code>モジュールをインポート<code>use</code></span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust has a <code>use</code> keyword, which allows us to import names into our local scope.</span> Rustには<code>use</code>キーワードがあり、ローカルスコープに名前をインポートできます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s change our <code>src/main.rs</code> to look like this:</span> <code>src/main.rs</code>を次のように変更しましょう：</span> </p><br><div data-lang=rust,ignore><div data-l="extern crate phrases;"></div><div data-l=""></div><div data-l="use phrases::english::greetings;"></div><div data-l="use phrases::english::farewells;"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    println!(&quot;Hello in English: {}&quot;, greetings::hello());"></div><div data-l="    println!(&quot;Goodbye in English: {}&quot;, farewells::goodbye());"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The two <code>use</code> lines import each module into the local scope, so we can refer to the functions by a much shorter name.</span> 2つの<code>use</code>行は各モジュールをローカルスコープにインポートするので、関数をより短い名前で参照することができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">By convention, when importing functions, it&#39;s considered best practice to import the module, rather than the function directly.</span>慣習では、関数をインポートするときは、関数ではなくモジュールを直接インポートすることをお勧めします。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In other words, you <s>can</s> do this:</span>つまり、これ<s>を</s>行うこと<s>ができ</s>ます：</span> </p><br><div data-lang=rust,ignore><div data-l="extern crate phrases;"></div><div data-l=""></div><div data-l="use phrases::english::greetings::hello;"></div><div data-l="use phrases::english::farewells::goodbye;"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    println!(&quot;Hello in English: {}&quot;, hello());"></div><div data-l="    println!(&quot;Goodbye in English: {}&quot;, goodbye());"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">But it is not idiomatic.</span>しかし、それは慣用的ではありません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This is significantly more likely to introduce a naming conflict.</span>これは、命名の競合を引き起こす可能性がより高くなります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In our short program, it&#39;s not a big deal, but as it grows, it becomes a problem.</span>短期プログラムでは大きな問題ではありませんが、成長するにつれて問題になります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If we have conflicting names, Rust will give a compilation error.</span>競合する名前がある場合、Rustはコンパイルエラーを返します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example, if we made the <code>japanese</code> functions public, and tried to do this:</span>たとえば、 <code>japanese</code>関数を公開して、これを実行しようとしたとします。</span> </p><br><div data-lang=rust,ignore><div data-l="extern crate phrases;"></div><div data-l=""></div><div data-l="use phrases::english::greetings::hello;"></div><div data-l="use phrases::japanese::greetings::hello;"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    println!(&quot;Hello in English: {}&quot;, hello());"></div><div data-l="    println!(&quot;Hello in Japanese: {}&quot;, hello());"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust will give us a compile-time error:</span>錆は私たちにコンパイル時のエラーを与えます：</span> </p><br><div data-lang=text><div data-l="   Compiling phrases v0.0.1 (file:///home/you/projects/phrases)"></div><div data-l="src/main.rs:4:5: 4:40 error: a value named `hello` has already been imported in this module [E0252]"></div><div data-l="src/main.rs:4 use phrases::japanese::greetings::hello;"></div><div data-l="                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"></div><div data-l="error: aborting due to previous error"></div><div data-l="Could not compile `phrases`."></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If we&#39;re importing multiple names from the same module, we don&#39;t have to type it out twice.</span>同じモジュールから複数の名前をインポートする場合、2回タイプする必要はありません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Instead of this:</span>これの代わりに：</span> </p><br><div data-lang=rust,ignore><div data-l="use phrases::english::greetings;"></div><div data-l="use phrases::english::farewells;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We can use this shortcut:</span>このショートカットを使用することができます：</span> </p><br><div data-lang=rust,ignore><div data-l="use phrases::english::{greetings, farewells};"></div></div><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Re-exporting with <code>pub use</code></span> <code>pub use</code>による再輸出</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You don&#39;t only use <code>use</code> to shorten identifiers.</span>あなたは識別子を短縮するためにuseを<code>use</code>するだけではありません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can also use it inside of your crate to re-export a function inside another module.</span>あなたの箱の中でそれを使って、別のモジュールの中にある関数を再エクスポートすることもできます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This allows you to present an external interface that may not directly map to your internal code organization.</span>これにより、内部コード構成に直接マッピングされない可能性のある外部インターフェイスを提示することができます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Let&#39;s look at an example.</span>例を見てみましょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Modify your <code>src/main.rs</code> to read like this:</span> <code>src/main.rs</code>を次のように変更します：</span> </p><br><div data-lang=rust,ignore><div data-l="extern crate phrases;"></div><div data-l=""></div><div data-l="use phrases::english::{greetings,farewells};"></div><div data-l="use phrases::japanese;"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    println!(&quot;Hello in English: {}&quot;, greetings::hello());"></div><div data-l="    println!(&quot;Goodbye in English: {}&quot;, farewells::goodbye());"></div><div data-l=""></div><div data-l="    println!(&quot;Hello in Japanese: {}&quot;, japanese::hello());"></div><div data-l="    println!(&quot;Goodbye in Japanese: {}&quot;, japanese::goodbye());"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Then, modify your <code>src/lib.rs</code> to make the <code>japanese</code> mod public:</span>次に<code>src/lib.rs</code>を変更して<code>japanese</code> modをpublicにします：</span> </p><br><div data-lang=rust,ignore><div data-l="pub mod english;"></div><div data-l="pub mod japanese;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Next, make the two functions public, first in <code>src/japanese/greetings.rs</code> :</span>次に、 <code>src/japanese/greetings.rs</code>の2つの関数をpublicにします。</span> </p><br><div data-lang=rust,ignore><div data-l="pub fn hello() -&gt; String {"></div><div data-l="    &quot;こんにちは&quot;.to_string()"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">And then in <code>src/japanese/farewells.rs</code> :</span>そして<code>src/japanese/farewells.rs</code> ：</span> </p><br><div data-lang=rust,ignore><div data-l="pub fn goodbye() -&gt; String {"></div><div data-l="    &quot;さようなら&quot;.to_string()"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Finally, modify your <code>src/japanese/mod.rs</code> to read like this:</span>最後に、 <code>src/japanese/mod.rs</code>を次のように変更します。</span> </p><br><div data-lang=rust,ignore><div data-l="pub use self::greetings::hello;"></div><div data-l="pub use self::farewells::goodbye;"></div><div data-l=""></div><div data-l="mod greetings;"></div><div data-l="mod farewells;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>pub use</code> declaration brings the function into scope at this part of our module hierarchy.</span> <code>pub use</code>宣言は、モジュール階層のこの部分で関数をスコープに入れます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because we&#39;ve <code>pub use</code> d this inside of our <code>japanese</code> module, we now have a <code>phrases::japanese::hello()</code> function and a <code>phrases::japanese::goodbye()</code> function, even though the code for them lives in <code>phrases::japanese::greetings::hello()</code> and <code>phrases::japanese::farewells::goodbye()</code> .</span>私たちがきたので<code>pub use</code> D私達のこの内部<code>japanese</code>モジュールを、我々は今持っている<code>phrases::japanese::hello()</code>関数と<code>phrases::japanese::goodbye()</code>それらのコードはに住んでいるにもかかわらず、機能を<code>phrases::japanese::greetings::hello()</code>と<code>phrases::japanese::farewells::goodbye()</code></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Our internal organization doesn&#39;t define our external interface.</span>私たちの社内組織は外部インターフェースを定義していません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here we have a <code>pub use</code> for each function we want to bring into the <code>japanese</code> scope.</span>ここでは、私たちが<code>japanese</code>範囲に持っていきたい機能ごとに<code>pub use</code>しています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">We could alternatively use the wildcard syntax to include everything from <code>greetings</code> into the current scope: <code>pub use self::greetings::*</code> .</span>代わりに、ワイルドカード構文を使用して、 <code>greetings</code>から現在のスコープにすべてを含めることができます： <code>pub use self::greetings::*</code> 。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">What about the <code>self</code> ?</span> <code>self</code>についてはどうですか？</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Well, by default, <code>use</code> declarations are absolute paths, starting from your crate root.</span>さて、デフォルトでは、 <code>use</code>宣言はあなたのクレートルートから始まる絶対パスです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>self</code> makes that path relative to your current place in the hierarchy instead.</span> <code>self</code>はそのパスを階層内のあなたの現在の場所に相対的にします。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">There&#39;s one more special form of <code>use</code> : you can <code>use super::</code> to reach one level up the tree from your current location.</span>もっと特殊な<code>use</code>あり<code>use</code> ： <code>use super::</code>を<code>use super::</code>して、現在の場所からツリーの1つ上のレベルに到達<code>use super::</code>ことができ<code>use super::</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Some people like to think of <code>self</code> as <code>.</code></span>何人かの人は<code>self</code>ことと思うのが好き<code>.</code></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">and <code>super</code> as <code>..</code> , from many shells&#39; display for the current directory and the parent directory.</span>そして<code>super</code>など<code>..</code> 、現在のディレクトリと親ディレクトリのための多くのシェルの表示から。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Outside of <code>use</code> , paths are relative: <code>foo::bar()</code> refers to a function inside of <code>foo</code> relative to where we are.</span> <code>use</code>外で<code>use</code> 、パスは相対パスです<code>foo::bar()</code>は、 <code>foo</code>内部の関数を参照しています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If that&#39;s prefixed with <code>::</code> , as in <code>::foo::bar()</code> , it refers to a different <code>foo</code> , an absolute path from your crate root.</span>これに<code>::</code> 、 <code>::foo::bar()</code>のように接頭辞が付いている場合は、別の<code>foo</code>参照します。これは、あなたのクレートルートからの絶対パスです。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This will build and run:</span>これが構築され実行されます：</span> </p><br><div data-lang=bash><div data-l="$ cargo run"></div><div data-l="   Compiling phrases v0.0.1 (file:///home/you/projects/phrases)"></div><div data-l="     Running `target/debug/phrases`"></div><div data-l="Hello in English: Hello!"></div><div data-l="Goodbye in English: Goodbye."></div><div data-l="Hello in Japanese: こんにちは"></div><div data-l="Goodbye in Japanese: さようなら"></div></div><br><h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Complex imports</span>複雑なインポート</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust offers several advanced options that can add compactness and convenience to your <code>extern crate</code> and <code>use</code> statements.</span>錆は、あなたの<code>extern crate</code>と<code>use</code>ステートメントにコンパクトさと利便性を追加できるいくつかの高度なオプションを提供します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here is an example:</span>次に例を示します。</span> </p><br><div data-lang=rust,ignore><div data-l="extern crate phrases as sayings;"></div><div data-l=""></div><div data-l="use sayings::japanese::greetings as ja_greetings;"></div><div data-l="use sayings::japanese::farewells::*;"></div><div data-l="use sayings::english::{self, greetings as en_greetings, farewells as en_farewells};"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    println!(&quot;Hello in English; {}&quot;, en_greetings::hello());"></div><div data-l="    println!(&quot;And in Japanese: {}&quot;, ja_greetings::hello());"></div><div data-l="    println!(&quot;Goodbye in English: {}&quot;, english::farewells::goodbye());"></div><div data-l="    println!(&quot;Again: {}&quot;, en_farewells::goodbye());"></div><div data-l="    println!(&quot;And in Japanese: {}&quot;, goodbye());"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">What&#39;s going on here?</span>何が起きてる？</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">First, both <code>extern crate</code> and <code>use</code> allow renaming the thing that is being imported.</span>まず、 <code>extern crate</code>と<code>use</code>両方で、インポートされているものの名​​前を変更できます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">So the crate is still called &quot;phrases&quot;, but here we will refer to it as &quot;sayings&quot;.</span>だから木箱はまだ &quot;フレーズ&quot;と呼ばれていますが、ここではそれを &quot;言葉&quot;と呼んでいます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Similarly, the first <code>use</code> statement pulls in the <code>japanese::greetings</code> module from the crate, but makes it available as <code>ja_greetings</code> as opposed to simply <code>greetings</code> .</span>同様に、最初の<code>use</code>文は、 <code>japanese::greetings</code>モジュールをクレートから引き出しますが、単に<code>greetings</code>とは対照的に<code>ja_greetings</code>として利用できます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This can help to avoid ambiguity when importing similarly-named items from different places.</span>これにより、同じ名前のアイテムを別の場所からインポートするときのあいまいさを避けることができます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The second <code>use</code> statement uses a star glob to bring in all public symbols from the <code>sayings::japanese::farewells</code> module.</span> 2番目の<code>use</code>文は、star globを使用して、 <code>sayings::japanese::farewells</code>モジュールからすべてのパブリックシンボルを<code>sayings::japanese::farewells</code>ます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As you can see we can later refer to the Japanese <code>goodbye</code> function with no module qualifiers.</span>ご覧のように、後でモジュールの修飾子なしで日本語の<code>goodbye</code>関数を参照することができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This kind of glob should be used sparingly.</span>この種のグロブは控えめに使用する必要があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It&#39;s worth noting that it only imports the public symbols, even if the code doing the globbing is in the same module.</span> globbingを行っているコードが同じモジュール内にあっても、パブリックシンボルのみをインポートすることに注意してください。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The third <code>use</code> statement bears more explanation.</span> 3番目の<code>use</code>ステートメントは、より詳細な説明をしています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It&#39;s using &quot;brace expansion&quot; globbing to compress three <code>use</code> statements into one (this sort of syntax may be familiar if you&#39;ve written Linux shell scripts before).</span> 3つの<code>use</code>ステートメントを1つに圧縮<code>use</code> &quot;中括拡張&quot;グロブを<code>use</code> （この種の構文は、以前にLinuxシェルスクリプトを作成していれば分かります）。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The uncompressed form of this statement would be:</span>このステートメントの非圧縮形式は次のとおりです。</span> </p><br><div data-lang=rust,ignore><div data-l="use sayings::english;"></div><div data-l="use sayings::english::greetings as en_greetings;"></div><div data-l="use sayings::english::farewells as en_farewells;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As you can see, the curly brackets compress <code>use</code> statements for several items under the same path, and in this context <code>self</code> refers back to that path.</span>ご覧のように、中括弧は、同じパスの下のいくつかの項目の<code>use</code>ステートメントを圧縮します。このコンテキストでは、 <code>self</code>はそのパスを参照します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note: The curly brackets cannot be nested or mixed with star globbing.</span>注：中括弧は入れ子にすることも、スターグロブと混在させることもできません。</span> </p><script>_addload(function(){_setupIW('com');_csi('en','ja','crates-and-modules.html');});</script>