<!DOCTYPE html><html lang=ja-x-mtfrom-en><head><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="https://translate.googleusercontent.com/translate/releases/twsfe_w_20180709_RC00/r/js/translate_c.js"></script><script>_intlStrings._originalText = "英語の原文テキスト:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|ja";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="%1$s に %2$s により翻訳されました";_intlStrings._unknown="不明";_intlStrings._suggestTranslation="翻訳を改善する"  ;_intlStrings._submit="送信";_intlStrings._suggestThanks="Google 翻訳の改善にご協力いただきありがとうございました。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href=const-and-static.html hreflang=en rel="alternate machine-translated-from"><base href="" target=_top /></head><body><iframe src="https://translate.google.com/translate_un?hl=ja&prev=_t&sl=en&tl=ja&lang=en&usg=ALkJrhi1BDLmdbWiRXYMNxkaJ7TdmUrvmA" width=0 height=0 frameborder=0 style="width:0px;height:0px;border:0px;display:none;"></iframe><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">const and static</span> constと静的</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust has a way of defining constants with the <code>const</code> keyword:</span> Rustは<code>const</code>キーワードで定数を定義する方法を持っています：</span> </p><br><div data-lang=rust><div data-l="const N: i32 = 5;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Unlike <a class=notranslate href=#3let><code>let</code></a> bindings, you must annotate the type of a <code>const</code> .</span> <a class=notranslate href=#3let><code>let</code></a>バインディングとは異なり、 <code>const</code>型に注釈を付ける必要があります。</span> </p><br> <a class=notranslate href=#1variable-bindings.html>let</a> <br> <p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Constants live for the entire lifetime of a program.</span>定数はプログラムの生涯にわたって生きています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">More specifically, constants in Rust have no fixed address in memory.</span>具体的には、Rustの定数にはメモリ内の固定アドレスがありません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This is because they&#39;re effectively inlined to each place that they&#39;re used.</span>これは、使用されている各場所に効果的にインライン展開されているためです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">References to the same constant are not necessarily guaranteed to refer to the same memory address for this reason.</span>同じ定数への参照が、同じ理由で同じメモリアドレスを参照するとは必ずしも保証されません。</span> </p><br><h1> <code>static</code> </h1> <br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Rust provides a &#39;global variable&#39; sort of facility in static items.</span>錆は、静的なアイテムに「グローバル変数」の機能を提供します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">They&#39;re similar to constants, but static items aren&#39;t inlined upon use.</span>これらは定数に似ていますが、静的な項目は使用時にインライン化されません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This means that there is only one instance for each value, and it&#39;s at a fixed location in memory.</span>これは、各値に対してインスタンスが1つしかなく、メモリ内の固定された場所にあることを意味します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here&#39;s an example:</span>ここに例があります：</span> </p><br><div data-lang=rust><div data-l="static N: i32 = 5;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Unlike <a class=notranslate href=#3let><code>let</code></a> bindings, you must annotate the type of a <code>static</code> .</span> <a class=notranslate href=#3let><code>let</code></a>バインディングとは異なり、 <code>static</code>型の注釈を付ける必要があり<code>static</code> 。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Statics live for the entire lifetime of a program, and therefore any reference stored in a static has a <a href=#3lifetimes><code>&#39;static</code> lifetime</a> :</span>スタティックスは、プログラムの生涯にわたって生きるため、スタティックに保存されているリファレンスには<a href=#3lifetimes><code>&#39;static</code>寿命があり</a>ます：</span> </p><br><div data-lang=rust><div data-l="static NAME: &amp;'static str = &quot;Steve&quot;;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The type of a <code>static</code> value must be <code>Sync</code> unless the <code>static</code> value is mutable.</span>タイプの<code>static</code>値でなければなりません<code>Sync</code>しない限り、 <code>static</code>値が変更可能です。</span> </p><br> <a class=notranslate href=#1lifetimes.html>lifetimes</a> <br> <h2> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Mutability</span>変異性</span> </h2><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">You can introduce mutability with the <code>mut</code> keyword:</span> <code>mut</code>キーワードでmutabilityを導入することができます：</span> </p><br><div data-lang=rust><div data-l="static mut N: i32 = 5;"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because this is mutable, one thread could be updating <code>N</code> while another is reading it, causing memory unsafety.</span>これは変更可能であるため、あるスレッドが<code>N</code>を更新している間に別のスレッドがそれを読み込んでいるため、メモリが不安定になる可能性があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As such both accessing and mutating a <code>static mut</code> is <a class=notranslate href=#3unsafe><code>unsafe</code></a> , and so must be done in an <code>unsafe</code> block:</span>したがって、 <code>static mut</code>アクセスと変更は<a class=notranslate href=#3unsafe><code>unsafe</code></a>では<a class=notranslate href=#3unsafe><code>unsafe</code></a>ため、 <code>unsafe</code>ブロックで行う必要があります。</span> </p><br><div data-lang=rust><div data-l="# static mut N: i32 = 5;"></div><div data-l=""></div><div data-l="unsafe {"></div><div data-l="    N += 1;"></div><div data-l=""></div><div data-l="    println!(&quot;N: {}&quot;, N);"></div><div data-l=}></div></div><br> <a class=notranslate href=#1unsafe.html>unsafe</a> <br> <h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Initializing</span>初期化中</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Both <code>const</code> and <code>static</code> have requirements for giving them a value.</span> <code>const</code>と<code>static</code>両方に値を与えるための要件が​​あります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">They must be given a value that&#39;s a constant expression.</span>それらには定数式である値を与えなければなりません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In other words, you cannot use the result of a function call or anything similarly complex or at runtime.</span>言い換えれば、関数呼び出しの結果や同様の複雑なものや実行時の結果は使用できません。</span> </p><br><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Dropping</span>落ちる</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Types implementing <a class=notranslate href=#3drop><code>Drop</code></a> are allowed in <code>const</code> and <code>static</code> definitions.</span> <a class=notranslate href=#3drop><code>Drop</code></a>を実装する型は、 <code>const</code>と<code>static</code>定義で使用できます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Constants are inlined where they are used and are dropped accordingly.</span>定数はインラインで使用され、それに従ってドロップされます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>static</code> values are not dropped.</span> <code>static</code>値は削除されません。</span> </p><br> <a class=notranslate href=#1drop.html>drop</a> <br> <h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Which construct should I use?</span>どのコンストラクションを使用する必要がありますか？</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Almost always, if you can choose between the two, choose <code>const</code> .</span>ほとんどの場合、2つの間で選択できる場合は、 <code>const</code>選択します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">It&#39;s pretty rare that you actually want a memory location associated with your constant, and using a <code>const</code> allows for optimizations like constant propagation not only in your crate but downstream crates.</span>実際にあなたの定数に関連付けられたメモリ位置がほしいということは非常にまれですが、 <code>const</code>を使用すると、あなたのクレートだけでなくダウンストリームのクレートでも定数伝播のような最適化が可能になります。</span> </p><script>_addload(function(){_setupIW('com');_csi('en','ja','const-and-static.html');});</script>