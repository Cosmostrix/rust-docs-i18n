<!DOCTYPE html>
<h1>Argument parsing</h1>
<br>
<p>Matching can be used to parse simple arguments:</p>
<br>
<div data-lang="rust,editable"><div data-l="use std::env;"></div><div data-l=""></div><div data-l="fn increase(number: i32) {"></div><div data-l="    println!(&quot;{}&quot;, number + 1);"></div><div data-l="}"></div><div data-l=""></div><div data-l="fn decrease(number: i32) {"></div><div data-l="    println!(&quot;{}&quot;, number - 1);"></div><div data-l="}"></div><div data-l=""></div><div data-l="fn help() {"></div><div data-l="    println!(&quot;usage:"></div><div data-l="match_args &lt;string&gt;"></div><div data-l="    Check whether given string is the answer."></div><div data-l="match_args {{increase|decrease}} &lt;integer&gt;"></div><div data-l="    Increase or decrease given integer by one.&quot;);"></div><div data-l="}"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    let args: Vec&lt;String&gt; = env::args().collect();"></div><div data-l=""></div><div data-l="    match args.len() {"></div><div data-l="#        // no arguments passed"></div><div data-l="        // ">no arguments passed</div><div data-l="        1 =&gt; {"></div><div data-l="            println!(&quot;My name is 'match_args'. Try passing some arguments!&quot;);"></div><div data-l="        },"></div><div data-l="#        // one argument passed"></div><div data-l="        // ">one argument passed</div><div data-l="        2 =&gt; {"></div><div data-l="            match args[1].parse() {"></div><div data-l="                Ok(42) =&gt; println!(&quot;This is the answer!&quot;),"></div><div data-l="                _ =&gt; println!(&quot;This is not the answer.&quot;),"></div><div data-l="            }"></div><div data-l="        },"></div><div data-l="#        // one command and one argument passed"></div><div data-l="        // ">one command and one argument passed</div><div data-l="        3 =&gt; {"></div><div data-l="            let cmd = &amp;args[1];"></div><div data-l="            let num = &amp;args[2];"></div><div data-l="#            // parse the number"></div><div data-l="            // ">parse the number</div><div data-l="            let number: i32 = match num.parse() {"></div><div data-l="                Ok(n) =&gt; {"></div><div data-l="                    n"></div><div data-l="                },"></div><div data-l="                Err(_) =&gt; {"></div><div data-l="                    eprintln!(&quot;error: second argument not an integer&quot;);"></div><div data-l="                    help();"></div><div data-l="                    return;"></div><div data-l="                },"></div><div data-l="            };"></div><div data-l="#            // parse the command"></div><div data-l="            // ">parse the command</div><div data-l="            match &amp;cmd[..] {"></div><div data-l="                &quot;increase&quot; =&gt; increase(number),"></div><div data-l="                &quot;decrease&quot; =&gt; decrease(number),"></div><div data-l="                _ =&gt; {"></div><div data-l="                    eprintln!(&quot;error: invalid command&quot;);"></div><div data-l="                    help();"></div><div data-l="                },"></div><div data-l="            }"></div><div data-l="        },"></div><div data-l="#        // all the other cases"></div><div data-l="        // ">all the other cases</div><div data-l="        _ =&gt; {"></div><div data-l="#            // show a help message"></div><div data-l="            // ">show a help message</div><div data-l="            help();"></div><div data-l="        }"></div><div data-l="    }"></div><div data-l="}"></div></div>
<br>
<div data-lang="bash"><div data-l="$ ./match_args Rust"></div><div data-l="This is not the answer."></div><div data-l="$ ./match_args 42"></div><div data-l="This is the answer!"></div><div data-l="$ ./match_args do something"></div><div data-l="error: second argument not an integer"></div><div data-l="usage:"></div><div data-l="match_args &lt;string&gt;"></div><div data-l="    Check whether given string is the answer."></div><div data-l="match_args {increase|decrease} &lt;integer&gt;"></div><div data-l="    Increase or decrease given integer by one."></div><div data-l="$ ./match_args do 42"></div><div data-l="error: invalid command"></div><div data-l="usage:"></div><div data-l="match_args &lt;string&gt;"></div><div data-l="    Check whether given string is the answer."></div><div data-l="match_args {increase|decrease} &lt;integer&gt;"></div><div data-l="    Increase or decrease given integer by one."></div><div data-l="$ ./match_args increase 42"></div><div data-l="43"></div></div>