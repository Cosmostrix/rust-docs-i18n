<!DOCTYPE html>
<h1>if let</h1>
<br>
<p>For some use cases, when matching enums, <code>match</code> is awkward. For example:</p>
<br>
<div data-lang="rust"><div data-l="#// Make `optional` of type `Option&lt;i32&gt;`"></div><div data-l="// ">Make <code>optional</code> of type <code>Option&lt;i32&gt;</code></div><div data-l="let optional = Some(7);"></div><div data-l=""></div><div data-l="match optional {"></div><div data-l="    Some(i) =&gt; {"></div><div data-l="        println!(&quot;This is a really long string and `{:?}`&quot;, i);"></div><div data-l="#        // ^ Needed 2 indentations just so we could destructure"></div><div data-l="#        // `i` from the option."></div><div data-l="        // ">^ Needed 2 indentations just so we could destructure <code>i</code> from the option.</div><div data-l="    },"></div><div data-l="    _ =&gt; {},"></div><div data-l="#    // ^ Required because `match` is exhaustive. Doesn't it seem"></div><div data-l="#    // like wasted space?"></div><div data-l="    // ">^ Required because <code>match</code> is exhaustive. Doesn't it seem like wasted space?</div><div data-l="};"></div><div data-l=""></div></div>
<br>
<p><code>if let</code> is cleaner for this use case and in addition allows various
failure options to be specified:</p>
<br>
<div data-lang="rust,editable"><div data-l="fn main() {"></div><div data-l="#    // All have type `Option&lt;i32&gt;`"></div><div data-l="    // ">All have type <code>Option&lt;i32&gt;</code></div><div data-l="    let number = Some(7);"></div><div data-l="    let letter: Option&lt;i32&gt; = None;"></div><div data-l="    let emoticon: Option&lt;i32&gt; = None;"></div><div data-l=""></div><div data-l="#    // The `if let` construct reads: &quot;if `let` destructures `number` into"></div><div data-l="#    // `Some(i)`, evaluate the block (`{}`)."></div><div data-l="    // ">The <code>if let</code> construct reads: &quot;if <code>let</code> destructures <code>number</code> into <code>Some(i)</code>, evaluate the block (<code>{}</code>).</div><div data-l="    if let Some(i) = number {"></div><div data-l="        println!(&quot;Matched {:?}!&quot;, i);"></div><div data-l="    }"></div><div data-l=""></div><div data-l="#    // If you need to specify a failure, use an else:"></div><div data-l="    // ">If you need to specify a failure, use an else:</div><div data-l="    if let Some(i) = letter {"></div><div data-l="        println!(&quot;Matched {:?}!&quot;, i);"></div><div data-l="    } else {"></div><div data-l="#        // Destructure failed. Change to the failure case."></div><div data-l="        // ">Destructure failed. Change to the failure case.</div><div data-l="        println!(&quot;Didn't match a number. Let's go with a letter!&quot;);"></div><div data-l="    };"></div><div data-l=""></div><div data-l="#    // Provide an altered failing condition."></div><div data-l="    // ">Provide an altered failing condition.</div><div data-l="    let i_like_letters = false;"></div><div data-l=""></div><div data-l="    if let Some(i) = emoticon {"></div><div data-l="        println!(&quot;Matched {:?}!&quot;, i);"></div><div data-l="#    // Destructure failed. Evaluate an `else if` condition to see if the"></div><div data-l="#    // alternate failure branch should be taken:"></div><div data-l="    // ">Destructure failed. Evaluate an <code>else if</code> condition to see if the alternate failure branch should be taken:</div><div data-l="    } else if i_like_letters {"></div><div data-l="        println!(&quot;Didn't match a number. Let's go with a letter!&quot;);"></div><div data-l="    } else {"></div><div data-l="#        // The condition evaluated false. This branch is the default:"></div><div data-l="        // ">The condition evaluated false. This branch is the default:</div><div data-l="        println!(&quot;I don't like letters. Let's go with an emoticon :)!&quot;);"></div><div data-l="    };"></div><div data-l="}"></div></div>
<br>
<p>In the same way, <code>if let</code> can be used to match any enum value:</p>
<br>
<div data-lang="rust,editable"><div data-l="#// Our example enum"></div><div data-l="// ">Our example enum</div><div data-l="enum Foo {"></div><div data-l="    Bar,"></div><div data-l="    Baz,"></div><div data-l="    Qux(u32)"></div><div data-l="}"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="#    // Create example variables"></div><div data-l="    // ">Create example variables</div><div data-l="    let a = Foo::Bar;"></div><div data-l="    let b = Foo::Baz;"></div><div data-l="    let c = Foo::Qux(100);"></div><div data-l="    "></div><div data-l="#    // Variable a matches Foo::Bar"></div><div data-l="    // ">Variable a matches Foo::Bar</div><div data-l="    if let Foo::Bar = a {"></div><div data-l="        println!(&quot;a is foobar&quot;);"></div><div data-l="    }"></div><div data-l="    "></div><div data-l="#    // Variable b does not match Foo::Bar"></div><div data-l="#    // So this will print nothing"></div><div data-l="    // ">Variable b does not match Foo::Bar So this will print nothing</div><div data-l="    if let Foo::Bar = b {"></div><div data-l="        println!(&quot;b is foobar&quot;);"></div><div data-l="    }"></div><div data-l="    "></div><div data-l="#    // Variable c matches Foo::Qux which has a value"></div><div data-l="#    // Similar to Some() in the previous example"></div><div data-l="    // ">Variable c matches Foo::Qux which has a value Similar to Some() in the previous example</div><div data-l="    if let Foo::Qux(value) = c {"></div><div data-l="        println!(&quot;c is {}&quot;, value);"></div><div data-l="    }"></div><div data-l="}"></div></div>
<br>
<h3>See also:</h3>
<br>
<p><a class="notranslate" href="#3enum"><code>enum</code></a>, <a class="notranslate" href="#3option"><code>Option</code></a>, and the <a class="notranslate" href="#3if_let_rfc">RFC</a></p>
<br>
<a class="notranslate" href="#1custom_types/enum.html">enum</a>
<a class="notranslate" href="#1https://github.com/rust-lang/rfcs/pull/160">if_let_rfc</a>
<a class="notranslate" href="#1std/option.html">option</a>