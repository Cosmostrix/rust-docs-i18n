<!DOCTYPE html>
<h1>while let</h1>
<br>
<p>Similar to <code>if let</code>, <code>while let</code> can make awkward <code>match</code> sequences
more tolerable. Consider the following sequence that increments <code>i</code>:</p>
<br>
<div data-lang="rust"><div data-l="#// Make `optional` of type `Option&lt;i32&gt;`"></div><div data-l="// ">Make <code>optional</code> of type <code>Option&lt;i32&gt;</code></div><div data-l="let mut optional = Some(0);"></div><div data-l=""></div><div data-l="#// Repeatedly try this test."></div><div data-l="// ">Repeatedly try this test.</div><div data-l="loop {"></div><div data-l="    match optional {"></div><div data-l="#        // If `optional` destructures, evaluate the block."></div><div data-l="        // ">If <code>optional</code> destructures, evaluate the block.</div><div data-l="        Some(i) =&gt; {"></div><div data-l="            if i &gt; 9 {"></div><div data-l="                println!(&quot;Greater than 9, quit!&quot;);"></div><div data-l="                optional = None;"></div><div data-l="            } else {"></div><div data-l="                println!(&quot;`i` is `{:?}`. Try again.&quot;, i);"></div><div data-l="                optional = Some(i + 1);"></div><div data-l="            }"></div><div data-l="#            // ^ Requires 3 indentations!"></div><div data-l="            // ">^ Requires 3 indentations!</div><div data-l="        },"></div><div data-l="#        // Quit the loop when the destructure fails:"></div><div data-l="        // ">Quit the loop when the destructure fails:</div><div data-l="        _ =&gt; { break; }"></div><div data-l="#        // ^ Why should this be required? There must be a better way!"></div><div data-l="        // ">^ Why should this be required? There must be a better way!</div><div data-l="    }"></div><div data-l="}"></div></div>
<br>
<p>Using <code>while let</code> makes this sequence much nicer:</p>
<br>
<div data-lang="rust,editable"><div data-l="fn main() {"></div><div data-l="#    // Make `optional` of type `Option&lt;i32&gt;`"></div><div data-l="    // ">Make <code>optional</code> of type <code>Option&lt;i32&gt;</code></div><div data-l="    let mut optional = Some(0);"></div><div data-l=""></div><div data-l="#    // This reads: &quot;while `let` destructures `optional` into"></div><div data-l="#    // `Some(i)`, evaluate the block (`{}`). Else `break`."></div><div data-l="    // ">This reads: &quot;while <code>let</code> destructures <code>optional</code> into <code>Some(i)</code>, evaluate the block (<code>{}</code>). Else <code>break</code>.</div><div data-l="    while let Some(i) = optional {"></div><div data-l="        if i &gt; 9 {"></div><div data-l="            println!(&quot;Greater than 9, quit!&quot;);"></div><div data-l="            optional = None;"></div><div data-l="        } else {"></div><div data-l="            println!(&quot;`i` is `{:?}`. Try again.&quot;, i);"></div><div data-l="            optional = Some(i + 1);"></div><div data-l="        }"></div><div data-l="#        // ^ Less rightward drift and doesn't require"></div><div data-l="#        // explicitly handling the failing case."></div><div data-l="        // ">^ Less rightward drift and doesn't require explicitly handling the failing case.</div><div data-l="    }"></div><div data-l="#    // ^ `if let` had additional optional `else`/`else if`"></div><div data-l="#    // clauses. `while let` does not have these."></div><div data-l="    // ">^ <code>if let</code> had additional optional <code>else</code>/<code>else if</code> clauses. <code>while let</code> does not have these.</div><div data-l="}"></div></div>
<br>
<h3>See also:</h3>
<br>
<p><a class="notranslate" href="#3enum"><code>enum</code></a>, <a class="notranslate" href="#3option"><code>Option</code></a>, and the <a class="notranslate" href="#3while_let_rfc">RFC</a></p>
<br>
<a class="notranslate" href="#1custom_types/enum.html">enum</a>
<a class="notranslate" href="#1std/option.html">option</a>
<a class="notranslate" href="#1https://github.com/rust-lang/rfcs/pull/214">while_let_rfc</a>