<!DOCTYPE html>
<h1>Struct visibility</h1>
<br>
<p>Structs have an extra level of visibility with their fields. The visibility 
defaults to private, and can be overridden with the <code>pub</code> modifier. This 
visibility only matters when a struct is accessed from outside the module 
where it is defined, and has the goal of hiding information (encapsulation).</p>
<br>
<div data-lang="rust,editable"><div data-l="mod my {"></div><div data-l="#    // A public struct with a public field of generic type `T`"></div><div data-l="    // ">A public struct with a public field of generic type <code>T</code></div><div data-l="    pub struct OpenBox&lt;T&gt; {"></div><div data-l="        pub contents: T,"></div><div data-l="    }"></div><div data-l=""></div><div data-l="#    // A public struct with a private field of generic type `T`"></div><div data-l="    // ">A public struct with a private field of generic type <code>T</code></div><div data-l="    #[allow(dead_code)]"></div><div data-l="    pub struct ClosedBox&lt;T&gt; {"></div><div data-l="        contents: T,"></div><div data-l="    }"></div><div data-l=""></div><div data-l="    impl&lt;T&gt; ClosedBox&lt;T&gt; {"></div><div data-l="#        // A public constructor method"></div><div data-l="        // ">A public constructor method</div><div data-l="        pub fn new(contents: T) -&gt; ClosedBox&lt;T&gt; {"></div><div data-l="            ClosedBox {"></div><div data-l="                contents: contents,"></div><div data-l="            }"></div><div data-l="        }"></div><div data-l="    }"></div><div data-l="}"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="#    // Public structs with public fields can be constructed as usual"></div><div data-l="    // ">Public structs with public fields can be constructed as usual</div><div data-l="    let open_box = my::OpenBox { contents: &quot;public information&quot; };"></div><div data-l=""></div><div data-l="#    // and their fields can be normally accessed."></div><div data-l="    // ">and their fields can be normally accessed.</div><div data-l="    println!(&quot;The open box contains: {}&quot;, open_box.contents);"></div><div data-l=""></div><div data-l="#    // Public structs with private fields cannot be constructed using field names."></div><div data-l="#    // Error! `ClosedBox` has private fields"></div><div data-l="    // ">Public structs with private fields cannot be constructed using field names. Error! <code>ClosedBox</code> has private fields</div><div data-l="    //let closed_box = my::ClosedBox { contents: &quot;classified information&quot; };"></div><div data-l="#    // TODO ^ Try uncommenting this line"></div><div data-l="    // ">TODO ^ Try uncommenting this line</div><div data-l=""></div><div data-l="#    // However, structs with private fields can be created using"></div><div data-l="#    // public constructors"></div><div data-l="    // ">However, structs with private fields can be created using public constructors</div><div data-l="    let _closed_box = my::ClosedBox::new(&quot;classified information&quot;);"></div><div data-l=""></div><div data-l="#    // and the private fields of a public struct cannot be accessed."></div><div data-l="#    // Error! The `contents` field is private"></div><div data-l="    // ">and the private fields of a public struct cannot be accessed. Error! The <code>contents</code> field is private</div><div data-l="    //println!(&quot;The closed box contains: {}&quot;, _closed_box.contents);"></div><div data-l="#    // TODO ^ Try uncommenting this line"></div><div data-l="    // ">TODO ^ Try uncommenting this line</div><div data-l="}"></div></div>
<br>
<h3>See also:</h3>
<br>
<p><a class="notranslate" href="#3generics">generics</a> and <a class="notranslate" href="#3methods">methods</a></p>
<br>
<a class="notranslate" href="#1generics.html">generics</a>
<a class="notranslate" href="#1fn/methods.html">methods</a>