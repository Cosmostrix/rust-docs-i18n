<!DOCTYPE html>
<h1>Clone</h1>
<br>
<p>When dealing with resources, the default behavior is to transfer them during
assignments or function calls. However, sometimes we need to make a 
copy of the resource as well.</p>
<br>
<p>The <a class="notranslate" href="#3clone"><code>Clone</code></a> trait helps us do exactly this. Most commonly, we can 
use the <code>.clone()</code> method defined by the <code>Clone</code> trait.</p>
<br>
<div data-lang="rust,editable"><div data-l="#// A unit struct without resources"></div><div data-l="// ">A unit struct without resources</div><div data-l="#[derive(Debug, Clone, Copy)]"></div><div data-l="struct Nil;"></div><div data-l=""></div><div data-l="#// A tuple struct with resources that implements the `Clone` trait"></div><div data-l="// ">A tuple struct with resources that implements the <code>Clone</code> trait</div><div data-l="#[derive(Clone, Debug)]"></div><div data-l="struct Pair(Box&lt;i32&gt;, Box&lt;i32&gt;);"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="#    // Instantiate `Nil`"></div><div data-l="    // ">Instantiate <code>Nil</code></div><div data-l="    let nil = Nil;"></div><div data-l="#    // Copy `Nil`, there are no resources to move"></div><div data-l="    // ">Copy <code>Nil</code>, there are no resources to move</div><div data-l="    let copied_nil = nil;"></div><div data-l=""></div><div data-l="#    // Both `Nil`s can be used independently"></div><div data-l="    // ">Both <code>Nil</code>s can be used independently</div><div data-l="    println!(&quot;original: {:?}&quot;, nil);"></div><div data-l="    println!(&quot;copy: {:?}&quot;, copied_nil);"></div><div data-l=""></div><div data-l="#    // Instantiate `Pair`"></div><div data-l="    // ">Instantiate <code>Pair</code></div><div data-l="    let pair = Pair(Box::new(1), Box::new(2));"></div><div data-l="    println!(&quot;original: {:?}&quot;, pair);"></div><div data-l=""></div><div data-l="#    // Copy `pair` into `moved_pair`, moves resources"></div><div data-l="    // ">Copy <code>pair</code> into <code>moved_pair</code>, moves resources</div><div data-l="    let moved_pair = pair;"></div><div data-l="    println!(&quot;copy: {:?}&quot;, moved_pair);"></div><div data-l=""></div><div data-l="#    // Error! `pair` has lost its resources"></div><div data-l="    // ">Error! <code>pair</code> has lost its resources</div><div data-l="    //println!(&quot;original: {:?}&quot;, pair);"></div><div data-l="#    // TODO ^ Try uncommenting this line"></div><div data-l="    // ">TODO ^ Try uncommenting this line</div><div data-l="    "></div><div data-l="#    // Clone `moved_pair` into `cloned_pair` (resources are included)"></div><div data-l="    // ">Clone <code>moved_pair</code> into <code>cloned_pair</code> (resources are included)</div><div data-l="    let cloned_pair = moved_pair.clone();"></div><div data-l="#    // Drop the original pair using std::mem::drop"></div><div data-l="    // ">Drop the original pair using std::mem::drop</div><div data-l="    drop(moved_pair);"></div><div data-l=""></div><div data-l="#    // Error! `moved_pair` has been dropped"></div><div data-l="    // ">Error! <code>moved_pair</code> has been dropped</div><div data-l="    //println!(&quot;copy: {:?}&quot;, moved_pair);"></div><div data-l="#    // TODO ^ Try uncommenting this line"></div><div data-l="    // ">TODO ^ Try uncommenting this line</div><div data-l=""></div><div data-l="#    // The result from .clone() can still be used!"></div><div data-l="    // ">The result from .clone() can still be used!</div><div data-l="    println!(&quot;clone: {:?}&quot;, cloned_pair);"></div><div data-l="}"></div></div>
<br>
<a class="notranslate" href="#1https://doc.rust-lang.org/std/clone/trait.Clone.html">clone</a>