<!DOCTYPE html>
<h1>Structures</h1>
<br>
<p>There are three types of structures (&quot;structs&quot;) that can be created using the
<code>struct</code> keyword:</p>
<br>
<div data-b="*">Tuple structs, which are, basically, named tuples.</div>
<div data-b="*">The classic <a href="#3c_struct">C structs</a></div>
<div data-b="*">Unit structs, which are field-less, are useful for generics.</div>
<br>
<div data-lang="rust,editable"><div data-l="#[derive(Debug)]"></div><div data-l="struct Person&lt;'a&gt; {"></div><div data-l="    name: &amp;'a str,"></div><div data-l="    age: u8,"></div><div data-l="}"></div><div data-l=""></div><div data-l="#// A unit struct"></div><div data-l="// ">A unit struct</div><div data-l="struct Nil;"></div><div data-l=""></div><div data-l="#// A tuple struct"></div><div data-l="// ">A tuple struct</div><div data-l="struct Pair(i32, f32);"></div><div data-l=""></div><div data-l="#// A struct with two fields"></div><div data-l="// ">A struct with two fields</div><div data-l="struct Point {"></div><div data-l="    x: f32,"></div><div data-l="    y: f32,"></div><div data-l="}"></div><div data-l=""></div><div data-l="#// Structs can be reused as fields of another struct"></div><div data-l="// ">Structs can be reused as fields of another struct</div><div data-l="#[allow(dead_code)]"></div><div data-l="struct Rectangle {"></div><div data-l="    p1: Point,"></div><div data-l="    p2: Point,"></div><div data-l="}"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="#    // Create struct with field init shorthand"></div><div data-l="    // ">Create struct with field init shorthand</div><div data-l="    let name = &quot;Peter&quot;;"></div><div data-l="    let age = 27;"></div><div data-l="    let peter = Person { name, age };"></div><div data-l=""></div><div data-l="#    // Print debug struct"></div><div data-l="    // ">Print debug struct</div><div data-l="    println!(&quot;{:?}&quot;, peter);"></div><div data-l=""></div><div data-l=""></div><div data-l="#    // Instantiate a `Point`"></div><div data-l="    // ">Instantiate a <code>Point</code></div><div data-l="    let point: Point = Point { x: 0.3, y: 0.4 };"></div><div data-l=""></div><div data-l="#    // Access the fields of the point"></div><div data-l="    // ">Access the fields of the point</div><div data-l="    println!(&quot;point coordinates: ({}, {})&quot;, point.x, point.y);"></div><div data-l=""></div><div data-l="#    // Make a new point by using struct update syntax to use the fields of our other one"></div><div data-l="    // ">Make a new point by using struct update syntax to use the fields of our other one</div><div data-l="    let new_point = Point { x: 0.1, ..point };"></div><div data-l="#    // `new_point.y` will be the same as `point.y` because we used that field from `point`"></div><div data-l="    // "><code>new_point.y</code> will be the same as <code>point.y</code> because we used that field from <code>point</code></div><div data-l="    println!(&quot;second point: ({}, {})&quot;, new_point.x, new_point.y);"></div><div data-l=""></div><div data-l="#    // Destructure the point using a `let` binding"></div><div data-l="    // ">Destructure the point using a <code>let</code> binding</div><div data-l="    let Point { x: my_x, y: my_y } = point;"></div><div data-l=""></div><div data-l="    let _rectangle = Rectangle {"></div><div data-l="#        // struct instantiation is an expression too"></div><div data-l="        // ">struct instantiation is an expression too</div><div data-l="        p1: Point { x: my_y, y: my_x },"></div><div data-l="        p2: point,"></div><div data-l="    };"></div><div data-l=""></div><div data-l="#    // Instantiate a unit struct"></div><div data-l="    // ">Instantiate a unit struct</div><div data-l="    let _nil = Nil;"></div><div data-l=""></div><div data-l="#    // Instantiate a tuple struct"></div><div data-l="    // ">Instantiate a tuple struct</div><div data-l="    let pair = Pair(1, 0.1);"></div><div data-l=""></div><div data-l="#    // Access the fields of a tuple struct"></div><div data-l="    // ">Access the fields of a tuple struct</div><div data-l="    println!(&quot;pair contains {:?} and {:?}&quot;, pair.0, pair.1);"></div><div data-l=""></div><div data-l="#    // Destructure a tuple struct"></div><div data-l="    // ">Destructure a tuple struct</div><div data-l="    let Pair(integer, decimal) = pair;"></div><div data-l=""></div><div data-l="    println!(&quot;pair contains {:?} and {:?}&quot;, integer, decimal);"></div><div data-l="}"></div></div>
<br>
<h3>Activity</h3>
<br>
<div data-b="1.">Add a function <code>rect_area</code> which calculates the area of a rectangle (try 
 using nested destructuring). </div>
<div data-b="2.">Add a function <code>square</code> which takes a <code>Point</code> and a <code>f32</code> as arguments, and returns a <code>Rectangle</code> with its lower left corner on the point, and a width and height corresponding to the <code>f32</code>.</div>
<br>
<h3>See also:</h3>
<br>
<p><a class="notranslate" href="#3attributes"><code>attributes</code></a> and <a class="notranslate" href="#3destructuring">destructuring</a></p>
<br>
<a class="notranslate" href="#1attribute.html">attributes</a>
<a class="notranslate" href="#1https://en.wikipedia.org/wiki/Struct_(C_programming_language)">c_struct</a>
<a class="notranslate" href="#1flow_control/match/destructuring.html">destructuring</a>