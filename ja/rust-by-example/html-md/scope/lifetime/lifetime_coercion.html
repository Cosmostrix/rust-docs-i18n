<!DOCTYPE html>
<h1>Coercion</h1>
<br>
<p>A longer lifetime can be coerced into a shorter one 
so that it works inside a scope it normally wouldn't work in.
This comes in the form of inferred coercion by the Rust compiler,
and also in the form of declaring a lifetime difference:</p>
<br>
<div data-lang="rust,editable"><div data-l="#// Here, Rust infers a lifetime that is as short as possible."></div><div data-l="#// The two references are then coerced to that lifetime."></div><div data-l="// ">Here, Rust infers a lifetime that is as short as possible. The two references are then coerced to that lifetime.</div><div data-l="fn multiply&lt;'a&gt;(first: &amp;'a i32, second: &amp;'a i32) -&gt; i32 {"></div><div data-l="    first * second"></div><div data-l="}"></div><div data-l=""></div><div data-l="#// `&lt;'a: 'b, 'b&gt;` reads as lifetime `'a` is at least as long as `'b`."></div><div data-l="#// Here, we take in an `&amp;'a i32` and return a `&amp;'b i32` as a result of coercion."></div><div data-l="// "><code>&lt;'a: 'b, 'b&gt;</code> reads as lifetime <code>'a</code> is at least as long as <code>'b</code>. Here, we take in an <code>&amp;'a i32</code> and return a <code>&amp;'b i32</code> as a result of coercion.</div><div data-l="fn choose_first&lt;'a: 'b, 'b&gt;(first: &amp;'a i32, _: &amp;'b i32) -&gt; &amp;'b i32 {"></div><div data-l="    first"></div><div data-l="}"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="#//    let first = 2; // Longer lifetime"></div><div data-l="    let first = 2; // ">Longer lifetime</div><div data-l="    "></div><div data-l="    {"></div><div data-l="#//        let second = 3; // Shorter lifetime"></div><div data-l="        let second = 3; // ">Shorter lifetime</div><div data-l="        "></div><div data-l="        println!(&quot;The product is {}&quot;, multiply(&amp;first, &amp;second));"></div><div data-l="        println!(&quot;{} is the first&quot;, choose_first(&amp;first, &amp;second));"></div><div data-l="    };"></div><div data-l="}"></div></div>