<!DOCTYPE html>
<h1>Lifetimes</h1>
<br>
<p>A <i>lifetime</i> is a construct the compiler (or more specifically, its <i>borrow
checker</i>) uses to ensure all borrows are valid. Specifically, a variable's
lifetime begins when it is created and ends when it is destroyed. While
lifetimes and scopes are often referred to together, they are not the same.</p>
<br>
<p>Take, for example, the case where we borrow a variable via <code>&amp;</code>. The
borrow has a lifetime that is determined by where it is declared. As a result,
the borrow is valid as long as it ends before the lender is destroyed. However,
the scope of the borrow is determined by where the reference is used.</p>
<br>
<p>In the following example and in the rest of this section, we will see how
lifetimes relate to scopes, as well as how the two differ.</p>
<br>
<div data-lang="rust,editable"><div data-l="#// Lifetimes are annotated below with lines denoting the creation"></div><div data-l="#// and destruction of each variable."></div><div data-l="#// `i` has the longest lifetime because its scope entirely encloses "></div><div data-l="#// both `borrow1` and `borrow2`. The duration of `borrow1` compared "></div><div data-l="#// to `borrow2` is irrelevant since they are disjoint."></div><div data-l="// ">Lifetimes are annotated below with lines denoting the creation and destruction of each variable. <code>i</code> has the longest lifetime because its scope entirely encloses  both <code>borrow1</code> and <code>borrow2</code>. The duration of <code>borrow1</code> compared  to <code>borrow2</code> is irrelevant since they are disjoint.</div><div data-l="fn main() {"></div><div data-l="#//    let i = 3; // Lifetime for `i` starts. ────────────────┐"></div><div data-l="    let i = 3; // ">Lifetime for <code>i</code> starts. ────────────────┐</div><div data-l="#    //                                                     │"></div><div data-l="    // ">                                                    │</div><div data-l="#//    { //                                                   │"></div><div data-l="    { // ">                                                  │</div><div data-l="#//        let borrow1 = &amp;i; // `borrow1` lifetime starts. ──┐│"></div><div data-l="        let borrow1 = &amp;i; // "><code>borrow1</code> lifetime starts. ──┐│</div><div data-l="#        //                                                ││"></div><div data-l="        // ">                                               ││</div><div data-l="#//        println!(&quot;borrow1: {}&quot;, borrow1); //              ││"></div><div data-l="        println!(&quot;borrow1: {}&quot;, borrow1); // ">             ││</div><div data-l="#//    } // `borrow1 ends. ──────────────────────────────────┘│"></div><div data-l="    } // ">`borrow1 ends. ──────────────────────────────────┘│</div><div data-l="#    //                                                     │"></div><div data-l="#    //                                                     │"></div><div data-l="    // ">                                                    │                                                     │</div><div data-l="#//    { //                                                   │"></div><div data-l="    { // ">                                                  │</div><div data-l="#//        let borrow2 = &amp;i; // `borrow2` lifetime starts. ──┐│"></div><div data-l="        let borrow2 = &amp;i; // "><code>borrow2</code> lifetime starts. ──┐│</div><div data-l="#        //                                                ││"></div><div data-l="        // ">                                               ││</div><div data-l="#//        println!(&quot;borrow2: {}&quot;, borrow2); //              ││"></div><div data-l="        println!(&quot;borrow2: {}&quot;, borrow2); // ">             ││</div><div data-l="#//    } // `borrow2` ends. ─────────────────────────────────┘│"></div><div data-l="    } // "><code>borrow2</code> ends. ─────────────────────────────────┘│</div><div data-l="#    //                                                     │"></div><div data-l="    // ">                                                    │</div><div data-l="#//}   // Lifetime ends. ─────────────────────────────────────┘"></div><div data-l="}   // ">Lifetime ends. ─────────────────────────────────────┘</div></div>
<br>
<p>Note that no names or types are assigned to label lifetimes.
This restricts how lifetimes will be able to be used as we will see.</p>