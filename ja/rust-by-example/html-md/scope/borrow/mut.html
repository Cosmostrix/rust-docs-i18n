<!DOCTYPE html>
<h1>Mutability</h1>
<br>
<p>Mutable data can be mutably borrowed using <code>&amp;mut T</code>. This is called 
a <i>mutable reference</i> and gives read/write access to the borrower.
In contrast, <code>&amp;T</code> borrows the data via an immutable reference, and 
the borrower can read the data but not modify it:</p>
<br>
<div data-lang="rust,editable,ignore,mdbook-runnable"><div data-l="#[allow(dead_code)]"></div><div data-l="#[derive(Clone, Copy)]"></div><div data-l="struct Book {"></div><div data-l="#    // `&amp;'static str` is a reference to a string allocated in read only memory"></div><div data-l="    // "><code>&amp;'static str</code> is a reference to a string allocated in read only memory</div><div data-l="    author: &amp;'static str,"></div><div data-l="    title: &amp;'static str,"></div><div data-l="    year: u32,"></div><div data-l="}"></div><div data-l=""></div><div data-l="#// This function takes a reference to a book"></div><div data-l="// ">This function takes a reference to a book</div><div data-l="fn borrow_book(book: &amp;Book) {"></div><div data-l="    println!(&quot;I immutably borrowed {} - {} edition&quot;, book.title, book.year);"></div><div data-l="}"></div><div data-l=""></div><div data-l="#// This function takes a reference to a mutable book and changes `year` to 2014"></div><div data-l="// ">This function takes a reference to a mutable book and changes <code>year</code> to 2014</div><div data-l="fn new_edition(book: &amp;mut Book) {"></div><div data-l="    book.year = 2014;"></div><div data-l="    println!(&quot;I mutably borrowed {} - {} edition&quot;, book.title, book.year);"></div><div data-l="}"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="#    // Create an immutable Book named `immutabook`"></div><div data-l="    // ">Create an immutable Book named <code>immutabook</code></div><div data-l="    let immutabook = Book {"></div><div data-l="#        // string literals have type `&amp;'static str`"></div><div data-l="        // ">string literals have type <code>&amp;'static str</code></div><div data-l="        author: &quot;Douglas Hofstadter&quot;,"></div><div data-l="        title: &quot;GÃ¶del, Escher, Bach&quot;,"></div><div data-l="        year: 1979,"></div><div data-l="    };"></div><div data-l=""></div><div data-l="#    // Create a mutable copy of `immutabook` and call it `mutabook`"></div><div data-l="    // ">Create a mutable copy of <code>immutabook</code> and call it <code>mutabook</code></div><div data-l="    let mut mutabook = immutabook;"></div><div data-l="    "></div><div data-l="#    // Immutably borrow an immutable object"></div><div data-l="    // ">Immutably borrow an immutable object</div><div data-l="    borrow_book(&amp;immutabook);"></div><div data-l=""></div><div data-l="#    // Immutably borrow a mutable object"></div><div data-l="    // ">Immutably borrow a mutable object</div><div data-l="    borrow_book(&amp;mutabook);"></div><div data-l="    "></div><div data-l="#    // Borrow a mutable object as mutable"></div><div data-l="    // ">Borrow a mutable object as mutable</div><div data-l="    new_edition(&amp;mut mutabook);"></div><div data-l="    "></div><div data-l="#    // Error! Cannot borrow an immutable object as mutable"></div><div data-l="    // ">Error! Cannot borrow an immutable object as mutable</div><div data-l="    new_edition(&amp;mut immutabook);"></div><div data-l="#    // FIXME ^ Comment out this line"></div><div data-l="    // ">FIXME ^ Comment out this line</div><div data-l="}"></div></div>
<br>
<h3>See also:</h3>
<p><a class="notranslate" href="#3static"><code>static</code></a></p>
<br>
<a class="notranslate" href="#1scope/lifetime/static_lifetime.html">static</a>