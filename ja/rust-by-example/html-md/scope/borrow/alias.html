<!DOCTYPE html>
<h1>Aliasing</h1>
<br>
<p>Data can be immutably borrowed any number of times, but while immutably
borrowed, the original data can't be mutably borrowed. On the other hand,
only <i>one</i> mutable borrow is allowed at a time. The original data can be
borrowed again only <i>after</i> the mutable reference goes out of scope.</p>
<br>
<div data-lang="rust,editable"><div data-l="struct Point { x: i32, y: i32, z: i32 }"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    let mut point = Point { x: 0, y: 0, z: 0 };"></div><div data-l=""></div><div data-l="    {"></div><div data-l="        let borrowed_point = &amp;point;"></div><div data-l="        let another_borrow = &amp;point;"></div><div data-l=""></div><div data-l="#        // Data can be accessed via the references and the original owner"></div><div data-l="        // ">Data can be accessed via the references and the original owner</div><div data-l="        println!(&quot;Point has coordinates: ({}, {}, {})&quot;,"></div><div data-l="                 borrowed_point.x, another_borrow.y, point.z);"></div><div data-l=""></div><div data-l="#        // Error! Can't borrow point as mutable because it's currently"></div><div data-l="#        // borrowed as immutable."></div><div data-l="        // ">Error! Can't borrow point as mutable because it's currently borrowed as immutable.</div><div data-l="        //let mutable_borrow = &amp;mut point;"></div><div data-l="#        // TODO ^ Try uncommenting this line"></div><div data-l="        // ">TODO ^ Try uncommenting this line</div><div data-l=""></div><div data-l="#        // Immutable references go out of scope"></div><div data-l="        // ">Immutable references go out of scope</div><div data-l="    }"></div><div data-l=""></div><div data-l="    {"></div><div data-l="        let mutable_borrow = &amp;mut point;"></div><div data-l=""></div><div data-l="#        // Change data via mutable reference"></div><div data-l="        // ">Change data via mutable reference</div><div data-l="        mutable_borrow.x = 5;"></div><div data-l="        mutable_borrow.y = 2;"></div><div data-l="        mutable_borrow.z = 1;"></div><div data-l=""></div><div data-l="#        // Error! Can't borrow `point` as immutable because it's currently"></div><div data-l="#        // borrowed as mutable."></div><div data-l="        // ">Error! Can't borrow <code>point</code> as immutable because it's currently borrowed as mutable.</div><div data-l="        //let y = &amp;point.y;"></div><div data-l="#        // TODO ^ Try uncommenting this line"></div><div data-l="        // ">TODO ^ Try uncommenting this line</div><div data-l=""></div><div data-l="#        // Error! Can't print because `println!` takes an immutable reference."></div><div data-l="        // ">Error! Can't print because <code>println€</code> takes an immutable reference.</div><div data-l="        //println!(&quot;Point Z coordinate is {}&quot;, point.z);"></div><div data-l="#        // TODO ^ Try uncommenting this line"></div><div data-l="        // ">TODO ^ Try uncommenting this line</div><div data-l=""></div><div data-l="#        // Ok! Mutable references can be passed as immutable to `println!`"></div><div data-l="        // ">Ok! Mutable references can be passed as immutable to <code>println€</code></div><div data-l="        println!(&quot;Point has coordinates: ({}, {}, {})&quot;,"></div><div data-l="                 mutable_borrow.x, mutable_borrow.y, mutable_borrow.z);"></div><div data-l=""></div><div data-l="#        // Mutable reference goes out of scope"></div><div data-l="        // ">Mutable reference goes out of scope</div><div data-l="    }"></div><div data-l=""></div><div data-l="#    // Immutable references to point are allowed again"></div><div data-l="    // ">Immutable references to point are allowed again</div><div data-l="    let borrowed_point = &amp;point;"></div><div data-l="    println!(&quot;Point now has coordinates: ({}, {}, {})&quot;,"></div><div data-l="             borrowed_point.x, borrowed_point.y, borrowed_point.z);"></div><div data-l="}"></div></div>