<!DOCTYPE html><html lang=ja-x-mtfrom-en><head><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="https://translate.googleusercontent.com/translate/releases/twsfe_w_20180723_RC00/r/js/translate_c.js"></script><script>_intlStrings._originalText = "英語の原文テキスト:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|ja";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="%1$s に %2$s により翻訳されました";_intlStrings._unknown="不明";_intlStrings._suggestTranslation="翻訳を改善する"  ;_intlStrings._submit="送信";_intlStrings._suggestThanks="Google 翻訳の改善にご協力いただきありがとうございました。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href=casts.html hreflang=en rel="alternate machine-translated-from"><base href="" target=_top /></head><body><iframe src="https://translate.google.com/translate_un?hl=ja&prev=_t&sl=en&tl=ja&lang=en&usg=ALkJrhi1BDLmdbWiRXYMNxkaJ7TdmUrvmA" width=0 height=0 frameborder=0 style="width:0px;height:0px;border:0px;display:none;"></iframe><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Casts</span>キャスト</span> </h1><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Casts are a superset of coercions: every coercion can be explicitly invoked via a cast.</span>キャストは強制的に強制的に呼び出されます。すべての強制はキャストによって明示的に呼び出すことができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However some conversions require a cast.</span>しかし、いくつかの変換にはキャストが必要です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">While coercions are pervasive and largely harmless, these &quot;true casts&quot; are rare and potentially dangerous.</span>強制的に普及し、ほとんど無害ですが、これらの「真のキャスト」はまれで潜在的に危険です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">As such, casts must be explicitly invoked using the <code>as</code> keyword: <code>expr as Type</code> .</span>そのため、キャストは<code>as</code>キーワード<code>as</code> ： <code>expr as Type</code>を使用して明示的に呼び出さなければなりません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">True casts generally revolve around raw pointers and the primitive numeric types.</span>真のキャストは、一般に、生ポインタとプリミティブな数値型を中心にしています。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Even though they&#39;re dangerous, these casts are infallible at runtime.</span>彼らは危険ですが、実行時にこれらのキャストは間違いありません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If a cast triggers some subtle corner case no indication will be given that this occurred.</span>キャストによって微妙なコーナーケースがトリガされた場合、これは発生していないことが示されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The cast will simply succeed.</span>キャストは単に成功するでしょう。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">That said, casts must be valid at the type level, or else they will be prevented statically.</span>つまり、キャストは型レベルで有効でなければなりません。さもなければ、キャストは静的に防止されます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For instance, <code>7u8 as bool</code> will not compile.</span>たとえば、 <code>7u8 as bool</code>はコンパイルされません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">That said, casts aren&#39;t <code>unsafe</code> because they generally can&#39;t violate memory safety <i>on their own</i> .</span>つまり、キャストは一般的<i>に自分自身で</i>メモリの安全性<i>に</i>違反することはできないため、 <code>unsafe</code>はありませ<code>unsafe</code> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For instance, converting an integer to a raw pointer can very easily lead to terrible things.</span>たとえば、整数を生ポインタに変換すると、非常に簡単に恐ろしいことにつながる可能性があります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">However the act of creating the pointer itself is safe, because actually using a raw pointer is already marked as <code>unsafe</code> .</span>実際には未加工のポインタを使用しているので、すでに<code>unsafe</code>マークされているので、ポインタ自体を作成する動作は<code>unsafe</code>です。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Here&#39;s an exhaustive list of all the true casts.</span>すべての真のキャストの網羅的なリストです。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For brevity, we will use <code>*</code> to denote either a <code>*const</code> or <code>*mut</code> , and <code>integer</code> to denote any integral primitive:</span>簡潔にするために、a <code>*const</code>または<code>*mut</code>いずれかを表すために<code>*</code>を使用します。また、 <code>integer</code>は整数プリミティブを示すために使用されます。</span> </p><br><div data-b=" *"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>*T as *U</code> where <code>T, U: Sized</code></span> <code>*T as *U</code>ここで<code>T, U: Sized</code></span> </div><div data-b=" *"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>*T as *U</code> TODO: explain unsized situation</span> <code>*T as *U</code> TODO：説明されていない状況</span> </div><div data-b=" *"> <code>*T as integer</code> </div> <div data-b=" *"> <code>integer as *T</code> </div> <div data-b=" *"> <code>number as number</code> </div> <div data-b=" *"> <code>field-less enum as integer</code> </div> <div data-b=" *"> <code>bool as integer</code> </div> <div data-b=" *"> <code>char as integer</code> </div> <div data-b=" *"> <code>u8 as char</code> </div> <div data-b=" *"> <code>&amp;[T; n] as *const T</code> </div> <div data-b=" *"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><code>fn as *T</code> where <code>T: Sized</code></span> <code>fn as *T</code> 、 <code>T: Sized</code></span> </div><div data-b=" *"> <code>fn as integer</code> </div> <br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Note that lengths are not adjusted when casting raw slices - <code>*const [u16] as *const [u8]</code> creates a slice that only includes half of the original memory.</span>生スライスをキャストするときに長さが調整されないことに注意してください。 <code>*const [u16] as *const [u8]</code>は元のメモリの半分しか含まないスライスを作成します。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Casting is not transitive, that is, even if <code>e as U1 as U2</code> is a valid expression, <code>e as U2</code> is not necessarily so.</span>キャスティングは推移的ではありません。すなわち、たとえ<code>e as U1 as U2</code>が有効な式であっても、 <code>e as U2</code>は必ずしもそうであるとは限りません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For numeric casts, there are quite a few cases to consider:</span>数値キャストの場合、考慮する必要があります。</span> </p><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">casting between two integers of the same size (eg i32 -&gt; u32) is a no-op</span>同じサイズの2つの整数間のキャスト（例：i32  - &gt; u32）はノーオペレーションです</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">casting from a larger integer to a smaller integer (eg u32 -&gt; u8) will truncate</span>より大きな整数からより小さな整数（例えば、u32  - &gt; u8）へのキャストは、</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">casting from a smaller integer to a larger integer (eg u8 -&gt; u32) will</span>小さな整数から大きな整数へのキャスト（例：u8  - &gt; u32）</span> </div><div data-b="    *"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">zero-extend if the source is unsigned</span>ソースが符号なしの場合はゼロ拡張</span> </div><div data-b="    *"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">sign-extend if the source is signed</span>ソースが署名されている場合は符号拡張する</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">casting from a float to an integer will round the float towards zero</span>浮動小数点から整数へのキャストは浮動小数点をゼロに向かって丸めます</span> </div><div data-b="    *"> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><b>[NOTE: currently this will cause Undefined Behavior if the rounded value cannot be represented by the target integer type][float-int]</b> .</span> <b>[注記：現在、丸められた値をターゲット整数型で表現できない場合、未定義の振る舞いが発生します] [float-int]</b> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This includes Inf and NaN.</span>これには、InfとNaNが含まれます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This is a bug and will be fixed.</span>これはバグであり修正される予定です。</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">casting from an integer to float will produce the floating point representation of the integer, rounded if necessary (rounding to nearest, ties to even)</span>整数から浮動小数点へのキャストは整数の浮動小数点表現を生成し、必要に応じて四捨五入します（最も近いものに四捨五入して偶数に結びます）</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">casting from an f32 to an f64 is perfect and lossless</span> f32からf64へのキャストは完璧でロスレスです</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">casting from an f64 to an f32 will produce the closest possible value (rounding to nearest, ties to even)</span> f64からf32へのキャストは、可能な限り近い値を生成します（最も近い値に四捨五入、偶数に結びつける）</span> </div><br><br> <a class=notranslate href=#1https://github.com/rust-lang/rust/issues/10184>float-int</a><script>_addload(function(){_setupIW('com');_csi('en','ja','casts.html');});</script>