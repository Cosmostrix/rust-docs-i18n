<!DOCTYPE html>
<h2>Procedural Macros</h2>
<br>
<p><i>Procedural macros</i> allow creating syntax extensions as execution of a function.
Procedural macros can be used to implement custom <a class="notranslate" href="#4derive">derive</a> on your own
types. See <a href="#3procedural macros">the book</a> for a tutorial.</p>
<br>
<p>Procedural macros involve a few different parts of the language and its
standard libraries. First is the <code>proc_macro</code> crate, included with Rust,
that defines an interface for building a procedural macro. The
<code>#[proc_macro_derive(Foo)]</code> attribute is used to mark the deriving
function. This function must have the type signature:</p>
<br>
<div data-lang="rust,ignore"><div data-l="use proc_macro::TokenStream;"></div><div data-l=""></div><div data-l="#[proc_macro_derive(Hello)]"></div><div data-l="pub fn hello_world(input: TokenStream) -&gt; TokenStream"></div></div>
<br>
<p>Finally, procedural macros must be in their own crate, with the <code>proc-macro</code>
crate type.</p>
<br>
<a class="notranslate" href="#1attributes.html#derive">derive</a>
<a class="notranslate" href="#1../book/first-edition/procedural-macros.html">procedural macros</a>