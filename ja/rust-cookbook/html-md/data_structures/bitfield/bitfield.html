<!DOCTYPE html>
<h2>Define and operate on a type represented as a bitfield</h2>
<br>
<p><a href="#3bitflags">!<a class="notranslate" href="#4bitflags-badge">bitflags-badge</a></a> <a href="#3cat-no-std">!<a class="notranslate" href="#4cat-no-std-badge">cat-no-std-badge</a></a></p>
<br>
<p>Creates type safe bitfield type <code>MyFlags</code> with help of <a class="notranslate" href="#4`bitflags!`">`bitflags!`</a> macro
and implements elementary <code>clear</code> operation as well as <a class="notranslate" href="#4`Display`">`Display`</a> trait for it.
Subsequently, shows basic bitwise operations and formatting.</p>
<br>
<div data-lang="rust"><div data-l="#[macro_use]"></div><div data-l="extern crate bitflags;"></div><div data-l=""></div><div data-l="use std::fmt;"></div><div data-l=""></div><div data-l="bitflags! {"></div><div data-l="    struct MyFlags: u32 {"></div><div data-l="        const FLAG_A       = 0b00000001;"></div><div data-l="        const FLAG_B       = 0b00000010;"></div><div data-l="        const FLAG_C       = 0b00000100;"></div><div data-l="        const FLAG_ABC     = Self::FLAG_A.bits"></div><div data-l="                           | Self::FLAG_B.bits"></div><div data-l="                           | Self::FLAG_C.bits;"></div><div data-l="    }"></div><div data-l="}"></div><div data-l=""></div><div data-l="impl MyFlags {"></div><div data-l="    pub fn clear(&amp;mut self) -&gt; &amp;mut MyFlags {"></div><div data-l="        self.bits = 0;  "></div><div data-l="        self"></div><div data-l="    }"></div><div data-l="}"></div><div data-l=""></div><div data-l="impl fmt::Display for MyFlags {"></div><div data-l="    fn fmt(&amp;self, f: &amp;mut fmt::Formatter) -&gt; fmt::Result {"></div><div data-l="        write!(f, &quot;{:032b}&quot;, self.bits)"></div><div data-l="    }"></div><div data-l="}"></div><div data-l=""></div><div data-l="fn main() {"></div><div data-l="    let e1 = MyFlags::FLAG_A | MyFlags::FLAG_C;"></div><div data-l="    let e2 = MyFlags::FLAG_B | MyFlags::FLAG_C;"></div><div data-l="    assert_eq!((e1 | e2), MyFlags::FLAG_ABC);   "></div><div data-l="    assert_eq!((e1 &amp; e2), MyFlags::FLAG_C);    "></div><div data-l="    assert_eq!((e1 - e2), MyFlags::FLAG_A);    "></div><div data-l="    assert_eq!(!e2, MyFlags::FLAG_A);           "></div><div data-l=""></div><div data-l="    let mut flags = MyFlags::FLAG_ABC;"></div><div data-l="    assert_eq!(format!(&quot;{}&quot;, flags), &quot;00000000000000000000000000000111&quot;);"></div><div data-l="    assert_eq!(format!(&quot;{}&quot;, flags.clear()), &quot;00000000000000000000000000000000&quot;);"></div><div data-l="    assert_eq!(format!(&quot;{:?}&quot;, MyFlags::FLAG_B), &quot;FLAG_B&quot;);"></div><div data-l="    assert_eq!(format!(&quot;{:?}&quot;, MyFlags::FLAG_A | MyFlags::FLAG_B), &quot;FLAG_A | FLAG_B&quot;);"></div><div data-l="}"></div></div>
<br>
<a class="notranslate" href="#1https://docs.rs/bitflags/*/bitflags/macro.bitflags.html">`bitflags!`</a>
<a class="notranslate" href="#1https://doc.rust-lang.org/std/fmt/trait.Display.html">`Display`</a>