<!DOCTYPE html>
<h2>Find the latest version satisfying given range</h2>
<br>
<p><a href="#3semver">!<a class="notranslate" href="#4semver-badge">semver-badge</a></a> <a href="#3cat-config">!<a class="notranslate" href="#4cat-config-badge">cat-config-badge</a></a></p>
<br>
<p>Given a list of version &amp;strs, finds the latest <a class="notranslate" href="#4`semver::Version`">`semver::Version`</a>.
<a class="notranslate" href="#4`semver::VersionReq`">`semver::VersionReq`</a> filters the list with <a class="notranslate" href="#4`VersionReq::matches`">`VersionReq::matches`</a>.
Also demonstrates <code>semver</code> pre-release preferences.</p>
<br>
<div data-lang="rust"><div data-l="# #[macro_use]"></div><div data-l="# extern crate error_chain;"></div><div data-l="extern crate semver;"></div><div data-l=""></div><div data-l="use semver::{Version, VersionReq};"></div><div data-l="#"></div><div data-l="# error_chain! {"></div><div data-l="#     foreign_links {"></div><div data-l="#         SemVer(semver::SemVerError);"></div><div data-l="#         SemVerReq(semver::ReqParseError);"></div><div data-l="#     }"></div><div data-l="# }"></div><div data-l=""></div><div data-l="fn find_max_matching_version&lt;'a, I&gt;(version_req_str: &amp;str, iterable: I) -&gt; Result&lt;Option&lt;Version&gt;&gt;"></div><div data-l="where"></div><div data-l="    I: IntoIterator&lt;Item = &amp;'a str&gt;,"></div><div data-l="{"></div><div data-l="    let vreq = VersionReq::parse(version_req_str)?;"></div><div data-l=""></div><div data-l="    Ok("></div><div data-l="        iterable"></div><div data-l="            .into_iter()"></div><div data-l="            .filter_map(|s| Version::parse(s).ok())"></div><div data-l="            .filter(|s| vreq.matches(s))"></div><div data-l="            .max(),"></div><div data-l="    )"></div><div data-l="}"></div><div data-l=""></div><div data-l="fn run() -&gt; Result&lt;()&gt; {"></div><div data-l="    assert_eq!("></div><div data-l="        find_max_matching_version(&quot;&lt;= 1.0.0&quot;, vec![&quot;0.9.0&quot;, &quot;1.0.0&quot;, &quot;1.0.1&quot;])?,"></div><div data-l="        Some(Version::parse(&quot;1.0.0&quot;)?)"></div><div data-l="    );"></div><div data-l=""></div><div data-l="    assert_eq!("></div><div data-l="        find_max_matching_version("></div><div data-l="            &quot;&gt;1.2.3-alpha.3&quot;,"></div><div data-l="            vec!["></div><div data-l="                &quot;1.2.3-alpha.3&quot;,"></div><div data-l="                &quot;1.2.3-alpha.4&quot;,"></div><div data-l="                &quot;1.2.3-alpha.10&quot;,"></div><div data-l="                &quot;1.2.3-beta.4&quot;,"></div><div data-l="                &quot;3.4.5-alpha.9&quot;,"></div><div data-l="            ]"></div><div data-l="        )?,"></div><div data-l="        Some(Version::parse(&quot;1.2.3-beta.4&quot;)?)"></div><div data-l="    );"></div><div data-l=""></div><div data-l="    Ok(())"></div><div data-l="}"></div><div data-l="#"></div><div data-l="# quick_main!(run);"></div></div>
<br>
<a class="notranslate" href="#1https://docs.rs/semver/*/semver/struct.Version.html">`semver::Version`</a>
<a class="notranslate" href="#1https://docs.rs/semver/*/semver/struct.VersionReq.html">`semver::VersionReq`</a>
<a class="notranslate" href="#1https://docs.rs/semver/*/semver/struct.VersionReq.html#method.matches">`VersionReq::matches`</a>