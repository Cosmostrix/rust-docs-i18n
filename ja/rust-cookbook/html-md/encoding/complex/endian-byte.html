<!DOCTYPE html>
<h2>Read and write integers in little-endian byte order</h2>
<br>
<p><a href="#3byteorder">!<a class="notranslate" href="#4byteorder-badge">byteorder-badge</a></a> <a href="#3cat-encoding">!<a class="notranslate" href="#4cat-encoding-badge">cat-encoding-badge</a></a></p>
<br>
<p><code>byteorder</code> can reverse the significant bytes of structured data.  This may
be necessary when receiving information over the network, such that bytes
received are from another system.</p>
<br>
<div data-lang="rust"><div data-l="# #[macro_use]"></div><div data-l="# extern crate error_chain;"></div><div data-l="extern crate byteorder;"></div><div data-l=""></div><div data-l="use byteorder::{LittleEndian, ReadBytesExt, WriteBytesExt};"></div><div data-l=""></div><div data-l="#[derive(Default, PartialEq, Debug)]"></div><div data-l="struct Payload {"></div><div data-l="    kind: u8,"></div><div data-l="    value: u16,"></div><div data-l="}"></div><div data-l="#"></div><div data-l="# error_chain! {"></div><div data-l="#     foreign_links {"></div><div data-l="#         Io(std::io::Error);"></div><div data-l="#     }"></div><div data-l="# }"></div><div data-l=""></div><div data-l="fn run() -&gt; Result&lt;()&gt; {"></div><div data-l="    let original_payload = Payload::default();"></div><div data-l="    let encoded_bytes = encode(&amp;original_payload)?;"></div><div data-l="    let decoded_payload = decode(&amp;encoded_bytes)?;"></div><div data-l="    assert_eq!(original_payload, decoded_payload);"></div><div data-l="    Ok(())"></div><div data-l="}"></div><div data-l=""></div><div data-l="fn encode(payload: &amp;Payload) -&gt; Result&lt;Vec&lt;u8&gt;&gt; {"></div><div data-l="    let mut bytes = vec![];"></div><div data-l="    bytes.write_u8(payload.kind)?;"></div><div data-l="    bytes.write_u16::&lt;LittleEndian&gt;(payload.value)?;"></div><div data-l="    Ok(bytes)"></div><div data-l="}"></div><div data-l=""></div><div data-l="fn decode(mut bytes: &amp;[u8]) -&gt; Result&lt;Payload&gt; {"></div><div data-l="    let payload = Payload {"></div><div data-l="        kind: bytes.read_u8()?,"></div><div data-l="        value: bytes.read_u16::&lt;LittleEndian&gt;()?,"></div><div data-l="    };"></div><div data-l="    Ok(payload)"></div><div data-l="}"></div><div data-l="#"></div><div data-l="# quick_main!(run);"></div></div>