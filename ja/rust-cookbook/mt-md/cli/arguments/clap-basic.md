## <!--Parse command line arguments--> コマンドライン引数を解析する

<!--[!][clap]-->
[！][clap]
<!--[clap-badge] [!][cat-command-line]-->
[clap-badge] [！][cat-command-line]
[cat-command-line-badge]
<!--This application describes the structure of its command-line interface using `clap` 's builder style.-->
このアプリケーションでは、`clap`のビルダースタイルを使用したコマンドラインインターフェイスの構造について説明します。
<!--The [documentation] gives two other possible ways to instantiate an application.-->
この[documentation]は、アプリケーションをインスタンス化する2つの方法を示します。

<!--In the builder style, `with_name` is the unique identifier that `value_of` will use to retrieve the value passed.-->
ビルダーのスタイルでは、`with_name`一意の識別子である`value_of`渡された値を取得するために使用されます。
<!--The `short` and `long` options control the flag the user will be expected to type;-->
`short`オプションと`long`オプションは、ユーザーが入力する予定のフラグを制御します。
<!--short flags look like `-f` and long flags look like `--file`.-->
短いフラグは`-f`ように見え、長いフラグは`--file`ように`--file`ます。

```rust
extern crate clap;

use clap::{Arg, App};

fn main() {
    let matches = App::new("My Test Program")
        .version("0.1.0")
        .author("Hackerman Jones <hckrmnjones@hack.gov>")
        .about("Teaches argument parsing")
        .arg(Arg::with_name("file")
                 .short("f")
                 .long("file")
                 .takes_value(true)
                 .help("A cool file"))
        .arg(Arg::with_name("num")
                 .short("n")
                 .long("number")
                 .takes_value(true)
                 .help("Five less than your favorite number"))
        .get_matches();

    let myfile = matches.value_of("file").unwrap_or("input.txt");
    println!("The file passed is: {}", myfile);

    let num_str = matches.value_of("num");
    match num_str {
        None => println!("No idea what your favorite number is."),
        Some(s) => {
            match s.parse::<i32>() {
                Ok(n) => println!("Your favorite number must be {}.", n + 5),
                Err(_) => println!("That's not a number! {}", s),
            }
        }
    }
}
```

<!--Usage information is generated by `clap`.-->
使用情報は、`clap`によって生成されます。
<!--The usage for the example application looks like this.-->
サンプルアプリケーションの使用法は次のようになります。

```
My Test Program 0.1.0
Hackerman Jones <hckrmnjones@hack.gov>
Teaches argument parsing

USAGE:
    testing [OPTIONS]

FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information

OPTIONS:
    -f, --file <file>     A cool file
    -n, --number <num>    Five less than your favorite number
```

<!--We can test the application by running a command like the following.-->
アプリケーションをテストするには、次のようなコマンドを実行します。

```
$ cargo run -- -f myfile.txt -n 251
```

<!--The output is:-->
出力は次のとおりです。

```
The file passed is: myfile.txt
Your favorite number must be 256.
```

[documentation]: https://docs.rs/clap/
