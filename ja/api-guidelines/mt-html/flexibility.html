<!DOCTYPE html><html lang=ja-x-mtfrom-en><head><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(window);
</script><script src="https://translate.googleusercontent.com/translate/releases/twsfe_w_20180723_RC00/r/js/translate_c.js"></script><script>_intlStrings._originalText = "英語の原文テキスト:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="en|ja";_intlStrings._feedbackUrl="https://translate.google.com/translate_suggestion";_intlStrings._currentBy="%1$s に %2$s により翻訳されました";_intlStrings._unknown="不明";_intlStrings._suggestTranslation="翻訳を改善する"  ;_intlStrings._submit="送信";_intlStrings._suggestThanks="Google 翻訳の改善にご協力いただきありがとうございました。";_intlStrings._reverse=false;_intlStrings._staticContentPath="https://www.gstatic.com/translate/infowindow/";</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href=flexibility.html hreflang=en rel="alternate machine-translated-from"><base href="" target=_top /></head><body><iframe src="https://translate.google.com/translate_un?hl=ja&prev=_t&sl=en&tl=ja&lang=en&usg=ALkJrhi1BDLmdbWiRXYMNxkaJ7TdmUrvmA" width=0 height=0 frameborder=0 style="width:0px;height:0px;border:0px;display:none;"></iframe><h1> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Flexibility</span>柔軟性</span> </h1><br><br><p><a id=c-intermediate></a> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">## Functions expose intermediate results to avoid duplicate work (C-INTERMEDIATE)</span> ##重複作業を避けるために中間結果を公開する関数（C-INTERMEDIATE）</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Many functions that answer a question also compute interesting related data.</span>質問に答える多くの関数も興味深い関連データを計算します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If this data is potentially of interest to the client, consider exposing it in the API.</span>このデータがクライアントにとって興味深い可能性がある場合は、APIに公開することを検討してください。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Examples from the standard library</span>標準ライブラリの例</span> </h3><br><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a class=notranslate href="#4`Vec::binary_search`">`Vec::binary_search`</a> does not return a <code>bool</code> of whether the value was found, nor an <code>Option&lt;usize&gt;</code> of the index at which the value was maybe found.</span> <a class=notranslate href="#4`Vec::binary_search`">`Vec::binary_search`</a>は、値が見つかったかどうか、値が見つかった可能性のあるインデックスの<code>Option&lt;usize&gt;</code>の<code>bool</code>を返しません。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Instead it returns information about the index if found, and also the index at which the value would need to be inserted if not found.</span>代わりに、見つかった場合はインデックスに関する情報を返し、見つからなければ値を挿入する必要のあるインデックスも返します。</span> </div><br><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a class=notranslate href="#4`String::from_utf8`">`String::from_utf8`</a> may fail if the input bytes are not UTF-8.</span>入力バイトがUTF-8でない場合、 <a class=notranslate href="#4`String::from_utf8`">`String::from_utf8`</a>が失敗することがあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">In the error case it returns an intermediate result that exposes the byte offset up to which the input was valid UTF-8, as well as handing back ownership of the input bytes.</span>エラーの場合、入力バイトの所有権を引き渡すだけでなく、入力が有効なUTF-8までのバイトオフセットを公開する中間結果を返します。</span> </div><br><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a class=notranslate href="#4`HashMap::insert`">`HashMap::insert`</a> returns an <code>Option&lt;T&gt;</code> that returns the preexisting value for a given key, if any.</span> <a class=notranslate href="#4`HashMap::insert`">`HashMap::insert`</a>は、指定されたキーがある場合には既存の値を返す<code>Option&lt;T&gt;</code>を返します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For cases where the user wants to recover this value having it returned by the insert operation avoids the user having to do a second hash table lookup.</span>ユーザがこの値を回復したい場合、挿入操作によって返された値を使用して、ユーザが第2のハッシュテーブルルックアップを行う必要がなくなります。</span> </div><br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a class=notranslate href=#1https://doc.rust-lang.org/std/vec/struct.Vec.html#method.binary_search>`Vec::binary_search`</a> <a class=notranslate href=#1https://doc.rust-lang.org/std/string/struct.String.html#method.from_utf8>`String::from_utf8`</a> <a class=notranslate href=#1https://doc.rust-lang.org/stable/std/collections/struct.HashMap.html#method.insert>`HashMap::insert`</a></span> <a class=notranslate href=#1https://doc.rust-lang.org/std/vec/struct.Vec.html#method.binary_search>`Vec::binary_search`</a> <a class=notranslate href=#1https://doc.rust-lang.org/std/string/struct.String.html#method.from_utf8>`String::from_utf8`</a> <a class=notranslate href=#1https://doc.rust-lang.org/stable/std/collections/struct.HashMap.html#method.insert>`HashMap::insert`</a></span> <br><br><p><a id=c-caller-control></a> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">## Caller decides where to copy and place data (C-CALLER-CONTROL)</span> ##発信者はデータをコピーして配置する場所を決定します（C-CALLER-CONTROL）</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If a function requires ownership of an argument, it should take ownership of the argument rather than borrowing and cloning the argument.</span>関数が引数の所有権を必要とする場合、引数を借用して複製するのではなく、引数の所有権を取得する必要があります。</span> </p><br><div data-lang=rust><div data-l="#// Prefer this:"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Prefer this:</span>これを好む：</span> </div><div data-l="fn foo(b: Bar) {"></div><div data-l="    /* use b as owned, directly */"></div><div data-l=}></div><div data-l=""></div><div data-l="#// Over this:"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Over this:</span>これ以上：</span> </div><div data-l="fn foo(b: &amp;Bar) {"></div><div data-l="    let b = b.clone();"></div><div data-l="    /* use b as owned after cloning */"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If a function <i>does not</i> require ownership of an argument, it should take a shared or exclusive borrow of the argument rather than taking ownership and dropping the argument.</span>関数<i>が</i>引数の所有権を必要と<i>しない</i>場合は、所有権を取得し引数を削除するのではなく、引数を共有または排他的に借用する必要があります。</span> </p><br><div data-lang=rust><div data-l="#// Prefer this:"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Prefer this:</span>これを好む：</span> </div><div data-l="fn foo(b: &amp;Bar) {"></div><div data-l="    /* use b as borrowed */"></div><div data-l=}></div><div data-l=""></div><div data-l="#// Over this:"></div><div data-l="// "> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Over this:</span>これ以上：</span> </div><div data-l="fn foo(b: Bar) {"></div><div data-l="    /* use b as borrowed, it is implicitly dropped before function returns */"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <code>Copy</code> trait should only be used as a bound when absolutely needed, not as a way of signaling that copies should be cheap to make.</span> <code>Copy</code>特性は、コピーが安価でなければならないことを通知する方法としてではなく、絶対に必要な場合にのみバインドとして使用する必要があります。</span> </p><br><br><p><a id=c-generic></a> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">## Functions minimize assumptions about parameters by using generics (C-GENERIC)</span> ##関数は、ジェネリック（C-GENERIC）を使用してパラメータに関する仮定を最小限に抑えます。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The fewer assumptions a function makes about its inputs, the more widely usable it becomes.</span>関数がその入力について行う仮定が少ないほど、より広く使用できるようになります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Prefer</span>好む</span> </p><br><div data-lang=rust><div data-l="fn foo&lt;I: IntoIterator&lt;Item = i64&gt;&gt;(iter: I) { /* ... */ }"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">over any of</span>いずれかの</span> </p><br><div data-lang=rust><div data-l="fn foo(c: &amp;[i64]) { /* ... */ }"></div><div data-l="fn foo(c: &amp;Vec&lt;i64&gt;) { /* ... */ }"></div><div data-l="fn foo(c: &amp;SomeOtherCollection&lt;i64&gt;) { /* ... */ }"></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">if the function only needs to iterate over the data.</span>関数がデータを繰り返し処理する必要がある場合。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">More generally, consider using generics to pinpoint the assumptions a function needs to make about its arguments.</span>より一般的には、ジェネリックスを使用して、関数がその引数について行う必要がある仮定を特定することを検討してください。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Advantages of generics</span>ジェネリック医薬品の利点</span> </h3><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><s>Reusability</s> .</span> <s>再利用性</s> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Generic functions can be applied to an open-ended collection of types, while giving a clear contract for the functionality those types must provide.</span>汎用関数は、型の自由な集合に適用することができ、それらの型が提供しなければならない機能について明確な契約をします。</span> </div><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><s>Static dispatch and optimization</s> .</span> <s>静的なディスパッチと最適化</s> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Each use of a generic function is specialized (&quot;monomorphized&quot;) to the particular types implementing the trait bounds, which means that (1) invocations of trait methods are static, direct calls to the implementation and (2) the compiler can inline and otherwise optimize these calls.</span> （1）形質メソッドの呼び出しは静的であり、実装への直接呼び出しであり、（2）コンパイラはインラインでも他の方法でも可能であることを意味するこれらの呼び出しを最適化します。</span> </div><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><s>Inline layout</s> .</span> <s>インラインレイアウト</s> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If a <code>struct</code> and <code>enum</code> type is generic over some type parameter <code>T</code> , values of type <code>T</code> will be laid out inline in the <code>struct</code> / <code>enum</code> , without any indirection.</span> <code>struct</code>と<code>enum</code>型がいくつかの型パラメータ<code>T</code>に対して汎用である場合、型<code>T</code>値は間接的な指定なしで<code>struct</code> / <code>enum</code>インラインで配置されます。</span> </div><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><s>Inference</s> .</span> <s>推論</s> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Since the type parameters to generic functions can usually be inferred, generic functions can help cut down on verbosity in code where explicit conversions or other method calls would usually be necessary.</span>ジェネリック関数への型パラメータは通常推論できるので、ジェネリック関数は、通常は明示的な変換や他のメソッド呼び出しが必要なコードの冗長性を減らすのに役立ちます。</span> </div><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><s>Precise types</s> .</span> <s>正確なタイプ</s> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Because generic give a <s>name</s> to the specific type implementing a trait, it is possible to be precise about places where that exact type is required or produced.</span>ジェネリックは特性を実装する特定のタイプに<s>名前</s>を付けるので、その正確なタイプが必要とされる場所や生成される場所について正確にすることが可能です。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">For example, a function</span>例えば、関数</span> </div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">` <code class=2>rust fn binary&lt;T: Trait&gt;(x: T, y: T) -&gt; T</code> `</span> ` <code class=2>rust fn binary&lt;T: Trait&gt;(x: T, y: T) -&gt; T</code> T`</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">is guaranteed to consume and produce elements of exactly the same type <code>T</code> ;</span>厳密に同じタイプ<code>T</code>要素を消費して生成することが保証されている。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">it cannot be invoked with parameters of different types that both implement <code>Trait</code> .</span>両方とも<code>Trait</code>実装する異なる型のパラメータで呼び出すことはできません。</span> </p><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Disadvantages of generics</span>ジェネリック医薬品の短所</span> </h3><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><s>Code size</s> .</span> <s>コードサイズ</s> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Specializing generic functions means that the function body is duplicated.</span>汎用関数の特殊化は、関数本体が複製されることを意味します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The increase in code size must be weighed against the performance benefits of static dispatch.</span>コードサイズの増加は、静的ディスパッチのパフォーマンス上の利点と比較して重視する必要があります。</span> </div><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><s>Homogeneous types</s> .</span> <s>同種のタイプ</s> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This is the other side of the &quot;precise types&quot; coin: if <code>T</code> is a type parameter, it stands for a <s>single</s> actual type.</span>これは「正確な型」コインのもう1つの側面です<code>T</code>が型パラメータの場合、それは<s>単一の</s>実際の型を表します。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">So for example a <code>Vec&lt;T&gt;</code> contains elements of a single concrete type (and, indeed, the vector representation is specialized to lay these out in line).</span>たとえば、 <code>Vec&lt;T&gt;</code>には1つの具体的な型の要素が含まれています（実際には、ベクトル表現はこれらを並び替えるように特化されています）。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Sometimes heterogeneous collections are useful;</span>場合によっては異種コレクションが有用な場合もあります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">see <a href=#3C-OBJECT>trait objects</a> .</span> <a href=#3C-OBJECT>特性オブジェクトを</a>参照してください。</span> </div><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><s>Signature verbosity</s> .</span> <s>署名の冗長性</s> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Heavy use of generics can make it more difficult to read and understand a function&#39;s signature.</span>ジェネリックを多用すると、関数のシグネチャを読み、理解することがより困難になる可能性があります。</span> </div><br> <a class=notranslate href=#1#c-object>C-OBJECT</a> <br> <h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Examples from the standard library</span>標準ライブラリの例</span> </h3><br><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a class=notranslate href="#4`std::fs::File::open`">`std::fs::File::open`</a> takes an argument of generic type <code>AsRef&lt;Path&gt;</code> .</span> <a class=notranslate href="#4`std::fs::File::open`">`std::fs::File::open`</a>はジェネリック型<code>AsRef&lt;Path&gt;</code>引数をとります。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">This allows files to be opened conveniently from a string literal <code>&quot;f.txt&quot;</code> , a <a class=notranslate href="#4`Path`">`Path`</a> , an <a class=notranslate href="#4`OsString`">`OsString`</a> , and a few other types.</span>これにより、文字列リテラル<code>&quot;f.txt&quot;</code> 、 <a class=notranslate href="#4`Path`">`Path`</a> 、 <a class=notranslate href="#4`OsString`">`OsString`</a> 、その他のいくつかのタイプからファイルを簡単に開くことができます。</span> </div><br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a class=notranslate href=#1https://doc.rust-lang.org/std/fs/struct.File.html#method.open>`std::fs::File::open`</a> <a class=notranslate href=#1https://doc.rust-lang.org/std/path/struct.Path.html>`Path`</a> <a class=notranslate href=#1https://doc.rust-lang.org/std/ffi/struct.OsString.html>`OsString`</a></span> <a class=notranslate href=#1https://doc.rust-lang.org/std/fs/struct.File.html#method.open>`std::fs::File::open`</a> <a class=notranslate href=#1https://doc.rust-lang.org/std/path/struct.Path.html>`Path`</a> <a class=notranslate href=#1https://doc.rust-lang.org/std/ffi/struct.OsString.html>`OsString`</a></span> <br><br><p><a id=c-object></a> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">## Traits are object-safe if they may be useful as a trait object (C-OBJECT)</span> ##形質は形質オブジェクト（C-OBJECT）として有用である場合、オブジェクトセーフであり、</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Trait objects have some significant limitations: methods invoked through a trait object cannot use generics, and cannot use <code>Self</code> except in receiver position.</span> Traitオブジェクトにはいくつかの重要な制限があります。特性オブジェクトを通じて呼び出されるメソッドはジェネリックを使用できず、受信者の位置以外では<code>Self</code>は使用できません。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When designing a trait, decide early on whether the trait will be used as an object or as a bound on generics.</span>形質を設計する際には、その形質が目的として使用されるのか、ジェネリックの限界として使用されるのかを早期に決定する。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">If a trait is meant to be used as an object, its methods should take and return trait objects rather than use generics.</span>形質がオブジェクトとして使用されることになっている場合、そのメソッドはジェネリックを使用するのではなく、特性オブジェクトを取得して返す必要があります。</span> </p><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">A <code>where</code> clause of <code>Self: Sized</code> may be used to exclude specific methods from the trait&#39;s object.</span> <code>Self: Sized</code> <code>where</code>句を使用して、特性のオブジェクトから特定のメソッドを除外することができます。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The following trait is not object-safe due to the generic method.</span>次の特性は、汎用メソッドのためにオブジェクトセーフではありません。</span> </p><br><div data-lang=rust><div data-l="trait MyTrait {"></div><div data-l="    fn object_safe(&amp;self, i: i32);"></div><div data-l=""></div><div data-l="    fn not_object_safe&lt;T&gt;(&amp;self, t: T);"></div><div data-l=}></div></div><br><p> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Adding a requirement of <code>Self: Sized</code> to the generic method excludes it from the trait object and makes the trait object-safe.</span> <code>Self: Sized</code>という一般的なメソッドの要件を追加すると、それを特性オブジェクトから除外し、その特性をオブジェクト安全にします。</span> </p><br><div data-lang=rust><div data-l="trait MyTrait {"></div><div data-l="    fn object_safe(&amp;self, i: i32);"></div><div data-l=""></div><div data-l="    fn not_object_safe&lt;T&gt;(&amp;self, t: T) where Self: Sized;"></div><div data-l=}></div></div><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Advantages of trait objects</span>特性オブジェクトの利点</span> </h3><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><s>Heterogeneity</s> .</span> <s>異種性</s> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">When you need it, you really need it.</span>あなたがそれを必要とするとき、あなたは本当にそれを必要とします。</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><s>Code size</s> .</span> <s>コードサイズ</s> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Unlike generics, trait objects do not generate specialized (monomorphized) versions of code, which can greatly reduce code size.</span>ジェネリックと異なり、特性オブジェクトはコードの特殊なバージョンを生成することはなく、コードサイズを大幅に削減することができます。</span> </div><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Disadvantages of trait objects</span>形質オブジェクトの短所</span> </h3><br><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><s>No generic methods</s> .</span> <s>一般的な方法はありません</s> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Trait objects cannot currently provide generic methods.</span> Traitオブジェクトは現在、汎用メソッドを提供することができません。</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><s>Dynamic dispatch and fat pointers</s> .</span> <s>動的ディスパッチおよびファットポインタ</s></span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Trait objects inherently involve indirection and vtable dispatch, which can carry a performance penalty.</span>特性オブジェクトは、本質的に、インダイレクションおよびvtableディスパッチを含み、これはパフォーマンス上のペナルティをもたらす可能性がある。</span> </div><div data-b=*> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><s>No Self</s> .</span> <s>自己はいません</s> 。</span> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Except for the method receiver argument, methods on trait objects cannot use the <code>Self</code> type.</span>メソッドのreceiver引数を除いて、traitオブジェクトのメソッドは<code>Self</code>型を使用できません。</span> </div><br><h3> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Examples from the standard library</span>標準ライブラリの例</span> </h3><br><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <a class=notranslate href="#4`io::Read`">`io::Read`</a> and <a class=notranslate href="#4`io::Write`">`io::Write`</a> traits are often used as objects.</span> <a class=notranslate href="#4`io::Read`">`io::Read`</a>と<a class=notranslate href="#4`io::Write`">`io::Write`</a>は、しばしばオブジェクトとして使われます。</span> </div><div data-b=-> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">The <a class=notranslate href="#4`Iterator`">`Iterator`</a> trait has several generic methods marked with <code>where Self: Sized</code> to retain the ability to use <code>Iterator</code> as an object.</span> <a class=notranslate href="#4`Iterator`">`Iterator`</a>特性は、 <code>Iterator</code>をオブジェクトとして使用する能力を保持するために、 <code>where Self: Sized</code>とマークされたいくつかの一般的なメソッドを持っています。</span> </div><br> <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a class=notranslate href=#1https://doc.rust-lang.org/std/io/trait.Read.html>`io::Read`</a> <a class=notranslate href=#1https://doc.rust-lang.org/std/io/trait.Write.html>`io::Write`</a> <a class=notranslate href=#1https://doc.rust-lang.org/std/iter/trait.Iterator.html>`Iterator`</a></span> <a class=notranslate href=#1https://doc.rust-lang.org/std/io/trait.Read.html>`io::Read`</a> <a class=notranslate href=#1https://doc.rust-lang.org/std/io/trait.Write.html>`io::Write`</a> <a class=notranslate href=#1https://doc.rust-lang.org/std/iter/trait.Iterator.html>`Iterator`</a></span><script>_addload(function(){_setupIW('com');_csi('en','ja','flexibility.html');});</script>